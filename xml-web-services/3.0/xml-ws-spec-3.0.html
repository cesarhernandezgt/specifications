<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Jakarta XML Web Services Team, https://projects.eclipse.org/projects/ee4j.jaxws">
<title>Jakarta XML Web Services</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Jakarta XML Web Services</h1>
<div class="details">
<span id="author" class="author">Jakarta XML Web Services Team, https://projects.eclipse.org/projects/ee4j.jaxws</span><br>
<span id="email" class="email"><a href="https://dev.eclipse.org/mailman/listinfo/jaxws-dev" class="bare">https://dev.eclipse.org/mailman/listinfo/jaxws-dev</a></span><br>
<span id="revnumber"> 3.0,</span>
<span id="revdate">July 28, 2020</span>
<br><span id="revremark">Final Release</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel2">
<li><a href="#eclipse-foundation-specification-license">Eclipse Foundation Specification License</a>
<ul class="sectlevel3">
<li><a href="#disclaimers">Disclaimers</a></li>
</ul>
</li>
<li><a href="#scope">1. Scope</a></li>
<li><a href="#jakarta-xml-based-web-services-version-2-3">Jakarta XML-Based Web Services, Version 2.3</a>
<ul class="sectlevel1">
<li><a href="#introduction">2. Introduction</a>
<ul class="sectlevel2">
<li><a href="#goals">2.1. Goals</a></li>
<li><a href="#nongoals20">2.2. Non-Goals</a></li>
<li><a href="#requirements">2.3. Requirements</a>
<ul class="sectlevel3">
<li><a href="#relationship-to-jaxb">2.3.1. Relationship To JAXB</a></li>
<li><a href="#standardized-wsdl-mapping">2.3.2. Standardized WSDL Mapping</a></li>
<li><a href="#customizable-wsdl-mapping">2.3.3. Customizable WSDL Mapping</a></li>
<li><a href="#standardized-protocol-bindings">2.3.4. Standardized Protocol Bindings</a></li>
<li><a href="#standardized-transport-bindings">2.3.5. Standardized Transport Bindings</a></li>
<li><a href="#standardized-handler-framework">2.3.6. Standardized Handler Framework</a></li>
<li><a href="#versioning-and-evolution">2.3.7. Versioning and Evolution</a></li>
<li><a href="#standardized-synchronous-and-asynchronous-invocation">2.3.8. Standardized Synchronous and Asynchronous Invocation</a></li>
<li><a href="#session-management">2.3.9. Session Management</a></li>
</ul>
</li>
<li><a href="#use-cases">2.4. Use Cases</a>
<ul class="sectlevel3">
<li><a href="#handler-framework">2.4.1. Handler Framework</a>
<ul class="sectlevel4">
<li><a href="#reliable-messaging-support">2.4.1.1. Reliable Messaging Support</a></li>
<li><a href="#message-logging">2.4.1.2. Message Logging</a></li>
<li><a href="#ws-i-conformance-checking">2.4.1.3. WS-I Conformance Checking</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#conventions">2.5. Conventions</a></li>
<li><a href="#expert-group-members">2.6. Expert Group Members</a></li>
<li><a href="#acknowledgements">2.7. Acknowledgements</a></li>
</ul>
</li>
<li><a href="#wsdl112java">3. WSDL 1.1 to Java Mapping</a>
<ul class="sectlevel2">
<li><a href="#wsdl11defmap">3.1. Definitions</a>
<ul class="sectlevel3">
<li><a href="#extensibility">3.1.1. Extensibility</a></li>
</ul>
</li>
<li><a href="#wsdl11porttype">3.2. Port Type</a></li>
<li><a href="#wsdl11opmap">3.3. Operation</a>
<ul class="sectlevel3">
<li><a href="#msgandpart">3.3.1. Message and Part</a>
<ul class="sectlevel4">
<li><a href="#non-wrapper-style">3.3.1.1. Non-wrapper Style</a></li>
<li><a href="#wrappedstyle">3.3.1.2. Wrapper Style</a></li>
<li><a href="#example">3.3.1.3. Example</a></li>
</ul>
</li>
<li><a href="#paramorderandreturn">3.3.2. Parameter Order and Return Type</a></li>
<li><a href="#wsd112jholders">3.3.3. Holder Class</a></li>
<li><a href="#wsdl11asyncmethod">3.3.4. Asynchrony</a>
<ul class="sectlevel4">
<li><a href="#standard-asynchronous-interfaces">3.3.4.1. Standard Asynchronous Interfaces</a></li>
<li><a href="#operation">3.3.4.2. Operation</a></li>
<li><a href="#message-and-part">3.3.4.3. Message and Part</a></li>
<li><a href="#wsdl11responsebean">3.3.4.4. Response Bean</a></li>
<li><a href="#wsdl112jasyncfaults">3.3.4.5. Faults</a></li>
<li><a href="#mapping-examples">3.3.4.6. Mapping Examples</a></li>
<li><a href="#usage-examples">3.3.4.7. Usage Examples</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#wsdl11typemapping">3.4. Types</a>
<ul class="sectlevel3">
<li><a href="#w3ceprmapping">3.4.1. W3CEndpointReference</a></li>
</ul>
</li>
<li><a href="#faulttoexceptmap">3.5. Fault</a>
<ul class="sectlevel3">
<li><a href="#example-1">3.5.1. Example</a></li>
</ul>
</li>
<li><a href="#wsdl11bindingmap">3.6. Binding</a>
<ul class="sectlevel3">
<li><a href="#">3.6.1. </a></li>
<li><a href="#wsdl11soapbindingmap">3.6.2. SOAP Binding</a>
<ul class="sectlevel4">
<li><a href="#wsdl11headbindext">3.6.2.1. Header Binding Extension</a></li>
</ul>
</li>
<li><a href="#wsdl11mimebindingmap">3.6.3. MIME Binding</a>
<ul class="sectlevel4">
<li><a href="#mimecontent">3.6.3.1. <code>mime:content</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#gensvcif">3.7. Service and Port</a>
<ul class="sectlevel3">
<li><a href="#example-2">3.7.1. Example</a></li>
</ul>
</li>
<li><a href="#xmlnames">3.8. XML Names</a>
<ul class="sectlevel3">
<li><a href="#namecollisions">3.8.1. Name Collisions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#j2wsdl11chap">4. Java to WSDL 1.1 Mapping</a>
<ul class="sectlevel2">
<li><a href="#javanames">4.1. Java Names</a>
<ul class="sectlevel3">
<li><a href="#javanamecollisions">4.1.1. Name Collisions</a></li>
</ul>
</li>
<li><a href="#j2w11package">4.2. Package</a></li>
<li><a href="#j2ws11class">4.3. Class</a></li>
<li><a href="#j2wsdl11interface">4.4. Interface</a>
<ul class="sectlevel3">
<li><a href="#inheritance">4.4.1. Inheritance</a></li>
</ul>
</li>
<li><a href="#j2w11method">4.5. Method</a>
<ul class="sectlevel3">
<li><a href="#j2wsdl11onewayops">4.5.1. One Way Operations</a></li>
<li><a href="#wsamComputation">4.5.2. wsam:Action Computation Algorithm</a></li>
</ul>
</li>
<li><a href="#j2w11methodparams">4.6. Method Parameters and Return Type</a>
<ul class="sectlevel3">
<li><a href="#j2wsdl11paramclass">4.6.1. Parameter and Return Type Classification</a></li>
<li><a href="#jaxbargmap">4.6.2. Use of JAXB</a>
<ul class="sectlevel4">
<li><a href="#j2wsdldocwrapped">4.6.2.1. Document Wrapped</a></li>
<li><a href="#j2wsdl11docbaremap">4.6.2.2. Document Bare</a></li>
<li><a href="#rpc">4.6.2.3. RPC</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#j2w11except">4.7. Service Specific Exception</a></li>
<li><a href="#j2w11bindings">4.8. Bindings</a>
<ul class="sectlevel3">
<li><a href="#j2w11bindif">4.8.1. Interface</a></li>
<li><a href="#method-and-parameters">4.8.2. Method and Parameters</a></li>
</ul>
</li>
<li><a href="#generics">4.9. Generics</a></li>
<li><a href="#j2w11soapbinding">4.10. SOAP HTTP Binding</a>
<ul class="sectlevel3">
<li><a href="#j2w11soapbindif">4.10.1. Interface</a></li>
<li><a href="#method-and-parameters-1">4.10.2. Method and Parameters</a></li>
</ul>
</li>
<li><a href="#j2w11svcports">4.11. Service and Ports</a></li>
</ul>
</li>
<li><a href="#client-apis">5. Client APIs</a>
<ul class="sectlevel2">
<li><a href="#serviceapi">5.1. javax.xml.ws.Service</a>
<ul class="sectlevel3">
<li><a href="#svcusage">5.1.1. Service Usage</a>
<ul class="sectlevel4">
<li><a href="#dynamiccase">5.1.1.1. Dynamic case</a></li>
<li><a href="#staticcase">5.1.1.2. Static case</a></li>
</ul>
</li>
<li><a href="#provider-and-service-delegate">5.1.2. Provider and Service Delegate</a></li>
<li><a href="#clienthandlerresolver">5.1.3. Handler Resolver</a></li>
<li><a href="#serviceexecutor">5.1.4. Executor</a></li>
</ul>
</li>
<li><a href="#bindingproviderif">5.2. javax.xml.ws.BindingProvider</a>
<ul class="sectlevel3">
<li><a href="#bindingproviderconfig">5.2.1. Configuration</a>
<ul class="sectlevel4">
<li><a href="#stdbpprops">5.2.1.1. Standard Properties</a></li>
<li><a href="#additional-properties">5.2.1.2. Additional Properties</a></li>
</ul>
</li>
<li><a href="#asynchronous-operations">5.2.2. Asynchronous Operations</a></li>
<li><a href="#proxies">5.2.3. Proxies</a>
<ul class="sectlevel4">
<li><a href="#example-3">5.2.3.1. Example</a></li>
</ul>
</li>
<li><a href="#stubexceptions">5.2.4. Exceptions</a></li>
</ul>
</li>
<li><a href="#dispatch">5.3. javax.xml.ws.Dispatch</a>
<ul class="sectlevel3">
<li><a href="#dispatchconfig">5.3.1. Configuration</a></li>
<li><a href="#operation-invocation">5.3.2. Operation Invocation</a></li>
<li><a href="#dispasyncresp">5.3.3. Asynchronous Response</a></li>
<li><a href="#using-jaxb">5.3.4. Using JAXB</a></li>
<li><a href="#examples">5.3.5. Examples</a>
<ul class="sectlevel4">
<li><a href="#synchronous-payload-oriented">5.3.5.1. Synchronous, Payload-Oriented</a></li>
<li><a href="#synchronous-message-oriented">5.3.5.2. Synchronous, Message-Oriented</a></li>
<li><a href="#synchronous-payload-oriented-with-jaxb-objects">5.3.5.3. Synchronous, Payload-Oriented With JAXB Objects</a></li>
<li><a href="#asynchronous-polling-message-oriented">5.3.5.4. Asynchronous, Polling, Message-Oriented</a></li>
<li><a href="#asynchronous-callback-payload-oriented">5.3.5.5. Asynchronous, Callback, Payload-Oriented</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#catalogfacility">5.4. Catalog Facility</a></li>
<li><a href="#endpointreference">5.5. javax.xml.ws.EndpointReference</a></li>
</ul>
</li>
<li><a href="#serviceapis">6. Service APIs</a>
<ul class="sectlevel2">
<li><a href="#providersvcapi">6.1. javax.xml.ws.Provider</a>
<ul class="sectlevel3">
<li><a href="#invocation">6.1.1. Invocation</a>
<ul class="sectlevel4">
<li><a href="#exceptions">6.1.1.1. Exceptions</a></li>
</ul>
</li>
<li><a href="#configuration">6.1.2. Configuration</a></li>
<li><a href="#examples-1">6.1.3. Examples</a>
<ul class="sectlevel4">
<li><a href="#simple-echo-service-reply-message-is-the-same-as-the-input-message">6.1.3.1. Simple echo service, reply message is the same as the input message</a></li>
<li><a href="#simple-static-reply-reply-message-contains-a-fixed-acknowlegment-element">6.1.3.2. Simple static reply, reply message contains a fixed acknowlegment element</a></li>
<li><a href="#using-jaxb-to-read-the-input-message-and-set-the-reply">6.1.3.3. Using JAXB to read the input message and set the reply</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#endpointif">6.2. javax.xml.ws.Endpoint</a>
<ul class="sectlevel3">
<li><a href="#endpointfactusage">6.2.1. Endpoint Usage</a></li>
<li><a href="#endpointpublishing">6.2.2. Publishing</a>
<ul class="sectlevel4">
<li><a href="#example-4">6.2.2.1. Example</a></li>
</ul>
</li>
<li><a href="#endpointpublishpermission">6.2.3. Publishing Permission</a></li>
<li><a href="#endpointmetadata">6.2.4. Endpoint Metadata</a></li>
<li><a href="#endpointcontract">6.2.5. Determining the Contract for an Endpoint</a>
<ul class="sectlevel4">
<li><a href="#contractseiendpoints">6.2.5.1. SEI-based Endpoints</a></li>
<li><a href="#contractproviderendpoints">6.2.5.2. Provider-based Endpoints</a></li>
<li><a href="#usingwsdllocationandmetadata">6.2.5.3. Use of <code>@WebService(wsdlLocation)</code> and Metadata</a></li>
<li><a href="#applicationspecifiedservice">6.2.5.4. Application-specified Service</a></li>
<li><a href="#application-specified-porttype">6.2.5.5. Application-specified PortType</a></li>
<li><a href="#application-specified-schema-or-no-metadata">6.2.5.6. Application-specified Schema or No Metadata</a></li>
</ul>
</li>
<li><a href="#endpointproperties">6.2.6. Endpoint Properties</a></li>
<li><a href="#endpointexecutor">6.2.7. Executor</a></li>
<li><a href="#epr5">6.2.8. javax.xml.ws.EndpointReference</a></li>
</ul>
</li>
<li><a href="#webservicecontext">6.3. javax.xml.ws.WebServiceContext</a>
<ul class="sectlevel3">
<li><a href="#messagecontext">6.3.1. MessageContext</a></li>
</ul>
</li>
<li><a href="#w3cendpointreferencebuilder">6.4. javax.xml.ws.wsaddressing.W3CEndpointReferenceBuilder</a></li>
</ul>
</li>
<li><a href="#core-apis">7. Core APIs</a>
<ul class="sectlevel2">
<li><a href="#protocolbinding">7.1. javax.xml.ws.Binding</a></li>
<li><a href="#spiprovider">7.2. javax.xml.ws.spi.Provider</a>
<ul class="sectlevel3">
<li><a href="#providerdiscovery">7.2.1. Configuration</a></li>
<li><a href="#providerendpointcreation">7.2.2. Creating Endpoint Objects</a></li>
<li><a href="#providerservicedelegatecreation">7.2.3. Creating ServiceDelegate Objects</a></li>
<li><a href="#readepr">7.2.4. EndpointReferences</a></li>
<li><a href="#getport">7.2.5. Getting Port Objects</a></li>
</ul>
</li>
<li><a href="#coresvcdelegate">7.3. javax.xml.ws.spi.ServiceDelegate</a></li>
<li><a href="#coreexceptions">7.4. Exceptions</a>
<ul class="sectlevel3">
<li><a href="#protocolspecificfaults">7.4.1. Protocol Specific Exception Handling</a>
<ul class="sectlevel4">
<li><a href="#client-side-example">7.4.1.1. Client Side Example</a></li>
<li><a href="#server-side-example">7.4.1.2. Server Side Example</a></li>
<li><a href="#onewayoperationexception">7.4.1.3. One-way Operations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#webservicefeature">7.5. javax.xml.ws.WebServiceFeature</a>
<ul class="sectlevel3">
<li><a href="#addressingfeature">7.5.1. javax.xml.ws.soap.AddressingFeature</a>
<ul class="sectlevel4">
<li><a href="#epr6">7.5.1.1. javax.xml.ws.EndpointReference</a></li>
<li><a href="#w3cepr">7.5.1.2. javax.xml.ws.W3CEndpointReference</a></li>
<li><a href="#mtomfeature">7.5.1.3. javax.xml.ws.soap.MTOMFeature</a></li>
<li><a href="#respbindfeature">7.5.1.4. javax.xml.ws.RespectBindingFeature</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#httpspi">7.6. javax.xml.ws.spi.http (HTTP SPI)</a></li>
</ul>
</li>
<li><a href="#metadata">8. Annotations</a>
<ul class="sectlevel2">
<li><a href="#mdservicemode">8.1. javax.xml.ws.ServiceMode</a></li>
<li><a href="#mdwebfault">8.2. javax.xml.ws.WebFault</a></li>
<li><a href="#mdrequestWrapper">8.3. javax.xml.ws.RequestWrapper</a></li>
<li><a href="#mdresponseWrapper">8.4. javax.xml.ws.ResponseWrapper</a></li>
<li><a href="#mdwebsvcclient">8.5. javax.xml.ws.WebServiceClient</a></li>
<li><a href="#mdwebendpoint">8.6. javax.xml.ws.WebEndpoint</a>
<ul class="sectlevel3">
<li><a href="#example-5">8.6.1. Example</a></li>
</ul>
</li>
<li><a href="#mdwebsvcprovider">8.7. javax.xml.ws.WebServiceProvider</a></li>
<li><a href="#mdbindingtype">8.8. javax.xml.ws.BindingType</a></li>
<li><a href="#mdwebsvcref">8.9. javax.xml.ws.WebServiceRef</a>
<ul class="sectlevel3">
<li><a href="#example-6">8.9.1. Example</a></li>
</ul>
</li>
<li><a href="#mdwebsvcrefs">8.10. javax.xml.ws.WebServiceRefs</a>
<ul class="sectlevel3">
<li><a href="#example-7">8.10.1. Example</a></li>
</ul>
</li>
<li><a href="#mdjsr181">8.11. Annotations Defined by JSR-181</a>
<ul class="sectlevel3">
<li><a href="#mdwebservice">8.11.1. javax.jws.WebService</a></li>
<li><a href="#mdwebmethod">8.11.2. javax.jws.WebMethod</a></li>
<li><a href="#mdoneway">8.11.3. javax.jws.OneWay</a></li>
<li><a href="#mdwebparam">8.11.4. javax.jws.WebParam</a></li>
<li><a href="#mdwebresult">8.11.5. javax.jws.WebResult</a></li>
<li><a href="#mdsoapbinding">8.11.6. javax.jws.SOAPBinding</a></li>
<li><a href="#mdhandlerchain">8.11.7. javax.jws.HandlerChain</a></li>
</ul>
</li>
<li><a href="#action">8.12. javax.xml.ws.Action</a></li>
<li><a href="#faultaction">8.13. javax.xml.ws.FaultAction</a></li>
<li><a href="#webservfeatureannotation">8.14. javax.xml.ws.spi.WebServiceFeatureAnnotation</a>
<ul class="sectlevel3">
<li><a href="#addrannotation">8.14.1. javax.xml.ws.soap.Addressing</a></li>
<li><a href="#mtomannotation">8.14.2. javax.xml.ws.soap.MTOM</a></li>
<li><a href="#respbindingannotation">8.14.3. javax.xml.ws.RespectBinding</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#customize">9. Customizations</a>
<ul class="sectlevel2">
<li><a href="#bindinglanguage">9.1. Binding Language</a></li>
<li><a href="#bindingdeclarationcontainer">9.2. Binding Declaration Container</a></li>
<li><a href="#embeddedbindingdeclarations">9.3. Embedded Binding Declarations</a>
<ul class="sectlevel3">
<li><a href="#embeddedbindingdeclarationsex">9.3.1. Example</a></li>
</ul>
</li>
<li><a href="#externalbindingfile">9.4. External Binding File</a>
<ul class="sectlevel3">
<li><a href="#externalbindingfileex">9.4.1. Example</a></li>
</ul>
</li>
<li><a href="#jaxbbindingdeclarations">9.5. Using JAXB Binding Declarations</a></li>
<li><a href="#scopingofbindings">9.6. Scoping of Bindings</a></li>
<li><a href="#standardbindingdeclarations">9.7. Standard Binding Declarations</a>
<ul class="sectlevel3">
<li><a href="#bindingdecldefinitions">9.7.1. Definitions</a>
<ul class="sectlevel4">
<li><a href="#semantics-1">9.7.1.1. Semantics</a></li>
</ul>
</li>
<li><a href="#bindingdeclporttype">9.7.2. PortType</a>
<ul class="sectlevel4">
<li><a href="#semantics-2">9.7.2.1. Semantics</a></li>
</ul>
</li>
<li><a href="#bindingdeclporttypeoperation">9.7.3. PortType Operation</a>
<ul class="sectlevel4">
<li><a href="#semantics-3">9.7.3.1. Semantics</a></li>
</ul>
</li>
<li><a href="#bindingdeclporttypefault">9.7.4. PortType Fault Message</a>
<ul class="sectlevel4">
<li><a href="#semantics-4">9.7.4.1. Semantics</a></li>
</ul>
</li>
<li><a href="#bindingdeclbinding">9.7.5. Binding</a>
<ul class="sectlevel4">
<li><a href="#semantics-5">9.7.5.1. Semantics</a></li>
</ul>
</li>
<li><a href="#bindingdeclbindingoperation">9.7.6. Binding Operation</a>
<ul class="sectlevel4">
<li><a href="#semantics-6">9.7.6.1. Semantics</a></li>
</ul>
</li>
<li><a href="#bindingdeclservice">9.7.7. Service</a>
<ul class="sectlevel4">
<li><a href="#semantics-7">9.7.7.1. Semantics</a></li>
</ul>
</li>
<li><a href="#bindingdeclport">9.7.8. Port</a>
<ul class="sectlevel4">
<li><a href="#semantics-8">9.7.8.1. Semantics</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#handfmwk">10. Handler Framework</a>
<ul class="sectlevel2">
<li><a href="#architecture">10.1. Architecture</a>
<ul class="sectlevel3">
<li><a href="#handlertypes">10.1.1. Types of Handler</a></li>
<li><a href="#binding-responsibilities">10.1.2. Binding Responsibilities</a>
<ul class="sectlevel4">
<li><a href="#handler-and-message-context-management">10.1.2.1. Handler and Message Context Management</a></li>
<li><a href="#handmsgdispatch">10.1.2.2. Message Dispatch</a></li>
<li><a href="#handexcepthandling">10.1.2.3. Exception Handling</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#handlerconfig">10.2. Configuration</a>
<ul class="sectlevel3">
<li><a href="#handfmwrkprogconf">10.2.1. Programmatic Configuration</a>
<ul class="sectlevel4">
<li><a href="#handlerresolver">10.2.1.1. javax.xml.ws.handler.HandlerResolver</a></li>
<li><a href="#handlerordering">10.2.1.2. Handler Ordering</a></li>
<li><a href="#handlerchain">10.2.1.3. javax.jws.HandlerChain annotation</a></li>
<li><a href="#javax.xml.ws.binding">10.2.1.4. javax.xml.ws.Binding</a></li>
</ul>
</li>
<li><a href="#deployment-model">10.2.2. Deployment Model</a></li>
</ul>
</li>
<li><a href="#handprocmodel">10.3. Processing Model</a>
<ul class="sectlevel3">
<li><a href="#handlerlifecycle">10.3.1. Handler Lifecycle</a></li>
<li><a href="#handlerexecution">10.3.2. Handler Execution</a>
<ul class="sectlevel4">
<li><a href="#handlemessage">10.3.2.1. <code>handleMessage</code></a></li>
<li><a href="#handlefault">10.3.2.2. <code>handleFault</code></a></li>
<li><a href="#close">10.3.2.3. <code>close</code></a></li>
</ul>
</li>
<li><a href="#handler-implementation-considerations">10.3.3. Handler Implementation Considerations</a></li>
</ul>
</li>
<li><a href="#handmsgctxmngmt">10.4. Message Context</a>
<ul class="sectlevel3">
<li><a href="#handmsgctxif">10.4.1. javax.xml.ws.handler.MessageContext</a>
<ul class="sectlevel4">
<li><a href="#stdbindingprops">10.4.1.1. Standard Message Context Properties</a></li>
</ul>
</li>
<li><a href="#handlogmsgctx">10.4.2. javax.xml.ws.handler.LogicalMessageContext</a></li>
<li><a href="#reltojaxwsctx">10.4.3. Relationship to Application Contexts</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#soapbindchap">11. SOAP Binding</a>
<ul class="sectlevel2">
<li><a href="#configuration-1">11.1. Configuration</a>
<ul class="sectlevel3">
<li><a href="#programmatic-configuration">11.1.1. Programmatic Configuration</a>
<ul class="sectlevel4">
<li><a href="#soap-roles">11.1.1.1. SOAP Roles</a></li>
<li><a href="#soapbindchaphand">11.1.1.2. SOAP Handlers</a></li>
<li><a href="#soap-headers">11.1.1.3. SOAP Headers</a></li>
</ul>
</li>
<li><a href="#deployment-model-1">11.1.2. Deployment Model</a></li>
</ul>
</li>
<li><a href="#processing-model">11.2. Processing Model</a>
<ul class="sectlevel3">
<li><a href="#soapmuprocrules">11.2.1. SOAP <code>mustUnderstand</code> Processing</a></li>
<li><a href="#soap11excepthandling">11.2.2. Exception Handling</a>
<ul class="sectlevel4">
<li><a href="#handler-exceptions">11.2.2.1. Handler Exceptions</a></li>
<li><a href="#service-endpoint-exceptions">11.2.2.2. Service Endpoint Exceptions</a></li>
<li><a href="#mapextosoapfault">11.2.2.3. Mapping Exceptions to SOAP Faults</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#soapbindmsgcontext">11.3. SOAP Message Context</a></li>
<li><a href="#soapbindprotocols">11.4. SOAP Transport and Transfer Bindings</a>
<ul class="sectlevel3">
<li><a href="#soapbindhttp">11.4.1. HTTP</a>
<ul class="sectlevel4">
<li><a href="#mtom">11.4.1.1. MTOM</a></li>
<li><a href="#one-way-operations">11.4.1.2. One-way Operations</a></li>
<li><a href="#security">11.4.1.3. Security</a></li>
<li><a href="#session-management-1">11.4.1.4. Session Management</a></li>
<li><a href="#addressing">11.4.1.5. Addressing</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#xmlbindchap">12. HTTP Binding</a>
<ul class="sectlevel2">
<li><a href="#configuration-2">12.1. Configuration</a>
<ul class="sectlevel3">
<li><a href="#programmatic-configuration-1">12.1.1. Programmatic Configuration</a>
<ul class="sectlevel4">
<li><a href="#xmlbindchaphand">12.1.1.1. HTTP Handlers</a></li>
</ul>
</li>
<li><a href="#deployment-model-2">12.1.2. Deployment Model</a></li>
</ul>
</li>
<li><a href="#processing-model-1">12.2. Processing Model</a>
<ul class="sectlevel3">
<li><a href="#xmlexcepthandling">12.2.1. Exception Handling</a>
<ul class="sectlevel4">
<li><a href="#handler-exceptions-1">12.2.1.1. Handler Exceptions</a></li>
<li><a href="#service-endpoint-exceptions-1">12.2.1.2. Service Endpoint Exceptions</a></li>
<li><a href="#mapextohttpfault">12.2.1.3. Mapping Exceptions to a HTTP Status Code</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#xmlbindhttp">12.3. HTTP Support</a>
<ul class="sectlevel3">
<li><a href="#one-way-operations-1">12.3.1. One-way Operations</a></li>
<li><a href="#security-1">12.3.2. Security</a></li>
<li><a href="#session-management-2">12.3.3. Session Management</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#confreqs">Appendix A: Conformance Requirements</a></li>
<li><a href="#change-log">Appendix B: Change Log</a>
<ul class="sectlevel2">
<li><a href="#changes">2.3 Changes</a></li>
<li><a href="#changes-1">2.2 Changes</a></li>
<li><a href="#changes-2">2.1 Changes</a></li>
<li><a href="#changes-since-proposed-final-draft">Changes since Proposed Final Draft</a></li>
<li><a href="#changes-since-public-draft">Changes since Public Draft</a></li>
<li><a href="#changes-since-early-draft-3">Changes Since Early Draft 3</a></li>
<li><a href="#changes-since-early-draft-2">Changes Since Early Draft 2</a></li>
<li><a href="#changes-since-early-draft-1">Changes Since Early Draft 1</a></li>
</ul>
</li>
<li><a href="#bibliography">Bibliography</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>Specification: Jakarta XML Web Services

Version: 3.0

Status: Final Release

Release: July 28, 2020</pre>
</div>
</div>
<div class="paragraph">
<p>Copyright (c) 2020 Eclipse Foundation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="eclipse-foundation-specification-license"><a class="anchor" href="#eclipse-foundation-specification-license"></a>Eclipse Foundation Specification License</h3>
<div class="paragraph">
<p>By using and/or copying this document, or the Eclipse Foundation
document from which this statement is linked, you (the licensee) agree
that you have read, understood, and will comply with the following
terms and conditions:</p>
</div>
<div class="paragraph">
<p>Permission to copy, and distribute the contents of this document, or
the Eclipse Foundation document from which this statement is linked, in
any medium for any purpose and without fee or royalty is hereby
granted, provided that you include the following on ALL copies of the
document, or portions thereof, that you use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>link or URL to the original Eclipse Foundation document.</p>
</li>
<li>
<p>All existing copyright notices, or if one does not exist, a notice
(hypertext is preferred, but a textual representation is permitted)
of the form: "Copyright (c) [$date-of-document]
Eclipse Foundation, Inc. <a href="#url to this license">[url to this license]</a>"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Inclusion of the full text of this NOTICE must be provided. We
request that authorship attribution be provided in any software,
documents, or other items or products that you create pursuant to the
implementation of the contents of this document, or any portion
thereof.</p>
</div>
<div class="paragraph">
<p>No right to create modifications or derivatives of Eclipse Foundation
documents is granted pursuant to this license, except anyone may
prepare and distribute derivative works and portions of this document
in software that implements the specification, in supporting materials
accompanying such software, and in documentation of such software,
PROVIDED that all such works include the notice below. HOWEVER, the
publication of derivative works of this document for use as a technical
specification is expressly prohibited.</p>
</div>
<div class="paragraph">
<p>The notice is:</p>
</div>
<div class="paragraph">
<p>"Copyright (c) 2018 Eclipse Foundation. This software or
document includes material copied from or derived from [title and URI
of the Eclipse Foundation specification document]."</p>
</div>
<div class="sect3">
<h4 id="disclaimers"><a class="anchor" href="#disclaimers"></a>Disclaimers</h4>
<div class="paragraph">
<p>THIS DOCUMENT IS PROVIDED &quot;AS IS,&quot; AND THE COPYRIGHT
HOLDERS AND THE ECLIPSE FOUNDATION MAKE NO REPRESENTATIONS OR
WARRANTIES, EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,
WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE,
NON-INFRINGEMENT, OR TITLE; THAT THE CONTENTS OF THE DOCUMENT ARE
SUITABLE FOR ANY PURPOSE; NOR THAT THE IMPLEMENTATION OF SUCH CONTENTS
WILL NOT INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS, TRADEMARKS OR
OTHER RIGHTS.</p>
</div>
<div class="paragraph">
<p>THE COPYRIGHT HOLDERS AND THE ECLIPSE FOUNDATION WILL NOT BE LIABLE
FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT
OF ANY USE OF THE DOCUMENT OR THE PERFORMANCE OR IMPLEMENTATION OF THE
CONTENTS THEREOF.</p>
</div>
<div class="paragraph">
<p>The name and trademarks of the copyright holders or the Eclipse
Foundation may NOT be used in advertising or publicity pertaining to
this document or its contents without specific, written prior
permission. Title to copyright in this document will at all times
remain with copyright holders.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scope"><a class="anchor" href="#scope"></a>1. Scope</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Jakarta XML Web Services defines a means for implementing XML-Based Web Services
based on Jakarta SOAP with Attachments and Jakarta Web Services Metadata.</p>
</div>
</div>
</div>
<h1 id="jakarta-xml-based-web-services-version-2-3" class="sect0"><a class="anchor" href="#jakarta-xml-based-web-services-version-2-3"></a>Jakarta XML-Based Web Services, Version 2.3</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>Comments to &lt;<a href="mailto:javaee-spec@javaee.groups.io">javaee-spec@javaee.groups.io</a>&gt;
v2.3, July 11, 2017
:decription: Jakarta XML-Based Web Services, Version 2.3
:sectnums:
:sectnumlevels: 5
:xrefstyle: full</p>
</div>
<div class="paragraph">
<p>Editors:<br>
Jitendra Kotamraju<br>
Lukas Jungmann<br></p>
</div>
<div class="paragraph">
<p>Comments to: <a href="mailto:javaee-spec@javaee.groups.io">javaee-spec@javaee.groups.io</a></p>
</div>
<div class="paragraph">
<p><em>Oracle Corporation<br>
500 Oracle Parkway<br>
Redwood Shores, CA 94065 USA</em></p>
</div>
<div class="paragraph">
<p>Copyright (c) 2017, 2019 Oracle and/or its affiliates. All rights reserved.</p>
</div>
<div class="paragraph">
<p>Oracle and Java are registered trademarks of Oracle and/or its
affiliates. Other names may be trademarks of their respective owners.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>2. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>XML<a href="#bib1">[1]</a> is a platform-independent means of representing
structured information. XML Web Services use XML as the basis for
communication between Web-based services and clients of those services
and inherit XML’s platform independence. SOAP<a href="#bib2">[2]</a><a href="#bib3">[3]</a><a href="#bib4">[4]</a>
describes one such XML based message format and ``defines, using XML
technologies, an extensible messaging framework containing a message
construct that can be exchanged over a variety of underlying
protocols.''</p>
</div>
<div class="paragraph">
<p>WSDL<a href="#bib5">[5]</a> is ``an XML format for describing network
services as a set of endpoints operating on messages containing either
document-oriented or procedure-oriented information.'' WSDL can be
considered the de-facto service description language for XML Web
Services.</p>
</div>
<div class="paragraph">
<p>JAX-RPC 1.0<a href="#bib6">[6]</a> defined APIs and conventions for supporting RPC
oriented XML Web Services in the Java platform. JAX-RPC 1.1<a href="#bib7">[7]</a> added
support for the WS-I Basic Profile 1.0<a href="#bib8">[8]</a> to improve interoperability between JAX-RPC
implementations and with services implemented using other technologies.</p>
</div>
<div class="paragraph">
<p>JAX-WS 2.0 (this specification) is a follow-on to JAX-RPC 1.1, extending
it as described in the following sections.</p>
</div>
<div class="sect2">
<h3 id="goals"><a class="anchor" href="#goals"></a>2.1. Goals</h3>
<div class="paragraph">
<p>Since the release of JAX-RPC 1.0<a href="#bib6">[6]</a>, new specifications and
new versions of the standards it depends on have been released. JAX-WS
2.0 relates to these specifications and standards as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">JAXB</dt>
<dd>
<p>Due primarily to scheduling concerns, JAX-RPC 1.0 defined its own data
binding facilities. With the release of JAXB 1.0 <a href="#bib9">[9]</a>
there is no reason to maintain two separate sets of XML mapping
rules in the Java platform. JAX-WS 2.0 will delegate data
binding-related tasks to the JAXB 2.0<a href="#bib10">[10]</a>
specification that is being developed in parallel with JAX-WS 2.0.
JAXB 2.0<a href="#bib10">[10]</a> will add support for Java to XML
mapping, additional support for less used XML schema constructs, and
provide bidirectional customization of Java
\(\Leftrightarrow\) XML data binding. JAX-WS 2.0 will allow
full use of JAXB provided facilities including binding customization
and optional schema validation.</p>
<div class="ulist">
<ul>
<li>
<p>JAX-WS 2.1 requires JAXB 2.1<a href="#bib11">[11]</a>.</p>
</li>
<li>
<p>JAX-WS 2.2 requires JAXB 2.2<a href="#bib12">[12]</a>.</p>
</li>
<li>
<p>JAX-WS 2.3 requires JAXB 2.3<a href="#bib13">[13]</a>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">SOAP 1.2</dt>
<dd>
<p>Whilst SOAP 1.1 is still widely deployed, it’s expected that services
will migrate to SOAP 1.2<a href="#bib3">[3]</a><a href="#bib4">[4]</a>
now that it is a W3C Recommendation.
JAX-WS 2.0 will add support for SOAP 1.2 whilst requiring continued
support for SOAP 1.1.</p>
</dd>
<dt class="hdlist1">WSDL 2.0</dt>
<dd>
<p>The W3C is expected to progress WSDL 2.0<a href="#bib14">[14]</a> to
Recommendation during the lifetime of this JSR. JAX-WS 2.0 will add
support for WSDL 2.0 whilst requiring continued support for WSDL 1.1.
+
The expert group for the JSR decided against this goal for this
release . We will look at adding support in a future revision of the
JAX-WS specification.</p>
</dd>
<dt class="hdlist1">WS-I Basic Profile 1.1</dt>
<dd>
<p>JAX-RPC 1.1 added support for WS-I Basic Profile 1.0. WS-I Basic
Profile 1.1 is expected to supersede 1.0 during the lifetime of this
JSR and JAX-WS 2.0 will add support for the additional clarifications
it provides.</p>
</dd>
<dt class="hdlist1">A Metadata Facility for the Java Programming Language (JSR 175)</dt>
<dd>
<p>JAX-WS 2.0 will define the use of Java annotations<a href="#bib15">[15]</a> to
simplify the most common development scenarios for both clients and
servers.</p>
</dd>
<dt class="hdlist1">Web Services Metadata for the Java Platform (JSR 181)</dt>
<dd>
<p>JAX-WS 2.0 will align with and complement the annotations defined by
JSR 181<a href="#bib16">[16]</a>.</p>
</dd>
<dt class="hdlist1">Implementing Enterprise Web Services (JSR 109)</dt>
<dd>
<p>The JSR 109<a href="#bib17">[17]</a> defined <code>jaxrpc-mapping-info</code>
deployment descriptor provides deployment time Java
\(\Leftrightarrow\) WSDL mapping functionality. In
conjunction with JSR 181<a href="#bib16">[16]</a>, JAX-WS 2.0 will complement this
mapping functionality with development time Java annotations that
control Java \(\Leftrightarrow\) WSDL mapping.</p>
</dd>
<dt class="hdlist1">Web Services Security (JSR 183)</dt>
<dd>
<p>JAX-WS 2.0 will align with and complement the security APIs defined by
JSR 183<a href="#bib18">[18]</a>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>JAX-WS 2.0 will improve support for document/message centric usage:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Asynchrony</dt>
<dd>
<p>JAX-WS 2.0 will add support for client side asynchronous operations.</p>
</dd>
<dt class="hdlist1">Non-HTTP Transports</dt>
<dd>
<p>JAX-WS 2.0 will improve the separation between the XML message format
and the underlying transport mechanism to simplify use of JAX-WS with
non-HTTP transports.</p>
</dd>
<dt class="hdlist1">Message Access</dt>
<dd>
<p>JAX-WS 2.0 will simplify client and service access to the messages
underlying an exchange.</p>
</dd>
<dt class="hdlist1">Session Management</dt>
<dd>
<p>JAX-RPC 1.1 session management capabilities are tied to HTTP. JAX-WS
2.0 will add support for message based session management.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>JAX-WS 2.0 will also address issues that have arisen with experience of
implementing and using JAX-RPC 1.0:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Inclusion in Java SE</dt>
<dd>
<p>JAX-WS 2.0 will prepare JAX-WS for inclusion in a future version of
Java SE. Application portability is a key requirement and JAX-WS 2.0
will define mechanisms to produce fully portable clients.</p>
</dd>
<dt class="hdlist1">Handlers</dt>
<dd>
<p>JAX-WS 2.0 will simplify the development of handlers and will provide
a mechanism to allow handlers to collaborate with service clients and
service endpoint implementations.</p>
</dd>
<dt class="hdlist1">Versioning and Evolution of Web Services</dt>
<dd>
<p>JAX-WS 2.0 will describe techniques and mechanisms to ease the burden
on developers when creating new versions of existing services.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="nongoals20"><a class="anchor" href="#nongoals20"></a>2.2. Non-Goals</h3>
<div class="paragraph">
<p>The following are non-goals:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Backwards Compatibility of Binary Artifacts</dt>
<dd>
<p>Binary compatibility between JAX-RPC 1.x and JAX-WS 2.0 implementation
runtimes.</p>
</dd>
<dt class="hdlist1">Pluggable data binding</dt>
<dd>
<p>JAX-WS 2.0 will defer data binding to JAXB<a href="#bib10">[10]</a>;
it is not a goal to provide a plug-in API to allow other types of data
binding technologies to be used in place of JAXB. However, JAX-WS 2.0
will maintain the capability to selectively disable data binding to
provide an XML based fragment suitable for use as input to alternative
data binding technologies.</p>
</dd>
<dt class="hdlist1">SOAP Encoding Support</dt>
<dd>
<p>Use of the SOAP encoding is essentially deprecated in the web services
community, e.g., the WS-I Basic Profile<a href="#bib8">[8]</a> excludes SOAP encoding. Instead,
literal usage is  preferred, either in the RPC or document style.
+
SOAP 1.1 encoding is supported in JAX-RPC 1.0 and 1.1 but its support
in JAX-WS 2.0 runs counter to the goal of delegation of data binding
to JAXB. Therefore JAX-WS 2.0 will make support for SOAP 1.1 encoding
optional and defer description of it to JAX-RPC 1.1.
+
Support for the SOAP 1.2 Encoding<a href="#bib4">[4]</a>
is optional in SOAP 1.2 and JAX-WS 2.0 will not add support for SOAP
1.2 encoding.</p>
</dd>
<dt class="hdlist1">Backwards Compatibility of Generated Artifacts</dt>
<dd>
<p>JAX-RPC 1.0 and JAXB 1.0 bind XML to Java in different ways.
Generating source code that works with unmodified JAX-RPC 1.x client
source code is not a goal.</p>
</dd>
<dt class="hdlist1">Support for Java versions prior to Java SE 5.0</dt>
<dd>
<p>JAX-WS 2.0 relies on many of the Java language features added in Java
SE 5.0. It is not a goal to support JAX-WS 2.0 on Java versions prior
to Java SE 5.0.</p>
</dd>
<dt class="hdlist1">Service Registration and Discovery</dt>
<dd>
<p>It is not a goal of JAX-WS 2.0 to describe registration and discovery
of services via UDDI or ebXML RR. This capability is provided
independently by JAXR<a href="#bib19">[19]</a>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="requirements"><a class="anchor" href="#requirements"></a>2.3. Requirements</h3>
<div class="sect3">
<h4 id="relationship-to-jaxb"><a class="anchor" href="#relationship-to-jaxb"></a>2.3.1. Relationship To JAXB</h4>
<div class="paragraph">
<p>JAX-WS describes the WSDL \(\Leftrightarrow\) Java mapping,
but data binding is delegated to JAXB<a href="#bib10">[10]</a>. The
specification must clearly designate where JAXB rules apply to the WSDL
\(\Leftrightarrow\) Java mapping without reproducing those
rules and must describe how JAXB capabilities (e.g., the JAXB binding
language) are incorporated into JAX-WS. JAX-WS is required to be able to
influence the JAXB binding, e.g., to avoid name collisions and to be
able to control schema validation on serialization and deserialization.</p>
</div>
</div>
<div class="sect3">
<h4 id="standardized-wsdl-mapping"><a class="anchor" href="#standardized-wsdl-mapping"></a>2.3.2. Standardized WSDL Mapping</h4>
<div class="paragraph">
<p>WSDL is the de-facto service description language for XML Web Services.
The specification must specify a standard WSDL
\(\Leftrightarrow\) Java mapping. The following versions of
WSDL must be supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>WSDL 1.1<a href="#bib5">[5]</a> as clarified by the WS-I Basic
Profile(Ballinger, Ehnebuske, Gudgin, et al. 2004; Ballinger, Ehnebuske,
Ferris, et al. 2004)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The standardized WSDL mapping will describe the default WSDL
\(\Leftrightarrow\) Java mapping. The default mapping may be
overridden using customizations as described below.</p>
</div>
</div>
<div class="sect3">
<h4 id="customizable-wsdl-mapping"><a class="anchor" href="#customizable-wsdl-mapping"></a>2.3.3. Customizable WSDL Mapping</h4>
<div class="paragraph">
<p>The specification must provide a standard way to customize the WSDL
\(\Leftrightarrow\) Java mapping. The following customization
methods will be specified:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Java Annotations</dt>
<dd>
<p>In conjunction with JAXB<a href="#bib10">[10]</a> and JSR 181<a href="#bib16">[16]</a>,
the specification will define a set of standard annotations
that may be used in Java source files to specify the mapping from Java
artifacts to their associated WSDL components. The annotations will
support mapping to WSDL 1.1.</p>
</dd>
<dt class="hdlist1">WSDL Annotations</dt>
<dd>
<p>In conjunction with JAXB<a href="#bib10">[10]</a> and JSR 181<a href="#bib16">[16]</a>,
the specification will define a set of standard annotations
that may be used either within WSDL documents or as in an external
form to specify the mapping from WSDL components to their associated
Java artifacts. The annotations will support mapping from WSDL 1.1.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The specification must describe the precedence rules governing
combinations of the customization methods.</p>
</div>
</div>
<div class="sect3">
<h4 id="standardized-protocol-bindings"><a class="anchor" href="#standardized-protocol-bindings"></a>2.3.4. Standardized Protocol Bindings</h4>
<div class="paragraph">
<p>The specification must describe standard bindings to the following
protocols:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SOAP 1.1<a href="#bib2">[2]</a> as clarified by the WS-I Basic Profile<a href="#bib8">[8]</a><a href="#bib20">[20]</a></p>
</li>
<li>
<p>SOAP 1.2<a href="#bib3">[3]</a><a href="#bib4">[4]</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The specification must not prevent non-standard bindings to other
protocols.</p>
</div>
</div>
<div class="sect3">
<h4 id="standardized-transport-bindings"><a class="anchor" href="#standardized-transport-bindings"></a>2.3.5. Standardized Transport Bindings</h4>
<div class="paragraph">
<p>The specification must describe standard bindings to the following
protocols:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HTTP/1.1<a href="#bib21">[21]</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The specification must not prevent non-standard bindings to other
transports.</p>
</div>
</div>
<div class="sect3">
<h4 id="standardized-handler-framework"><a class="anchor" href="#standardized-handler-framework"></a>2.3.6. Standardized Handler Framework</h4>
<div class="paragraph">
<p>The specification must include a standardized handler framework that
describes:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Data binding for handlers</dt>
<dd>
<p>The framework will offer data binding facilities to handlers and will
support handlers that are decoupled from the SAAJ API.</p>
</dd>
<dt class="hdlist1">Handler Context</dt>
<dd>
<p>The framework will describe a mechanism for communicating properties
between handlers and the associated service clients and service
endpoint implementations.</p>
</dd>
<dt class="hdlist1">Unified Response and Fault Handling</dt>
<dd>
<p>The <code>handleResponse</code> and <code>handleFault</code> methods will be unified and the
the declarative model for handlers will be improved.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="versioning-and-evolution"><a class="anchor" href="#versioning-and-evolution"></a>2.3.7. Versioning and Evolution</h4>
<div class="paragraph">
<p>The specification must describe techniques and mechanisms to support
versioning of service endpoint interfaces. The facilities must allow new
versions of an interface to be deployed whilst maintaining compatibility
for existing clients.</p>
</div>
</div>
<div class="sect3">
<h4 id="standardized-synchronous-and-asynchronous-invocation"><a class="anchor" href="#standardized-synchronous-and-asynchronous-invocation"></a>2.3.8. Standardized Synchronous and Asynchronous Invocation</h4>
<div class="paragraph">
<p>There must be a detailed description of the generated method signatures
to support both asynchronous and synchronous method invocation in stubs
generated by JAX-WS. Both forms of invocation will support a user
configurable timeout period.</p>
</div>
</div>
<div class="sect3">
<h4 id="session-management"><a class="anchor" href="#session-management"></a>2.3.9. Session Management</h4>
<div class="paragraph">
<p>The specification must describe a standard session management mechanism
including:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Session APIs</dt>
<dd>
<p>Definition of a session interface and methods to obtain the session
interface and initiate sessions for handlers and service endpoint
implementations.</p>
</dd>
<dt class="hdlist1">HTTP based sessions</dt>
<dd>
<p>The session management mechanism must support HTTP cookies and URL
rewriting.</p>
</dd>
<dt class="hdlist1">SOAP based sessions</dt>
<dd>
<p>The session management mechanism must support SOAP based session
information.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="use-cases"><a class="anchor" href="#use-cases"></a>2.4. Use Cases</h3>
<div class="sect3">
<h4 id="handler-framework"><a class="anchor" href="#handler-framework"></a>2.4.1. Handler Framework</h4>
<div class="sect4">
<h5 id="reliable-messaging-support"><a class="anchor" href="#reliable-messaging-support"></a>2.4.1.1. Reliable Messaging Support</h5>
<div class="paragraph">
<p>A developer wishes to add support for a reliable messaging SOAP feature
to an existing service endpoint. The support takes the form of a JAX-WS
handler.</p>
</div>
</div>
<div class="sect4">
<h5 id="message-logging"><a class="anchor" href="#message-logging"></a>2.4.1.2. Message Logging</h5>
<div class="paragraph">
<p>A developer wishes to log incoming and outgoing messages for later
analysis, e.g., checking messages using the WS-I testing tools.</p>
</div>
</div>
<div class="sect4">
<h5 id="ws-i-conformance-checking"><a class="anchor" href="#ws-i-conformance-checking"></a>2.4.1.3. WS-I Conformance Checking</h5>
<div class="paragraph">
<p>A developer wishes to check incoming and outgoing messages for
conformance to one or more WS-I profiles at runtime.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="conventions"><a class="anchor" href="#conventions"></a>2.5. Conventions</h3>
<div class="paragraph">
<p>The keywords `MUST', `MUST NOT', `REQUIRED', `SHALL', `SHALL NOT',
`SHOULD', `SHOULD NOT', `RECOMMENDED', `MAY', and `OPTIONAL' in this
document are to be interpreted as described in RFC 2119<a href="#bib22">[22]</a>.</p>
</div>
<div class="paragraph">
<p>For convenience, conformance requirements are called out from the main
text as follows:</p>
</div>
<div class="paragraph">
<p>♦ <em>Conformance (Example):</em> Implementations MUST do something.</p>
</div>
<div class="paragraph">
<p>A list of all such conformance requirements can be found in appendix
<a href="#confreqs">Conformance Requirements</a>.</p>
</div>
<div class="paragraph">
<p>Java code and XML fragments are formatted as shown in figure <a href="#1.1">[1.1]</a>:</p>
</div>
<div id="1.1" class="paragraph">
<p>Figure 1.1: Example Java Code</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span class="keyword">package</span> <span class="namespace">com.example.hello</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">Hello</span> {
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span> args<span class="type">[]</span>) {
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello World</span><span class="delimiter">&quot;</span></span>);
    }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Non-normative notes are formatted as shown below.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> <em>This is a note.</em></p>
</div>
<div class="paragraph">
<p>This specification uses a number of namespace prefixes throughout; they
are listed in Table <a href="#Table 1.1">[Table 1.1]</a>. Note that the choice of any namespace
prefix is arbitrary and not semantically significant (see XML
Infoset<a href="#bib23">[23]</a>).</p>
</div>
<div id="Table 1.1" class="paragraph">
<p>Table 1.1: Prefixes and Namespaces used in this specification.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Prefix</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Namespace</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">env</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.w3.org/2003/05/soap-envelope" class="bare">http://www.w3.org/2003/05/soap-envelope</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A normative XML
Schema<a href="#bib24">[24]</a><a href="#bib25">[25]</a> document for the
<a href="http://www.w3.org/2003/05/soap-envelope" class="bare">http://www.w3.org/2003/05/soap-envelope</a> namespace can be found at
<a href="http://www.w3.org/2003/05/soap-envelope" class="bare">http://www.w3.org/2003/05/soap-envelope</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xsd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.w3.org/2001/XMLSchema" class="bare">http://www.w3.org/2001/XMLSchema</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The namespace of the XML
schema<a href="#bib24">[24]</a><a href="#bib25">[25]</a> specification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">wsdl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://schemas.xmlsoap.org/wsdl/" class="bare">http://schemas.xmlsoap.org/wsdl/</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The namespace of the WSDL
schema<a href="#bib5">[5]</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">soap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://schemas.xmlsoap.org/wsdl/soap/" class="bare">http://schemas.xmlsoap.org/wsdl/soap/</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The namespace of the WSDL
SOAP binding schema<a href="#bib24">[24]</a><a href="#bib25">[25]</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jaxb</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://java.sun.com/xml/ns/jaxb" class="bare">http://java.sun.com/xml/ns/jaxb</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The namespace of the JAXB
<a href="#bib9">[9]</a> specification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jaxws</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://java.sun.com/xml/ns/jaxws" class="bare">http://java.sun.com/xml/ns/jaxws</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The namespace of the JAX-WS
specification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">wsa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.w3.org/2005/08/addressing" class="bare">http://www.w3.org/2005/08/addressing</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The namespace of the
WS-Addressing 1.0<a href="#bib26">[26]</a> schema</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">wsam</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.w3.org/2007/05/addressing/metadata" class="bare">http://www.w3.org/2007/05/addressing/metadata</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
namespace of the WS-Addressing 1.0 - Metadata<a href="#bib27">[27]</a> schema</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">wsp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.w3.org/ns/ws-policy" class="bare">http://www.w3.org/ns/ws-policy</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
namespace of the Web Services Policy 1.5 - Framework<a href="#bib28">[28]</a> schema</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Namespace names of the general form `http://example.org/&#8230;&#8203;' and
`http://example.com/&#8230;&#8203;' represent application or context-dependent URIs
(see RFC 2396<a href="#bib21">[21]</a>).</p>
</div>
<div class="paragraph">
<p>All parts of this specification are normative, with the exception of
examples, notes and sections explicitly marked as `Non-Normative'.</p>
</div>
</div>
<div class="sect2">
<h3 id="expert-group-members"><a class="anchor" href="#expert-group-members"></a>2.6. Expert Group Members</h3>
<div class="paragraph">
<p>The following people have contributed to this specification:</p>
</div>
<div class="paragraph">
<p>Chavdar Baikov (SAP AG)<br>
Russell Butek (IBM)<br>
Manoj Cheenath (BEA Systems)<br>
Shih-Chang Chen (Oracle)<br>
Claus Nyhus Christensen (Trifork)<br>
Ugo Corda (SeeBeyond Technology Corp)<br>
Glen Daniels (Sonic Software)<br>
Alan Davies (SeeBeyond Technology Corp)<br>
Thomas Diesler (JBoss, Inc.)<br>
Jim Frost (Art Technology Group Inc)<br>
Alastair Harwood (Cap Gemini)<br>
Marc Hadley (Sun Microsystems, Inc.)<br>
Kevin R. Jones (Developmentor)<br>
Lukas Jungmann (Oracle)<br>
Anish Karmarkar (Oracle)<br>
Toshiyuki Kimura (NTT Data Corp)<br>
Jim Knutson (IBM)<br>
Doug Kohlert (Sun Microsystems, Inc)<br>
Daniel Kulp (IONA Technologies PLC)<br>
Sunil Kunisetty (Oracle)<br>
Changshin Lee (Tmax Soft, Inc)<br>
Carlo Marcoli (Cap Gemini)<br>
Srividya Natarajan (Nokia Corporation)<br>
Sanjay Patil (SAP AG)<br>
Greg Pavlik (Oracle)<br>
Bjarne Rasmussen (Novell, Inc)<br>
Sebastien Sahuc (Intalio, Inc.)<br>
Rahul Sharma (Motorola)<br>
Rajiv Shivane (Pramati Technologies)<br>
Richard Sitze (IBM)<br>
Dennis M. Sosnoski (Sosnoski Software)<br>
Christopher St. John (WebMethods Corporation)<br>
Mark Stewart (ATG)<br>
Neal Yin (BEA Systems)<br>
Brian Zotter (BEA Systems)<br>
Nicholas L Gallardo (IBM)<br>
Alessio Soldano (Red Hat)<br></p>
</div>
</div>
<div class="sect2">
<h3 id="acknowledgements"><a class="anchor" href="#acknowledgements"></a>2.7. Acknowledgements</h3>
<div class="paragraph">
<p>Robert Bissett, Arun Gupta, Graham Hamilton, Mark Hapner, Jitendra
Kotamraju, Vivek Pandey, Santiago Pericas-Geertsen, Eduardo
Pelegri-Llopart, Rama Pulavarthi, Paul Sandoz, Bill Shannon, and Kathy
Walsh (all from Sun Microsystems) have provided invaluable technical
input to the JAX-WS 2.0 specification.</p>
</div>
<div class="paragraph">
<p>Roberto Chinnici, Marc Hadley, Kohsuke Kawaguchi, and Bill Shannon (all
from Sun Microsystems) have provided invaluable technical input to the
JAX-WS 2.2 specification. I would like to thank Rama Pulavarthi for his
contributions to the 2.2 reference implementation and to the
specification. JAX-WS TCK team (Arthur Frechette, Alan Frechette) and
SQE team (Jonathan Benoit) assisted the conformance testing of the 2.2
specification.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="wsdl112java"><a class="anchor" href="#wsdl112java"></a>3. WSDL 1.1 to Java Mapping</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes the mapping from WSDL 1.1 to Java. This mapping
is used when generating web service interfaces for clients and endpoints
from a WSDL 1.1 description.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (WSDL 1.1 support):</em> Implementations MUST support mapping WSDL 1.1 to
Java.</p>
</div>
<div class="paragraph">
<p>The following sections describe the default mapping from each WSDL 1.1
construct to the equivalent Java construct. In WSDL 1.1, the separation
between the abstract port type definition and the binding to a protocol
is not complete. Bindings impact the mapping between WSDL elements used
in the abstract port type definition and Java method parameters. Section
[wsdl11bindingmap] describes binding dependent mappings.</p>
</div>
<div class="paragraph">
<p>An application MAY customize the mapping using embedded binding
declarations (see section <a href="#embeddedbindingdeclarations">Embedded Binding Declarations</a>) or an external
binding file (see section <a href="#externalbindingfile">External Binding File</a>).</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Customization required):</em> Implementations MUST support customization of
the WSDL 1.1 to Java mapping using the JAX-WS binding language defined
in chapter [customize].</p>
</div>
<div class="paragraph">
<p>In order to enable annotations to be used at runtime for method
dispatching and marshalling, this specification requires generated Java
classes and interfaces to be annotated with the Web service annotations
described in section [mdjsr181]. The annotations present on a generated
class MUST faithfully reflect the information in the WSDL document(s)
that were given as input to the mapping process, as well as the
customizations embedded in them and those specified via any external
binding files.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Annotations on generated classes):</em> The values of all the properties of
all the generated annotations MUST be consistent with the information in
the source WSDL document and the applicable external binding files.</p>
</div>
<div class="sect2">
<h3 id="wsdl11defmap"><a class="anchor" href="#wsdl11defmap"></a>3.1. Definitions</h3>
<div class="paragraph">
<p>A WSDL document has a root <code>wsdl:definitions</code> element. A
<code>wsdl:definitions</code> element and its associated <code>targetNamespace</code>
attribute is mapped to a Java package. JAXB<a href="#bib10">[10]</a>
(see appendix D) defines a standard mapping from a namespace URI to a
Java package name. By default, this algorithm is used to map the value
of a <code>wsdl:definitions</code> element’s <code>targetNamespace</code> attribute to a Java
package name.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Definitions mapping):</em> In the absence of customizations, the Java package
name is mapped from the value of a <code>wsdl:definitions</code> element’s
<code>targetNamespace</code> attribute using the algorithm defined by JAXB<a href="#bib10">[10]</a>.</p>
</div>
<div class="paragraph">
<p>An application MAY customize this mapping using the <code>jaxws:package</code>
binding declaration defined in section [bindingdecldefinitions].</p>
</div>
<div class="paragraph">
<p>No specific authoring style is required for the input WSDL document;
implementations should support WSDL that uses the WSDL and XML Schema
import directives.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (WSDL and XML Schema import directives):</em> Implementations MUST support the
WS-I Basic Profile 1.1<a href="#bib20">[20]</a>
defined mechanisms (See R2001, R2002, and R2003) for use of WSDL and XML
Schema import directives.</p>
</div>
<div class="sect3">
<h4 id="extensibility"><a class="anchor" href="#extensibility"></a>3.1.1. Extensibility</h4>
<div class="paragraph">
<p>WSDL 1.1 allows extension elements and attributes to be added to many of
its constructs. JAX-WS specifies the mapping to Java of the
extensibility elements and attributes defined for the SOAP and MIME
bindings. JAX-WS does not address mapping of any other extensibility
elements or attributes and does not provide a standard extensibility
framework though which such support could be added in a standard way.
Future versions of JAX-WS might add additional support for standard
extensions as these become available.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Optional WSDL extensions):</em> An implementation MAY support mapping of
additional WSDL extensibility elements and attributes not described in
JAX-WS.</p>
</div>
<div class="paragraph">
<p>Note that such support may limit interoperability and application
portability.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="wsdl11porttype"><a class="anchor" href="#wsdl11porttype"></a>3.2. Port Type</h3>
<div class="paragraph">
<p>A WSDL port type is a named set of abstract operation definitions. A
<code>wsdl:portType</code> element is mapped to a Java interface in the package
mapped from the <code>wsdl:definitions</code> element (see section [wsdl11defmap]
for a description of <code>wsdl:definitions</code> mapping). A Java interface
mapped from a <code>wsdl:portType</code> is called a <em>Service Endpoint Interface</em>
or SEI for short.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (SEI naming):</em> In the absence of customizations, the name of an SEI MUST
be the value of the <code>name</code> attribute of the corresponding
<code>wsdl:portType</code> element mapped according to the rules described in
section [xmlnames].</p>
</div>
<div class="paragraph">
<p>An application MAY customize this mapping using the <code>jaxws:class</code>
binding declaration defined in section [bindingdeclporttype].</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (<code>javax.jws.WebService</code> required):</em> A mapped SEI MUST be annotated with a
<code>javax.jws.WebService</code> annotation.</p>
</div>
<div class="paragraph">
<p>A WSDL may define additional types via type substitution that are not
referenced by a service directly but may still need to be marshalled by
JAX-WS. The <code>javax.xml.bind.XmlSeeAlso</code> annotation from JAXB is used on
the generated SEI to specify any additional types from the WSDL.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (<code>javax.xml.bind.XmlSeeAlso</code> required):</em> An SEI generated from a WSDL that
defines types not directly referenced by the <code>Port</code> MUST contain the
<code>javax.xml.bind.XmlSeeAlso</code> annotation with all of the additional types
referenced either directly or indirectly.</p>
</div>
<div id="2.1" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td>
  <td class="code"><pre><span class="comment">// Types generated when importing WSDL</span>
<span class="keyword">package</span> <span class="namespace">example</span>;
<span class="directive">public</span> <span class="type">class</span> <span class="class">A</span> { ... }

<span class="keyword">package</span> <span class="namespace">example1</span>;
<span class="directive">public</span> <span class="type">class</span> <span class="class">B</span> <span class="directive">extends</span> A { ... }

<span class="keyword">package</span> <span class="namespace">example2</span>;
<span class="directive">public</span> <span class="type">class</span> <span class="class">C</span> <span class="directive">extends</span> A { ... }

<span class="comment">// Directly annotated SEI with classes B and C</span>
<span class="annotation">@WebService</span>
<span class="annotation">@XmlSeeAlso</span>({B.class, C.class})
<span class="directive">public</span> <span class="type">interface</span> <span class="class">MyService</span> {
    <span class="directive">public</span> A echo(A a);
}

<span class="comment">// Indirectly annotated SEI using generated JAXB ObjectFatories</span>
<span class="annotation">@XmlSeeAlso</span>({example1.ObjectFactory.class, example2.ObjectFactory.class})
<span class="directive">public</span> <span class="type">interface</span> <span class="class">MyService</span> {
    <span class="directive">public</span> A echo(A a);
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 2.1: Directly and indirectly @XmlSeeAlso annotated SEI</p>
</div>
<div class="paragraph">
<p>Figure <a href="#2.1">[2.1]</a> shows how an SEI can be annotated with
<code>javax.xml.bind.XmlSeeAlso</code>. This figures shows some of the types that
may have been created while importing a WSDL and the different
approaches to annotating the SEI.</p>
</div>
<div class="paragraph">
<p>An SEI contains Java methods mapped from the <code>wsdl:operation</code> child
elements of the corresponding <code>wsdl:portType</code>, see section <a href="#wsdl11opmap">Operation</a>
for further details on <code>wsdl:operation</code> mapping. WSDL 1.1 does not
support port type inheritance so each generated SEI will contain methods
for all operations in the corresponding port type.</p>
</div>
</div>
<div class="sect2">
<h3 id="wsdl11opmap"><a class="anchor" href="#wsdl11opmap"></a>3.3. Operation</h3>
<div class="paragraph">
<p>Each <code>wsdl:operation</code> in a <code>wsdl:portType</code> is mapped to a Java method in
the corresponding Java service endpoint interface.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Method naming):</em> In the absence of customizations, the name of a mapped
Java method MUST be the value of the <code>name</code> attribute of the
<code>wsdl:operation</code> element mapped according to the rules described in
section [xmlnames].</p>
</div>
<div class="paragraph">
<p>An application MAY customize this mapping using the <code>jaxws:method</code>
binding declaration defined in section <a href="#bindingdeclporttypeoperation">PortType Operation</a>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance ( javax.jws.WebMethod required):</em> A mapped Java method MUST be annotated
with a <code>javax.jws.WebMethod</code> annotation. The annotation MAY be omitted
if all its properties would have the default values.</p>
</div>
<div class="paragraph">
<p>The WS-I Basic Profile<a href="#bib20">[20]</a> R2304
requires that operations within a <code>wsdl:portType</code> have unique values for
their <code>name</code> attribute so mapping of WS-I compliant WSDL descriptions
will not generate Java interfaces with overloaded methods. However, for
backwards compatibility, JAX-WS supports operation name overloading
provided the overloading does not cause conflicts (as specified in the
Java Language Specification<a href="#bib29">[29]</a>) in the mapped Java
service endpoint interface declaration.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Transmission primitive support):</em> An implementation MUST support mapping
of operations that use the <code>one-way</code> and <code>request-response</code> transmission
primitives.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Using javax.jws.OneWay ):</em> A Java method mapped from a one-way operation
MUST be annotated with a <code>javax.jws.OneWay</code> annotation.</p>
</div>
<div class="paragraph">
<p>Mapping of <code>notification</code> and <code>solicit-response</code> operations is out of
scope.</p>
</div>
<div class="sect3">
<h4 id="msgandpart"><a class="anchor" href="#msgandpart"></a>3.3.1. Message and Part</h4>
<div class="paragraph">
<p>Each <code>wsdl:operation</code> refers to one or more <code>wsdl:message</code> elements via
child <code>wsdl:input</code>, <code>wsdl:output</code>, and <code>wsdl:fault</code> elements that
describe the input, output, and fault messages for the operation
respectively. Each operation can specify one input message, zero or one
output message, and zero or more fault messages.</p>
</div>
<div class="paragraph">
<p>Fault messages are mapped to application specific exceptions (see
section [faulttoexceptmap]). The contents of input and output messages
are mapped to Java method parameters using two different styles:
non-wrapper style and wrapper style. The two mapping styles are
described in the following subsections. Note that the binding of a port
type can affect the mapping of that port type to Java, see section
[wsdl11bindingmap] for details.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Using javax.jws.SOAPBinding ):</em> An SEI mapped from a port type that is
bound using the WSDL SOAP binding MUST be annotated with a
<code>javax.jws.SOAPBinding</code> annotation describing the choice of style,
encoding and parameter style. The annotation MAY be omitted if all its
properties would have the default values (i.e.
document/literal/wrapped).</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Using javax.jws.WebParam ):</em> Generated Java method parameters MUST be
annotated with a <code>javax.jws.WebParam</code> annotation. If the style is rpc or
if the style is Document and the parameter style is BARE then the
<code>partName</code> element of <code>javax.jws.WebParam</code> MUST refer to the <code>wsdl:part</code>
name of the parameter.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Using javax.jws.WebResult ):</em> Generated Java methods MUST be annotated
with a <code>javax.jws.WebResult</code> annotation. If the style is rpc or if the
style is Document and the parameter style is BARE then the <code>partName</code>
element of <code>javax.jws.WebResult</code> MUST refer to the <code>wsdl:part</code> name of
the parameter. The annotation MAY be omitted if all its properties would
have the default values.</p>
</div>
<div class="paragraph">
<p>WSDL description may have <code>wsam:Action</code> attribute on <code>wsdl:input</code>,
<code>wsdl:output</code>, <code>wsdl:fault</code> elements in a <code>wsdl:operation</code>. This
<code>wsam:Action</code> attribute is used to explicitly define the value of the
WS-Addressing Action header and this needs to be mapped on to the
corresponding Java method.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Generating @Action ):</em> Generated Java Methods MUST be annotated with
<code>@Action</code> and <code>@FaultAction</code> annotations for the corresponding
<code>wsdl:input</code>, <code>wsdl:output</code> and <code>wsdl:fault</code> messages that contain
<code>wsam:Action</code> attributes</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Generating @Action input)):</em> If a <code>wsdl:input</code> element contains a
<code>wsam:Action</code> attribute, the value of the attribute MUST be set to the
<code>input</code> element of <code>@Action</code></p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Generating @Action output)):</em> If a <code>wsdl:output</code> element contains a
<code>wsam:Action</code> attribute, the value of the attribute MUST be set to the
<code>output</code> element of <code>@Action</code></p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Generating @Action fault)):</em> If a <code>wsdl:fault</code> element contains a
<code>wsam:Action</code> attribute, the value of the attribute MUST be set to the
value element of <code>@FaultAction</code>. The <code>className</code> element of
<code>@FaultAction</code> MUST be the exception class name associated with the
<code>wsdl:fault</code></p>
</div>
<div id="2.2" class="paragraph">
<p>Figure 2.2: shows an example of the <code>wsam:Action</code> mapping
described above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td>
  <td class="code"><pre>&lt;operation name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;input message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPrice</span><span class="delimiter">&quot;</span></span> /&gt;
    &lt;output message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponse</span><span class="delimiter">&quot;</span></span> wsam:<span class="predefined-type">Action</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">outAction</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;fault name=<span class="string"><span class="delimiter">&quot;</span><span class="content">InvalidTickerException</span><span class="delimiter">&quot;</span></span>
        message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:InvalidTickerException</span><span class="delimiter">&quot;</span></span> wsam:<span class="predefined-type">Action</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">faultAction</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/operation&gt;

<span class="comment">// the mapped java method</span>
<span class="annotation">@Action</span>(output=<span class="string"><span class="delimiter">&quot;</span><span class="content">outAction</span><span class="delimiter">&quot;</span></span>,
        fault={ <span class="annotation">@FaultAction</span>(className=InvalidTickerException.class,
                        value=<span class="string"><span class="delimiter">&quot;</span><span class="content">faultAction</span><span class="delimiter">&quot;</span></span>) }
)
<span class="type">float</span> getPrice(<span class="predefined-type">String</span> ticker) <span class="directive">throws</span> InvalidTickerException;</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 2.2: Mapping of wsam:Action metadata</p>
</div>
<div class="paragraph">
<p>When generating an SEI from WSDL and XML schema, occasionally
ambiguities occur on what XML infoset should be used to represent a
method’s return value or parameters. In order to remove these
ambiguities, JAXB annotations may need to be generated on methods and
method parameters to assure that the return value and the parameters are
marshalled with the proper XML infoset. A JAXB annotation on the method
is used to specify the binding of a methods return type while an
annotation on the parameter specifies the binding of that parameter. If
the default XML infoset for the return type or parameters correctly
represents the XML infoset, no JAXB annotations are needed.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (use of JAXB annotations):</em> An SEI method MUST contain the appropriate
JAXB annotations to assure that the proper XML infoset is used when
marshalling/unmarshalling the return type. Parameters of an SEI method
MUST contain the appropriate JAXB annotations to assure that the proper
XML infoset is used when marshalling/unmarshalling the parameters of the
method. The set of JAXB annotations that MUST be supported are:
<code>javax.xml.bind.annotation.XmlAttachementRef</code>,
<code>javax.xml.bind.annotation.XmlList</code>, <code>javax.xml.bind.XmlMimeType</code> and
<code>javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter</code>.</p>
</div>
<div class="sect4">
<h5 id="non-wrapper-style"><a class="anchor" href="#non-wrapper-style"></a>3.3.1.1. Non-wrapper Style</h5>
<div class="paragraph">
<p>A <code>wsdl:message</code> is composed of zero or more <code>wsdl:part</code> elements.
Message parts are classified as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>in</code></dt>
<dd>
<p>The message part is present only in the operation’s input message.</p>
</dd>
<dt class="hdlist1"><code>out</code></dt>
<dd>
<p>The message part is present only in the operation’s output message.</p>
</dd>
<dt class="hdlist1"><code>in/out</code></dt>
<dd>
<p>The message part is present in both the operation’s input message and
output message.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Two parts are considered equal if they have the same values for their
<code>name</code> attribute and they reference the same global element or type.
Using non-wrapper style, message parts are mapped to Java parameters
according to their classification as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>in</code></dt>
<dd>
<p>The message part is mapped to a method parameter.</p>
</dd>
<dt class="hdlist1"><code>out</code></dt>
<dd>
<p>The message part is mapped to a method parameter using a holder class
(see section [wsd112jholders]) or is mapped to the method return type.</p>
</dd>
<dt class="hdlist1"><code>in/out</code></dt>
<dd>
<p>The message part is mapped to a method parameter using a holder class.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Non-wrapped parameter naming):</em> In the absence of any customizations, the
name of a mapped Java method parameter MUST be the value of the <code>name</code>
attribute of the <code>wsdl:part</code> element mapped according to the rules
described in sections [xmlnames] and [namecollisions].</p>
</div>
<div class="paragraph">
<p>An application MAY customize this mapping using the <code>jaxws:parameter</code>
binding declaration defined in section [bindingdeclporttypeoperation].</p>
</div>
<div class="paragraph">
<p>Section [paramorderandreturn] defines rules that govern the ordering of
parameters in mapped Java methods and identification of the part that is
mapped to the method return type.</p>
</div>
</div>
<div class="sect4">
<h5 id="wrappedstyle"><a class="anchor" href="#wrappedstyle"></a>3.3.1.2. Wrapper Style</h5>
<div class="paragraph">
<p>A WSDL operation qualifies for wrapper style mapping only if the
following criteria are met:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The operation’s input and output messages (if present) each contain
only a single part</p>
</li>
<li>
<p>The input message part refers to a global element declaration whose
localname is equal to the operation name</p>
</li>
<li>
<p>The output message (if present) part refers to a global element
declaration</p>
</li>
<li>
<p>The elements referred to by the input and output message (if
present) parts (henceforth referred to as <em>wrapper</em> elements) are both
complex types defined using the <code>xsd:sequence</code> compositor</p>
</li>
<li>
<p>The wrapper elements only contain child elements, they MUST not
contain other structures such as wildcards (element or attribute),
<code>xsd:choice</code>, substitution groups (element references are not permitted)
or attributes; furthermore, they MUST not be nillable.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Default mapping mode):</em> Operations that do not meet the criteria above
MUST be mapped using non-wrapper style.</p>
</div>
<div class="paragraph">
<p>In some cases use of the wrapper style mapping can lead to undesirable
Java method signatures and use of non-wrapper style mapping would be
preferred.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Disabling wrapper style):</em> An implementation MUST support use of the
<code>jaxws:enableWrapperStyle</code> binding declaration to enable or disable the
wrapper style mapping of operations (see section
[bindingdeclporttypeoperation]).</p>
</div>
<div class="paragraph">
<p>Using wrapper style, the child elements of the wrapper element
(henceforth called <em>wrapper children</em>) are mapped to Java parameters,
wrapper children are classified as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>in</code></dt>
<dd>
<p>The wrapper child is only present in the input message part’s wrapper
element.</p>
</dd>
<dt class="hdlist1"><code>out</code></dt>
<dd>
<p>The wrapper child is only present in the output message part’s wrapper
element.</p>
</dd>
<dt class="hdlist1"><code>in/out</code></dt>
<dd>
<p>The wrapper child is present in both the input and output message
part’s wrapper element.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Two wrapper children are considered equal if they have the same local
name, the same XML schema type and the same Java type after mapping (see
section [wsdl11typemapping] for XML Schema to Java type mapping rules).
The mapping depends on the classification of the wrapper child as
follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>in</code></dt>
<dd>
<p>The wrapper child is mapped to a method parameter.</p>
</dd>
<dt class="hdlist1"><code>out</code></dt>
<dd>
<p>The wrapper child is mapped to a method parameter using a holder class
(see section [wsd112jholders]) or is mapped to the method return
value.</p>
</dd>
<dt class="hdlist1"><code>in/out</code></dt>
<dd>
<p>The wrapper child is mapped to a method parameter using a holder
class.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Wrapped parameter naming):</em> In the absence of customization, the name of
a mapped Java method parameter MUST be the value of the local name of
the wrapper child mapped according to the rules described in sections
[xmlnames] and [namecollisions].</p>
</div>
<div class="paragraph">
<p>An application MAY customize this mapping using the <code>jaxws:parameter</code>
binding declaration defined in section [bindingdeclporttypeoperation].</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Parameter name clash):</em> If the mapping results in two Java parameters
with the same name and one of those parameters is not mapped to the
method return type, see section [paramorderandreturn], then this is
reported as an error and requires developer intervention to correct,
either by disabling wrapper style mapping, modifying the source WSDL or
by specifying a customized parameter name mapping.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Using <code>javax.xml.ws.RequestWrapper</code> ):</em> If wrapper style is used,
generated Java methods MUST be annotated with a
<code>javax.xml.ws.RequestWrapper</code> annotation. The annotation MAY be omitted
if all its properties would have the default values.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Using <code>javax.xml.ws.ResponseWrapper</code> ):</em> If wrapper style is used,
generated Java methods MUST be annotated with a
<code>javax.xml.ws.ResponseWrapper</code> annotation. The annotation MAY be omitted
if all its properties would have the default values.</p>
</div>
</div>
<div class="sect4">
<h5 id="example"><a class="anchor" href="#example"></a>3.3.1.3. Example</h5>
<div class="paragraph">
<p>Figure [w112jwrapperex] shows a WSDL extract and the Java method that
results from using wrapper and non-wrapper mapping styles. For
readability, annotations are omitted.</p>
</div>
<div id="2.3" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre></td>
  <td class="code"><pre><span class="comment">&lt;!-- WSDL extract --&gt;</span>
<span class="tag">&lt;types&gt;</span>
    <span class="tag">&lt;xsd:element</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePrice</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;xsd:complexType&gt;</span>
            <span class="tag">&lt;xsd:sequence&gt;</span>
                <span class="tag">&lt;xsd:element</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">tickerSymbol</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:string</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
                <span class="tag">&lt;xsd:element</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">lastTradePrice</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:float</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
            <span class="tag">&lt;/xsd:sequence&gt;</span>
        <span class="tag">&lt;/xsd:complexType&gt;</span>
    <span class="tag">&lt;/xsd:element&gt;</span>

    <span class="tag">&lt;xsd:element</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePriceResponse</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;xsd:complexType&gt;</span>
            <span class="tag">&lt;xsd:sequence</span><span class="tag">/&gt;</span>
        <span class="tag">&lt;/xsd:complexType&gt;</span>
    <span class="tag">&lt;/xsd:element&gt;</span>
<span class="tag">&lt;/types&gt;</span>

<span class="tag">&lt;message</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePrice</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;part</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePrice</span><span class="delimiter">&quot;</span></span>
        <span class="attribute-name">element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:setLastTradePrice</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/message&gt;</span>

<span class="tag">&lt;message</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePriceResponse</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;part</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePriceResponse</span><span class="delimiter">&quot;</span></span>
        <span class="attribute-name">element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:setLastTradePriceResponse</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/message&gt;</span>

<span class="tag">&lt;portType</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteUpdater</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;operation</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePrice</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;input</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:setLastTradePrice</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;output</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:setLastTradePriceResponse</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/operation&gt;</span>
<span class="tag">&lt;/portType&gt;</span>

// non-wrapper style mapping
SetLastTradePriceResponse setLastTradePrice(
    SetLastTradePrice setLastTradePrice);

// wrapper style mapping
void setLastTradePrice(String tickerSymbol, float lastTradePrice);</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 2.3: Wrapper and non-wrapper mapping styles</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="paramorderandreturn"><a class="anchor" href="#paramorderandreturn"></a>3.3.2. Parameter Order and Return Type</h4>
<div class="paragraph">
<p>A <code>wsdl:operation</code> element may have a <code>parameterOrder</code> attribute that
defines the ordering of parameters in a mapped Java method as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Message parts are either listed or unlisted. If the value of a
<code>wsdl:part</code> element’s <code>name</code> attribute is present in the
<code>parameterOrder</code> attribute then the part is listed, otherwise it is
unlisted.</p>
<div class="paragraph">
<p><strong>Note:</strong> <em>R2305 in WS-I Basic Profile 1.1 (Ballinger, Ehnebuske, Ferris, et al.
2004) requires that if the parameterOrder attribute is present then at
most one part may be unlisted. However, the algorithm outlined in this
section supports WSDLs that do not conform with this requirement.</em></p>
</div>
</li>
<li>
<p>Parameters that are mapped from message parts are either listed or
unlisted. Parameters that are mapped from listed parts are listed;
parameters that are mapped from unlisted parts are unlisted.</p>
</li>
<li>
<p>Parameters that are mapped from wrapper children (wrapper style
mapping only) are unlisted.</p>
</li>
<li>
<p>Listed parameters appear first in the method signature in the order in
which their corresponding parts are listed in the <code>parameterOrder</code>
attribute.</p>
</li>
<li>
<p>Unlisted parameters either form the return type or follow the listed
parameters</p>
</li>
<li>
<p>The return type is determined as follows:</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Non-wrapper style mapping</dt>
<dd>
<p>Only parameters that are mapped from parts in the abstract output
message may form the return type, parts from other messages (see e.g.
section [wsdl11headbindext]) do not qualify. If there is a single
unlisted <code>out</code> part in the abstract output message then it forms the
method return type, otherwise the return type is <code>void</code>.</p>
</dd>
<dt class="hdlist1">Wrapper style mapping</dt>
<dd>
<p>If there is a single <code>out</code> wrapper child then it forms the method
return type, if there is an <code>out</code> wrapper child with a local name of
return then it forms the method return type, otherwise the return type
is <code>void</code>.</p>
</dd>
</dl>
</div>
</li>
<li>
<p>Unlisted parameters that do not form the return type follow the listed
parameters in the following order:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Parameters mapped from <code>in</code> and <code>in/out</code> parts appear in the same
order the corresponding parts appear in the input message.</p>
</li>
<li>
<p>Parameters mapped from <code>in</code> and <code>in/out</code> wrapper children (wrapper
style mapping only) appear in the same order as the corresponding
elements appear in the wrapper.</p>
</li>
<li>
<p>Parameters mapped from <code>out</code> parts appear in the same order the
corresponding parts appear in the output message.</p>
</li>
<li>
<p>Parameters mapped from <code>out</code> wrapper children (wrapper style mapping
only) appear in the same order as the corresponding wrapper children
appear in the wrapper.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="wsd112jholders"><a class="anchor" href="#wsd112jholders"></a>3.3.3. Holder Class</h4>
<div class="paragraph">
<p>Holder classes are used to support <code>out</code> and <code>in/out</code> parameters in
mapped method signatures. They provide a mutable wrapper for otherwise
immutable object references. JAX-WS defines a generic holder class
(<code>javax.xml.ws.Holder&lt;T&gt;</code>) that can be used for any Java class.</p>
</div>
<div class="paragraph">
<p>Parameters whose XML data type would normally be mapped to a Java
primitive type (e.g., <code>xsd:int</code> to <code>int</code>) are instead mapped to a
<code>Holder</code> whose type parameter is bound to the Java wrapper class
corresponding to the primitive type. E.g., an <code>out</code> or <code>in/out</code>
parameter whose XML data type would normally be mapped to a Java <code>int</code>
is instead mapped to <code>Holder&lt;java.lang.Integer&gt;</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Use of <code>Holder</code> ):</em> Implementations MUST map <code>out</code> and <code>in/out</code> method
parameters using <code>javax.xml.ws.Holder&lt;T&gt;</code>, with the exception of a <code>out</code>
part that has been mapped to the method’s return type.</p>
</div>
</div>
<div class="sect3">
<h4 id="wsdl11asyncmethod"><a class="anchor" href="#wsdl11asyncmethod"></a>3.3.4. Asynchrony</h4>
<div class="paragraph">
<p>In addition to the synchronous mapping of <code>wsdl:operation</code> described
above, a client side asynchronous mapping is also supported. It is
expected that the asynchronous mapping will be useful in some but not
all cases and therefore generation of the client side asynchronous
methods should be optional at the users discretion.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Asynchronous mapping required):</em> An implementation MUST support the
asynchronous mapping.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Asynchronous mapping option):</em> An implementation MUST support use of the
<code>jaxws:enableAsyncMapping</code> binding declaration defined in section
<a href="#bindingdeclporttypeoperation">PortType Operation</a> to enable and disable the asynchronous
mapping.</p>
</div>
<div class="paragraph">
<p>JSR-181 currently does not define annotations that can be used to mark a
method as being asynchronous.</p>
</div>
<div class="sect4">
<h5 id="standard-asynchronous-interfaces"><a class="anchor" href="#standard-asynchronous-interfaces"></a>3.3.4.1. Standard Asynchronous Interfaces</h5>
<div class="paragraph">
<p>The following standard interfaces are used in the asynchronous operation
mapping:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>javax.xml.ws.Response</code></dt>
<dd>
<p>A generic interface that is used to group the results of a method
invocation with the response context. <code>Response</code> extends <code>Future&lt;T&gt;</code>
to provide asynchronous result polling capabilities.</p>
</dd>
<dt class="hdlist1"><code>javax.xml.ws.AsyncHandler</code></dt>
<dd>
<p>A generic interface that clients implement to receive results in an
asynchronous callback.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="operation"><a class="anchor" href="#operation"></a>3.3.4.2. Operation</h5>
<div class="paragraph">
<p>Each <code>wsdl:operation</code> is mapped to two additional methods in the
corresponding service endpoint interface:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Polling method</dt>
<dd>
<p>A polling method returns a typed <code>Response&lt;`<em>ResponseBean</em></code>&gt;` that may
be polled using methods inherited from <code>Future&lt;T&gt;</code> to determine when
the operation has completed and to retrieve the results. See below for
further details on <em>ResponseBean</em>.</p>
</dd>
<dt class="hdlist1">Callback method</dt>
<dd>
<p>A callback method takes an additional final parameter that is an
instance of a typed <code>AsyncHandler&lt;`<em>ResponseBean</em></code>&gt;` and returns a
wildcard <code>Future&lt;?&gt;</code> that may be polled to determine when the
operation has completed. The object returned from <code>Future&lt;?&gt;.get()</code>
has no standard type. Client code should not attempt to cast the
object to any particular type as this will result in non-portable
behavior.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Asynchronous method naming):</em> In the absence of customizations, the name
of the polling and callback methods MUST be the value of the <code>name</code>
attribute of the <code>wsdl:operation</code> suffixed with Async mapped according
to the rules described in sections <a href="#xmlnames">XML Names</a> and <a href="#namecollisions">Name Collisions</a>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Asynchronous parameter naming):</em> The name of the method parameter for the
callback handler MUST be asyncHandler. Parameter name collisions require
user intervention to correct, see section <a href="#namecollisions">Name Collisions</a>.</p>
</div>
<div class="paragraph">
<p>An application MAY customize this mapping using the <code>jaxws:method</code>
binding declaration defined in section <a href="#bindingdeclporttypeoperation">PortType Operation</a>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Failed method invocation):</em> If there is any error prior to invocation of
the operation, an implementation MUST throw a
`WebServiceException`<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>.</p>
</div>
</div>
<div class="sect4">
<h5 id="message-and-part"><a class="anchor" href="#message-and-part"></a>3.3.4.3. Message and Part</h5>
<div class="paragraph">
<p>The asynchronous mapping supports both wrapper and non-wrapper mapping
styles, but differs in how it maps <code>out</code> and <code>in/out</code> parts or wrapper
children:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">in</dt>
<dd>
<p>The part or wrapper child is mapped to a method parameter as described
in section <a href="#msgandpart">Message and Part</a>.</p>
</dd>
<dt class="hdlist1">out</dt>
<dd>
<p>The part or wrapper child is mapped to a property of the response bean
(see below).</p>
</dd>
<dt class="hdlist1">in/out</dt>
<dd>
<p>The part or wrapper child is mapped to a method parameter (no holder
class) and to a property of the response bean.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="wsdl11responsebean"><a class="anchor" href="#wsdl11responsebean"></a>3.3.4.4. Response Bean</h5>
<div class="paragraph">
<p>A response bean is a mapping of an operation’s output message, it
contains properties for each <code>out</code> and <code>in/out</code> message part or wrapper
child.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Response bean naming):</em> In the absence of customizations, the name of a
response bean MUST be the value of the <code>name</code> attribute of the
<code>wsdl:operation</code> suffixed with Response mapped according to the rules
described in sections <a href="#xmlnames">XML Names</a> and <a href="#namecollisions">Name Collisions</a>.</p>
</div>
<div class="paragraph">
<p>A response bean is mapped from a global element declaration following
the rules described in section <a href="#wsdl11typemapping">Types</a>. The global element
declaration is formed as follows (in order of preference):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the operation’s output message contains a single part and that part
refers to a global element declaration then use the referenced global
element.</p>
</li>
<li>
<p>Synthesize a global element declaration of a complex type defined
using the <code>xsd:sequence</code> compositor. Each output message part is mapped
to a child of the synthesized element as follows:</p>
<div class="ulist">
<ul>
<li>
<p>Each global element referred to by an output part is added as a child
of the sequence.</p>
</li>
<li>
<p>Each part that refers to a type is added as a child of the sequence
by creating an element in no namespace whose localname is the value of
the <code>name</code> attribute of the <code>wsdl:part</code> element and whose type is the
value of the <code>type</code> attribute of the <code>wsdl:part</code> element</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the resulting response bean has only a single property then the bean
wrapper should be discarded in method signatures. In this case, if the
property is a Java primitive type then it is boxed using the Java
wrapper type (e.g. <code>int</code> to <code>Integer</code>) to enable its use with
<code>Response</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="wsdl112jasyncfaults"><a class="anchor" href="#wsdl112jasyncfaults"></a>3.3.4.5. Faults</h5>
<div class="paragraph">
<p>Mapping of WSDL faults to service specific exceptions is identical for
both asynchronous and synchronous cases, section <a href="#faulttoexceptmap">Fault</a>
describes the mapping. However, mapped asynchronous methods do not throw
service specific exceptions directly. Instead a
<code>java.util.concurrent.ExecutionException</code> is thrown when a client
attempts to retrieve the results of an asynchronous method invocation
via the <code>Response.get</code> method.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Asynchronous fault reporting):</em> A WSDL fault that occurs during execution
of an asynchronous method invocation MUST be mapped to a
<code>java.util.concurrent.ExecutionException</code> thrown when the client calls
<code>Response.get</code>.</p>
</div>
<div class="paragraph">
<p><code>Response</code> is a static generic interface whose <code>get</code> method cannot throw
service specific exceptions. Instead of throwing a service specific
exception, a <code>Response</code> instance throws an <code>ExecutionException</code> whose
cause is set to an instance of the service specific exception mapped
from the corresponding WSDL fault.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Asychronous fault cause):</em> An <code>ExecutionException</code> that is thrown by the
<code>get</code> method of <code>Response</code> as a result of a WSDL fault MUST have as its
cause the service specific exception mapped from the WSDL fault, if
there is one, otherwise the <code>ProtocolException</code> mapped from the WSDL
fault (see <a href="#coreexceptions">Exceptions</a>).</p>
</div>
</div>
<div class="sect4">
<h5 id="mapping-examples"><a class="anchor" href="#mapping-examples"></a>3.3.4.6. Mapping Examples</h5>
<div class="paragraph">
<p>Figure <a href="#2.4">[2.4]</a> shows an example of the asynchronous operation
mapping. Note that the mapping uses <code>Float</code> instead of a response bean
wrapper (<code>GetPriceResponse</code>) since the synthesized global element
declaration for the operations output message (lines 17–24) maps to a
response bean that contains only a single property.</p>
</div>
<div id="2.4" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td>
  <td class="code"><pre>&lt;!-- WSDL extract --&gt;
&lt;message name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">ticker</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:string</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/message&gt;

&lt;message name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceResponse</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">price</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:float</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/message&gt;

&lt;portType name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuote</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;operation name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;input message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPrice</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;output message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponse</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;/operation&gt;
&lt;/portType&gt;

&lt;!-- Synthesized response bean element --&gt;
&lt;xsd:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceResponse</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;xsd:complexType&gt;
        &lt;xsd:sequence&gt;
            &lt;xsd:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">price</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:float</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;/xsd:sequence&gt;
    &lt;/xsd:complexType&gt;
&lt;/xsd:element&gt;

<span class="comment">// synchronous mapping</span>
<span class="annotation">@WebService</span>
<span class="directive">public</span> <span class="type">interface</span> <span class="class">StockQuote</span> {
    <span class="type">float</span> getPrice(<span class="predefined-type">String</span> ticker);
}

<span class="comment">// asynchronous mapping</span>
<span class="annotation">@WebService</span>
<span class="directive">public</span> <span class="type">interface</span> <span class="class">StockQuote</span> {
    <span class="type">float</span> getPrice(<span class="predefined-type">String</span> ticker);
    Response&lt;<span class="predefined-type">Float</span>&gt; getPriceAsync(<span class="predefined-type">String</span> ticker);
    <span class="predefined-type">Future</span>&lt;?&gt; getPriceAsync(<span class="predefined-type">String</span> ticker, AsyncHandler&lt;<span class="predefined-type">Float</span>&gt;);
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 2.4: Asynchronous operation mapping</p>
</div>
</div>
<div class="sect4">
<h5 id="usage-examples"><a class="anchor" href="#usage-examples"></a>3.3.4.7. Usage Examples</h5>
<div class="ulist">
<ul>
<li>
<p>Synchronous use.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>Service service = ...;
StockQuote quoteService = (StockQuote)service.getPort(portName);
Float quote = quoteService.getPrice(ticker);</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Asynchronous polling use.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>Service service = ...;
StockQuote quoteService = (StockQuote)service.getPort(portName);
Response&lt;Float&gt; response = quoteService.getPriceAsync(ticker);
while (!response.isDone()) {
    // do something while we wait
}
Float quote = response.get();</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Asynchronous callback use.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>class MyPriceHandler implements AsyncHandler&lt;Float&gt; {
    ...
    public void handleResponse(Response&lt;Float&gt; response) {</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="wsdl11typemapping"><a class="anchor" href="#wsdl11typemapping"></a>3.4. Types</h3>
<div class="paragraph">
<p>Mapping of XML Schema types to Java is described by the JAXB 2.1
specification<a href="#bib11">[11]</a>. The contents of a <code>wsdl:types</code> section is
passed to JAXB along with any additional type or element declarations
(e.g., see section <a href="#wsdl11asyncmethod">Asynchrony</a>) required to map other WSDL
constructs to Java. E.g., section <a href="#wsdl11asyncmethod">Asynchrony</a> defines an
algorithm for synthesizing additional global element declarations to
provide a mapping from WSDL operations to asynchronous Java method
signatures.</p>
</div>
<div class="paragraph">
<p>JAXB supports mapping XML types to either Java interfaces or classes. By
default JAX-WS uses the class based mapping of JAXB but also allows use
of the interface based mapping.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (JAXB class mapping):</em> In the absence of user customizations, an
implementation MUST use the JAXB class based mapping with
<code>generateValueClass</code> set to <code>true</code> and <code>generateElementClass</code> set to
<code>false</code> when mapping WSDL types to Java.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (JAXB customization use):</em> An implementation MUST support use of JAXB
customizations during mapping as detailed in section
<a href="#jaxbbindingdeclarations">Using JAXB Binding Declarations</a>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (JAXB customization clash):</em> To avoid clashes, if a user customizes the
mapping, an implementation MUST NOT add the default class based mapping
customizations.</p>
</div>
<div class="paragraph">
<p>In addition, for ease of use, JAX-WS strips any <code>JAXBElement&lt;T&gt;</code> wrapper
off the type of a method parameter if the normal JAXB mapping would
result in one<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup>. E.g. a parameter that JAXB would
map to <code>JAXBElement&lt;Integer&gt;</code> is instead be mapped to <code>Integer</code>.</p>
</div>
<div class="paragraph">
<p>JAXB provides support for the SOAP MTOM<a href="#bib30">[30]</a>
/XOP<a href="#bib31">[31]</a> mechanism for
optimizing transmission of binary data types. JAX-WS provides the MIME
processing required to enable JAXB to serialize and deserialize MIME
based MTOM/XOP packages. The contract between JAXB and an MTOM/XOP
package processor is defined by the
<code>javax.xml.bind.AttachmentMarshaller</code> and
<code>javax.xml.bind.AttachmentUnmarshaller</code> classes. A JAX-WS implementation
can plug into it by registering its own <code>AttachmentMarshaller</code> and
<code>AttachmentUnmarshaller</code> at runtime using the
<code>setAttachmentUnmarshaller</code> method of <code>javax.xml.bind.Unmarshaller</code>
(resp. the <code>setAttachmentMarshaller</code> method of
<code>javax.xml.bind.Marshaller</code>).</p>
</div>
<div class="sect3">
<h4 id="w3ceprmapping"><a class="anchor" href="#w3ceprmapping"></a>3.4.1. W3CEndpointReference</h4>
<div class="paragraph">
<p>JAXB 2.1 by default does not map <code>wsa:EndpointReference</code> to the
<code>javax.xml.ws.wsaddressing.W3CEndpointReference</code> class. However, for
JAX-WS developers to fully utilize the use of a <code>wsa:EndpointReference</code>,
JAX-WS implementations MUST map the <code>wsa:EndpointReference</code></p>
</div>
<div class="paragraph">
<p>and its subtypes to <code>javax.ws.xml.ws.W3CEndpointReference</code> by default.
JAXB 2.1 provides a standard customization that can be used to cause
this mapping. Implementations may provide a way to map these types
differently.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (<code>javax.xml.ws.wsaddressing.W3CEndpointReference</code>):</em> Any schema element of
the type <code>wsa:EndpointReference</code> or its subtypes MUST be mapped to
<code>javax.xml.ws.wsaddressing.W3CEndpointReference</code> by default.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="faulttoexceptmap"><a class="anchor" href="#faulttoexceptmap"></a>3.5. Fault</h3>
<div class="paragraph">
<p>A <code>wsdl:fault</code> element is mapped to a Java exception.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (<code>javax.xml.ws.WebFault</code> required):</em> A mapped exception MUST be annotated
with a <code>javax.xml.ws.WebFault</code> annotation.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Exception naming):</em> In the absence of customizations, the name of a
mapped exception MUST be the value of the <code>name</code> attribute of the
<code>wsdl:message</code> referred to by the <code>wsdl:fault</code> element mapped according
to the rules in sections <a href="#xmlnames">XML Names</a> and <a href="#namecollisions">Name Collisions</a>.</p>
</div>
<div class="paragraph">
<p>An application MAY customize this mapping using the <code>jaxws:class</code>
binding declaration defined in section <a href="#bindingdeclporttypefault">PortType Fault Message</a>.</p>
</div>
<div class="paragraph">
<p>Multiple operations within the same service can define equivalent
faults. Faults defined within the same service are equivalent if the
values of their <code>message</code> attributes are equal.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Fault equivalence):</em> An implementation MUST map equivalent faults within
a service to a single Java exception class.</p>
</div>
<div class="paragraph">
<p>A <code>wsdl:fault</code> element refers to a <code>wsdl:message</code> that contains a single
part. The global element declaration<sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup></a> R2205 requires parts
to refer to elements rather than types.] referred to by that part is
mapped to a Java bean, henceforth called a <em>fault bean</em>, using the
mapping described in section <a href="#wsdl11typemapping">Types</a>. An implementation
generates a wrapper exception class that extends <code>java.lang.Exception</code>
and contains the following methods:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>WrapperException</em>`(String message, <code><em>FaultBean</em>`faultInfo)</code></dt>
<dd>
<p>A constructor where <em>WrapperException</em> is replaced with the name of
the generated wrapper exception and <em>FaultBean</em> is replaced by the
name of the generated fault bean.</p>
</dd>
<dt class="hdlist1"><em>WrapperException</em>`(String message, <code><em>FaultBean</em>`faultInfo, Throwable cause)</code></dt>
<dd>
<p>A constructor where <em>WrapperException</em> is replaced with the name of
the generated wrapper exception and <em>FaultBean</em> is replaced by the
name of the generated fault bean. The last argument, <code>cause</code>, may be
used to convey protocol specific fault information, see section
<a href="#protocolspecificfaults">Protocol Specific Exception Handling</a>.</p>
</dd>
<dt class="hdlist1"><em>FaultBean</em>`getFaultInfo()`</dt>
<dd>
<p>Getter to obtain the fault information, where <em>FaultBean</em> is replaced
by the name of the generated fault bean.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <em>WrapperException</em> class is annotated using the <code>WebFault</code>
annotation (see section <a href="#mdwebfault">javax.xml.ws.WebFault</a>) to capture the local and namespace
name of the global element mapped to the fault bean.</p>
</div>
<div class="paragraph">
<p>Two <code>wsdl:fault</code> child elements of the same <code>wsdl:operation</code> that
indirectly refer to the same global element declaration are considered
to be equivalent since there is no interoperable way of differentiating
between their serialized forms.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Fault equivalence):</em> At runtime an implementation MAY map a serialized
fault into any equivalent Java exception.</p>
</div>
<div class="sect3">
<h4 id="example-1"><a class="anchor" href="#example-1"></a>3.5.1. Example</h4>
<div class="paragraph">
<p>Figure <a href="#2.5">[2.5]</a> shows an example of the WSDL fault mapping
described above.</p>
</div>
<div id="2.5" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre></td>
  <td class="code"><pre>&lt;!-- WSDL extract --&gt;
&lt;types&gt;
    &lt;xsd:schema targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;xsd:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">faultDetail</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;xsd:complexType&gt;
                &lt;xsd:sequence&gt;
                    &lt;xsd:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">majorCode</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:int</span><span class="delimiter">&quot;</span></span>/&gt;
                    &lt;xsd:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">minorCode</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:int</span><span class="delimiter">&quot;</span></span>/&gt;
                &lt;/xsd:sequence&gt;
            &lt;/xsd:complexType&gt;
        &lt;/xsd:element&gt;
    &lt;/xsd:schema&gt;
&lt;/types&gt;

&lt;message name=<span class="string"><span class="delimiter">&quot;</span><span class="content">operationException</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">faultDetail</span><span class="delimiter">&quot;</span></span> element=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:faultDetail</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/message&gt;

&lt;portType name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteUpdater</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;operation name=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePrice</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;input .../&gt;
        &lt;output .../&gt;
        &lt;fault name=<span class="string"><span class="delimiter">&quot;</span><span class="content">operationException</span><span class="delimiter">&quot;</span></span>
            message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:operationException</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;/operation&gt;
&lt;/portType&gt;

<span class="comment">// fault mapping</span>
<span class="annotation">@WebFault</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">faultDetail</span><span class="delimiter">&quot;</span></span>, targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="type">class</span> <span class="class">OperationException</span> <span class="directive">extends</span> <span class="exception">Exception</span> {
    OperationException(<span class="predefined-type">String</span> message, FaultDetail faultInfo) {...}
    OperationException(<span class="predefined-type">String</span> message, FaultDetail faultInfo,
        <span class="predefined-type">Throwable</span> cause) {...}
FaultDetail getFaultInfo() {...}
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 2.5: Fault mapping</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="wsdl11bindingmap"><a class="anchor" href="#wsdl11bindingmap"></a>3.6. Binding</h3>
<div class="paragraph">
<p>The mapping from WSDL 1.1 to Java is based on the abstract description
of a <code>wsdl:portType</code> and its associated operations. However, the binding
of a port type to a protocol can introduce changes in the mapping – this
section describes those changes in the general case and specifically for
the mandatory WSDL 1.1 protocol bindings.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Required WSDL extensions):</em> An implementation MUST support mapping of the
WSDL 1.1 specified extension elements for the WSDL SOAP and MIME
bindings.</p>
</div>
<div class="sect3">
<h4 id=""><a class="anchor" href="#"></a>3.6.1. <a id="general-considerations"></a></h4>
<div class="paragraph">
<p>General Considerations</p>
</div>
<div class="paragraph">
<p>R2209 in WS-I Simple SOAP Binding Profile 1.1<a href="#bib32">[32]</a>
recommends that all parts of a message be bound but does not require it.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Unbound message parts):</em> To preserve the protocol independence of mapped
operations, an implementation MUST NOT ignore unbound message parts when
mapping from WSDL 1.1 to Java. Instead an implementation MUST generate
binding code that ignores <code>in</code> and <code>in/out</code> parameters mapped from
unbound parts and that presents <code>out</code> parameters mapped from unbound
parts as <code>null</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="wsdl11soapbindingmap"><a class="anchor" href="#wsdl11soapbindingmap"></a>3.6.2. SOAP Binding</h4>
<div class="paragraph">
<p>This section describes changes to the WSDL 1.1 to Java mapping that may
result from use of certain SOAP binding extensions.</p>
</div>
<div class="sect4">
<h5 id="wsdl11headbindext"><a class="anchor" href="#wsdl11headbindext"></a>3.6.2.1. Header Binding Extension</h5>
<div class="paragraph">
<p>A <code>soap:header</code> element may be used to bind a part from a message to a
SOAP header. As clarified by R2208 in WS-I Basic Profile 1.1<a href="#bib20">[20]</a>,
the part may belong to either the
message bound by the <code>soap:body</code> or to a different message:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the part belongs to the message bound by the <code>soap:body</code> then it is
mapped to a method parameter as described in section <a href="#wsdl11opmap">Operation</a>. Such
a part is always mapped using the non-wrapper style.</p>
</li>
<li>
<p>If the part belongs to a different message than that bound by the
<code>soap:body</code> then it may optionally be mapped to an additional method
parameter. When mapped to a parameter, the part is treated as an
additional unlisted part for the purposes of the mapping described in
section <a href="#wsdl11opmap">Operation</a>. This additional part does not affect eligibility
for wrapper style mapping of the message bound by the <code>soap:body</code> (see
section <a href="#msgandpart">Message and Part</a>); the additional part is always mapped using the
non-wrapper style.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that the order of headers in a SOAP message is independent of the
order of <code>soap:header</code> elements in the WSDL binding – see R2751 in WS-I
Basic Profile 1.0<a href="#bib8">[8]</a>. This
causes problems when two or more headers with the same qualified name
are present in a message and one or more of those headers are bound to a
method parameter since it is not possible to determine which header maps
to which parameter.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Duplicate headers in binding):</em> When mapping, an implemention MUST report
an error if the binding of an operation includes two or more
<code>soap:header</code> elements that would result in SOAP headers with the same
qualified name.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Duplicate headers in message):</em> An implementation MUST generate a runtime
error if, during unmarshalling, there is more than one instance of a
header whose qualified name is mapped to a method parameter.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="wsdl11mimebindingmap"><a class="anchor" href="#wsdl11mimebindingmap"></a>3.6.3. MIME Binding</h4>
<div class="paragraph">
<p>The presence of a <code>mime:multipartRelated</code> binding extension element as a
child of a <code>wsdl:input</code> or <code>wsdl:output</code> element in a <code>wsdl:binding</code>
indicates that the corresponding messages may be serialized as MIME
packages. The WS-I Attachments Profile<a href="#bib33">[33]</a>
describes two separate attachment mechanisms, both based on use of the
WSDL 1.1 MIME binding<a href="#bib5">[5]</a>:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>wsiap:swaRef</code></dt>
<dd>
<p>A schema type that may be used in the abstract message description to
indicate a reference to an attachment.</p>
</dd>
<dt class="hdlist1"><code>mime:content</code></dt>
<dd>
<p>A binding construct that may be used to bind a message part to an
attachment.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>JAXB<a href="#bib10">[10]</a> describes the mapping from the WS-I
defined <code>wsiap:swaref</code> schema type to Java and, since JAX-WS inherits
this capability, it is not discussed further here. Use of the
<code>mime:content</code> construct is outside the scope of JAXB mapping and the
following subsection describes changes to the WSDL 1.1 to Java mapping
that results from its use.</p>
</div>
<div class="sect4">
<h5 id="mimecontent"><a class="anchor" href="#mimecontent"></a>3.6.3.1. <code>mime:content</code></h5>
<div class="paragraph">
<p>Message parts are mapped to method parameters as described in section
<a href="#wsdl11opmap">Operation</a> regardless of whether the part is bound to the SOAP
message or to an attachment. JAXB rules are used to determine the Java
type of message parts based on the XML schema type referenced by the
<code>wsdl:part</code>. However, when a message part is bound to a MIME part (using
the <code>mime:content</code> element of the WSDL MIME binding) additional
information is available that provides the MIME type of the data and
this can optionally be used to narrow the default JAXB mapping.
This use of additional metadata in <code>mime:content</code> elements is disabled
by default for WSDL to Java mapping, but can be enabled using
<code>jaxws:enableMIMEContent</code> customization (section <a href="#bindingdeclbinding">Binding</a>).</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Use of MIME type information):</em> An implementation MUST support using the
<code>jaxws:enableMIMEContent</code> binding declaration defined in section
<a href="#bindingdeclbinding">Binding</a> to enable or disable the use of the additional
metadata in <code>mime:content</code> elements when mapping from WSDL to Java.</p>
</div>
<div class="paragraph">
<p>JAXB defines a mapping between MIME types and Java types. When a part is
bound using one or more <code>mime:content</code> elements<sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup> and use of the additional metadata is enabled then the
JAXB mapping is customized to use the most specific type allowed by the
set of MIME types described for the part in the binding. The case where
the parameter mode is <code>INOUT</code> and is bound to different mime bindings in
the input and output messages using the <code>mime:content</code> element MUST also
be treated in the same way as described above. Please refer to appendix
H in the JAXB 2.0 specification <a href="#bib10">[10]</a> for details
of the type mapping.</p>
</div>
<div class="paragraph">
<p>The part belongs to the message bound by the <code>soap:body</code> then it is
mapped to a method parameter as described in section <a href="#wsdl11opmap">Operation</a>. Such
a part is always mapped using the non-wrapper style.</p>
</div>
<div class="paragraph">
<p>Parts bound to MIME using the <code>mime:content</code> WSDL extension are mapped
as described in section <a href="#wsdl11opmap">Operation</a>. These parts are mapped using the
non-wrapper style.</p>
</div>
<div class="paragraph">
<p>Figure <a href="#2.6">[2.6]</a> shows an example WSDL and two mapped interfaces:
one without using the <code>mime:content</code> metadata, the other using the
additional metadata to narrow the binding. Note that in the latter the
type of the <code>claimPhoto</code> method parameter is <code>Image</code> rather than the
default <code>byte[]</code>.</p>
</div>
<div id="2.6" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre></td>
  <td class="code"><pre>&lt;!-- WSDL extract --&gt;
&lt;wsdl:message name=<span class="string"><span class="delimiter">&quot;</span><span class="content">ClaimIn</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;wsdl:part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">body</span><span class="delimiter">&quot;</span></span> element=<span class="string"><span class="delimiter">&quot;</span><span class="content">types:ClaimDetail</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;wsdl:part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">ClaimPhoto</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:base64Binary</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/wsdl:message&gt;

&lt;wsdl:portType name=<span class="string"><span class="delimiter">&quot;</span><span class="content">ClaimPortType</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;wsdl:operation name=<span class="string"><span class="delimiter">&quot;</span><span class="content">SendClaim</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;wsdl:input message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:ClaimIn</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;/wsdl:operation&gt;
&lt;/wsdl:portType&gt;

&lt;wsdl:binding name=<span class="string"><span class="delimiter">&quot;</span><span class="content">ClaimBinding</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:ClaimPortType</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;soapbind:binding style=<span class="string"><span class="delimiter">&quot;</span><span class="content">document</span><span class="delimiter">&quot;</span></span> transport=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;wsdl:operation name=<span class="string"><span class="delimiter">&quot;</span><span class="content">SendClaim</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;soapbind:operation soapAction=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;wsdl:input&gt;
            &lt;mime:multipartRelated&gt;
                &lt;mime:part&gt;
                    &lt;soapbind:body parts=<span class="string"><span class="delimiter">&quot;</span><span class="content">body</span><span class="delimiter">&quot;</span></span> use=<span class="string"><span class="delimiter">&quot;</span><span class="content">literal</span><span class="delimiter">&quot;</span></span>/&gt;
                &lt;/mime:part&gt;
                &lt;mime:part&gt;
                    &lt;mime:content part=<span class="string"><span class="delimiter">&quot;</span><span class="content">ClaimPhoto</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">image/jpeg</span><span class="delimiter">&quot;</span></span>/&gt;
                    &lt;mime:content part=<span class="string"><span class="delimiter">&quot;</span><span class="content">ClaimPhoto</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">image/gif</span><span class="delimiter">&quot;</span></span>/&gt;
                &lt;/mime:part&gt;
            &lt;/mime:multipartRelated&gt;
        &lt;/wsdl:input&gt;
    &lt;/wsdl:operation&gt;
&lt;/wsdl:binding&gt;

<span class="comment">// Mapped Java interface without mime:content metadata</span>
<span class="annotation">@WebService</span>
<span class="directive">public</span> <span class="type">interface</span> <span class="class">ClaimPortType</span> {
    <span class="directive">public</span> <span class="predefined-type">String</span> sendClaim(ClaimDetail detail, <span class="type">byte</span> claimPhoto<span class="type">[]</span>);
}

<span class="comment">// Mapped Java interface using mime:content metadata</span>
<span class="annotation">@WebService</span>
<span class="directive">public</span> <span class="type">interface</span> <span class="class">ClaimPortType</span> {
    <span class="directive">public</span> <span class="predefined-type">String</span> sendClaim(ClaimDetail detail, <span class="predefined-type">Image</span> claimPhoto);
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 2.6: Use of <code>mime:content</code> metadata</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (MIME type mismatch):</em> On receipt of a message where the MIME type of a
part does not match that described in the WSDL an implementation SHOULD
throw a <code>WebServiceException</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (MIME part identification):</em> An implementation MUST use the algorithm
defined in the WS-I Attachments Profile<a href="#bib33">[33]</a>
when generating the MIME <code>Content-ID</code> header field value for a part
bound using <code>mime:content</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gensvcif"><a class="anchor" href="#gensvcif"></a>3.7. Service and Port</h3>
<div class="paragraph">
<p>A <code>wsdl:service</code> is a collection of related <code>wsdl:port</code> elements. A
<code>wsdl:port</code> element describes a port type bound to a particular protocol
(a <code>wsdl:binding</code>) that is available at particular endpoint address. On
the client side, a <code>wsdl:service</code> element is mapped to a generated
service class that extends <code>javax.xml.ws.Service</code> (see section
<a href="#serviceapi">javax.xml.ws.Service</a> for more information on the <code>Service</code> class).</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance ( Service superclass required):</em> A generated service class MUST extend
the <code>javax.xml.ws.Service</code> class.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Service class naming):</em> In the absence of customization, the name of a
generated service class MUST be the value of the <code>name</code> attribute of the
<code>wsdl:service</code> element mapped according to the rules described in
sections <a href="#xmlnames">XML Names</a> and <a href="#namecollisions">Name Collisions</a>.</p>
</div>
<div class="paragraph">
<p>An application MAY customize the name of the generated service class
using the <code>jaxws:class</code> binding declaration defined in section
<a href="#bindingdeclservice">Service</a>.</p>
</div>
<div class="paragraph">
<p>In order to allow an implementation to identify the Web service that a
generated service class corresponds to, the latter is required to be
annotated with <code>javax.xml.ws.WebServiceClient</code> annotation. The
annotation contains all the information necessary to locate a WSDL
document and uniquely identify a <code>wsdl:service</code> inside it.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (<code>javax.xml.ws.WebServiceClient required</code>):</em> A generated service class
MUST be annotated with a <code>javax.xml.ws.WebServiceClient</code> annotation.</p>
</div>
<div class="paragraph">
<p>JAX-WS 2.2 mandates that six constructors be present on every generated
service class.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Generated service default constructor):</em> A generated service class MUST
have a default (i.e. zero-argument) public constructor. This constructor
MUST call the <code>javax.xml.ws.Service(URL, QName)</code> protected constructor,
passing as arguments the WSDL location and the service name. The values
of the actual arguments for this call MUST be equal (in the
<code>java.lang.Object.equals</code> sense) to the values specified in the
mandatory <code>WebServiceClient</code> annotation on the generated service class
itself.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Generated service <code>(WebServiceFeature &#8230;&#8203;)</code> constructor):</em> A generated
service class MUST have a public constructor that takes one argument,
the web service features (a varargs <code>javax.xml.ws.WebServiceFeature</code>).
This constructor MUST call the
<code>javax.xml.ws.Service(URL, QName, WebServiceFeature &#8230;&#8203;)</code> protected
constructor, passing as arguments the WSDL location, the service name
and the web service features. The values of the actual arguments WSDL
location, service name for this call are as specified in the mandatory
<code>WebServiceClient</code> annotation on the generated service class itself, and
the value of the web service features argument is with which it was
invoked.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Generated service <code>(URL)</code> constructor):</em> The implementation class MUST
have a public constructor that takes one argument, the WSDL location (a
<code>java.net.URL</code>). This constructor MUST call the
<code>javax.xml.ws.Service(URL, QName)</code> protected constructor. The values of
the actual arguments WSDL location is with which it was invoked and the
service name is as specified in the mandatory <code>WebServiceClient</code>
annotation on the generated service class itself.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Generated service <code>(URL,WebServiceFeature&#8230;&#8203;)</code> constructor):</em> The
implementation<br>
class MUST have a public constructor that takes two arguments, the WSDL
location (a <code>java.net.URL</code>) and the web service features (a varargs
<code>javax.xml.ws.WebServiceFeature</code>). This constructor MUST call the
<code>javax.xml.ws.Service(URL, QName, WebServiceFeature &#8230;&#8203;)</code> protected
constructor, passing as arguments the WSDL location, the service name
and the web service features. The values of the actual arguments WSDL
location and the web services features are with which it was invoked and
the service name is as specified in the mandatory <code>WebServiceClient</code>
annotation on the generated service class itself.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Generated service <code>(URL,QName)</code> constructor):</em> The implementation class
MUST have a public constructor that takes two arguments, the WSDL
location (a <code>java.net.URL</code>) and the service name (a
<code>javax.xml.namespace.QName</code>). This constructor MUST call the
<code>javax.xml.ws.Service(URL, QName)</code> protected constructor, passing as
arguments the WSDL location and the service name values with which it
was invoked.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Generated service <code>(URL,QName,WebServiceFeature&#8230;&#8203;)</code> constructor):</em> The
implementation class MUST have a public constructor that takes three
arguments, the WSDL location (a <code>java.net.URL</code>), the service name (a
<code>javax.xml.namespace.QName</code>) and the web service features (a varargs
<code>javax.xml.ws.WebServiceFeature</code>). This constructor MUST call the
<code>javax.xml.ws.Service(URL, QName, WebServiceFeature &#8230;&#8203;)</code> protected
constructor, passing as arguments the WSDL location, the service name
and the web service feature values with which it was invoked.</p>
</div>
<div class="paragraph">
<p>For each port in the service, the generated client side service class
contains the following methods, two for each port defined by the WSDL
service and whose binding is supported by the JAX-WS implementation:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>get`<em>PortName</em></code>()`</dt>
<dd>
<p>One required method that takes no parameters and returns a proxy that
implements the mapped service endpoint interface. The method generated
delegates to the <code>Service.getPort(&#8230;&#8203;)</code> method passing it the port
name. The value of the port name MUST be equal to the value specified
in the mandatory <code>WebEndpoint</code> annotation on the method itself.</p>
</dd>
<dt class="hdlist1"><code>get`<em>PortName</em></code>(WebServiceFeature&#8230;&#8203; features)`</dt>
<dd>
<p>One required method that takes a variable-length array of
<code>javax.xml.ws.WebServiceFeature</code> and returns a proxy that implements
the mapped service endpoint interface. The method generated delegates
to the
<code>Service.getPort(QName portName, Class&lt;T&gt; SEI, WebServiceFeature&#8230;&#8203; features)</code>
method passing it the port name, the SEI and the features. The value
of the port name MUST be equal to the value specified in the mandatory
<code>WebEndpoint</code> annotation on the method itself.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Failed getPort Method):</em> A generated <code>get`<em>PortName</em> method MUST throw
`javax.xml.ws.WebServiceException</code> on failure.</p>
</div>
<div class="paragraph">
<p>The value of <em>PortName</em> in the above is derived as follows: the value of
the <code>name</code> attribute of the <code>wsdl:port</code> element is first mapped to a
Java identifier according to the rules described in section <a href="#xmlnames">XML Names</a>,
this Java identifier is then treated as a JavaBean property for the
purposes of deriving the `get`<em>PortName</em> method name.</p>
</div>
<div class="paragraph">
<p>An application MAY customize the name of the generated methods for a
port using the <code>jaxws:method</code> binding declaration defined in section
<a href="#bindingdeclport">Port</a>.</p>
</div>
<div class="paragraph">
<p>In order to enable an implementation to determine the <code>wsdl:port</code> that a
port getter method corresponds to, the latter is required to be
annotated with a <code>javax.xml.ws.WebEndpoint</code> annotation.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (<code>javax.xml.ws.WebEndpoint</code> required):</em> The <code>get`<em>PortName</em> methods of
generated service interface MUST be annotated with a
`javax.xml.ws.WebEndpoint</code> annotation.</p>
</div>
<div class="sect3">
<h4 id="example-2"><a class="anchor" href="#example-2"></a>3.7.1. Example</h4>
<div class="paragraph">
<p>The following shows a WSDL extract and the resulting generated service
class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
</pre></td>
  <td class="code"><pre>&lt;!-- WSDL extract --&gt;
&lt;wsdl:service name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteService</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;wsdl:port name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteHTTPPort</span><span class="delimiter">&quot;</span></span> binding=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteHTTPBinding</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;wsdl:port name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteSMTPPort</span><span class="delimiter">&quot;</span></span> binding=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteSMTPBinding</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/wsdl:service&gt;

<span class="comment">// Generated Service Class</span>
<span class="annotation">@WebServiceClient</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteService</span><span class="delimiter">&quot;</span></span>,
                    targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks</span><span class="delimiter">&quot;</span></span>,
                    wsdlLocation=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks.wsdl</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">StockQuoteService</span> <span class="directive">extends</span> javax.xml.ws.Service {

    <span class="directive">public</span> StockQuoteService() {
        <span class="local-variable">super</span>(<span class="keyword">new</span> <span class="predefined-type">URL</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks.wsdl</span><span class="delimiter">&quot;</span></span>),
              <span class="keyword">new</span> <span class="predefined-type">QName</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteService</span><span class="delimiter">&quot;</span></span>));
    }

    <span class="directive">public</span> StockQuoteService(WebServiceFeature ... featurs) {
        <span class="local-variable">super</span>(<span class="keyword">new</span> <span class="predefined-type">URL</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks.wsdl</span><span class="delimiter">&quot;</span></span>),
              <span class="keyword">new</span> <span class="predefined-type">QName</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteService</span><span class="delimiter">&quot;</span></span>),
              features);
    }

    <span class="directive">public</span> StockQuoteService(<span class="predefined-type">URL</span> wsdlLocation) {
        <span class="local-variable">super</span>(wsdlLocation,
              <span class="keyword">new</span> <span class="predefined-type">QName</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteService</span><span class="delimiter">&quot;</span></span>));
    }

    <span class="directive">public</span> StockQuoteService(<span class="predefined-type">URL</span> wsdlLocation, WebServiceFeature ... features) {
        <span class="local-variable">super</span>(wsdlLocation,
        <span class="keyword">new</span> <span class="predefined-type">QName</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteService</span><span class="delimiter">&quot;</span></span>),
        features);
    }

    <span class="directive">public</span> StockQuoteService(<span class="predefined-type">URL</span> wsdlLocation, <span class="predefined-type">QName</span> serviceName) {
        <span class="local-variable">super</span>(wsdlLocation, serviceName);
    }

    <span class="directive">public</span> StockQuoteService(<span class="predefined-type">URL</span> wsdlLocation, <span class="predefined-type">QName</span> serviceName,
        WebServiceFeature ... features) {
        <span class="local-variable">super</span>(wsdlLocation, serviceName, features);
    }

    <span class="annotation">@WebEndpoint</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteHTTPPort</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> StockQuoteProvider getStockQuoteHTTPPort() {
        <span class="keyword">return</span> (StockQuoteProvider)<span class="local-variable">super</span>.getPort(
                    <span class="keyword">new</span> <span class="predefined-type">QName</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteHTTPPort</span><span class="delimiter">&quot;</span></span>),
                    StockQuoteProvider.class);
    }

    <span class="annotation">@WebEndpoint</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteHTTPPort</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> StockQuoteProvider getStockQuoteHTTPPort(WebServiceFeature... features) {
        <span class="keyword">return</span> (StockQuoteProvider)<span class="local-variable">super</span>.getPort(
                    <span class="keyword">new</span> <span class="predefined-type">QName</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteHTTPPort</span><span class="delimiter">&quot;</span></span>),
                    StockQuoteProvider.class,
                    features);
    }

    <span class="annotation">@WebEndpoint</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteSMTPPort</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> StockQuoteProvider getStockQuoteSMTPPort() {
        <span class="keyword">return</span> (StockQuoteProvider)<span class="local-variable">super</span>.getPort(
                    <span class="keyword">new</span> <span class="predefined-type">QName</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteSMTPPort</span><span class="delimiter">&quot;</span></span>),
                    StockQuoteProvider.class);
    }

    <span class="annotation">@WebEndpoint</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteSMTPPort</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> StockQuoteProvider getStockQuoteSMTPPort(WebServiceFeature... features) {
        <span class="keyword">return</span> (StockQuoteProvider)<span class="local-variable">super</span>.getPort(
                    <span class="keyword">new</span> <span class="predefined-type">QName</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteSMTPPort</span><span class="delimiter">&quot;</span></span>),
                    StockQuoteProvider.class,
                    features);
    }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above, <code>StockQuoteProvider</code> is the service endpoint interface
mapped from the WSDL port type for both referenced bindings.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="xmlnames"><a class="anchor" href="#xmlnames"></a>3.8. XML Names</h3>
<div class="paragraph">
<p>Appendix C of JAXB 1.0<a href="#bib9">[9]</a> defines a mapping from
XML names to Java identifiers. JAX-WS uses this mapping to convert WSDL
identifiers to Java identifiers with the following modifications and
additions:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Method identifiers</dt>
<dd>
<p>When mapping <code>wsdl:operation</code> names to Java method identifiers, the
<code>get</code> or <code>set</code> prefix is not added. Instead the first word in the
word-list has its first character converted to lower case.</p>
</dd>
<dt class="hdlist1">Parameter identifiers</dt>
<dd>
<p>When mapping <code>wsdl:part</code> names or wrapper child local names to Java
method parameter identifiers, the first word in the word-list has its
first character converted to lower case. Clashes with Java language
reserved words are reported as errors and require use of appropriate
customizations to fix the clash.</p>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="namecollisions"><a class="anchor" href="#namecollisions"></a>3.8.1. Name Collisions</h4>
<div class="paragraph">
<p>WSDL name scoping rules may result in name collisions when mapping from
WSDL 1.1 to Java. E.g., a port type and a service are both mapped to
Java classes but WSDL allows both to be given the same name. This
section defines rules for resolving such name collisions.</p>
</div>
<div class="paragraph">
<p>The order of precedence for name collision resolution is as follows
(highest to lowest);</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Service endpoint interface</p>
</li>
<li>
<p>Non-exception Java class</p>
</li>
<li>
<p>Exception class</p>
</li>
<li>
<p>Service class</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If a name collision occurs between two identifiers with different
precedences, the lower precedence item has its name changed as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Non-exception Java class</dt>
<dd>
<p>The suffix <code>_Type</code> is added to the class name.</p>
</dd>
<dt class="hdlist1">Exception class</dt>
<dd>
<p>The suffix <code>_Exception</code> is added to the class name.</p>
</dd>
<dt class="hdlist1">Service class</dt>
<dd>
<p>The suffix <code>_Service</code> is added to the class name.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If a name collision occurs between two identifiers with the same
precedence, this is reported as an error and requires developer
intervention to correct. The error may be corrected either by modifying
the source WSDL or by specifying a customized name mapping.</p>
</div>
<div class="paragraph">
<p>If a name collision occurs between a mapped Java method and a method in
<code>javax.xml.ws.BindingProvider</code> (an interface that proxies are required
to implement, see section <a href="#bindingproviderif">javax.xml.ws.BindingProvider</a>), the prefix _ is added to
the mapped method.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="j2wsdl11chap"><a class="anchor" href="#j2wsdl11chap"></a>4. Java to WSDL 1.1 Mapping</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes the mapping from Java to WSDL 1.1. This mapping
is used when generating web service endpoints from existing Java
interfaces.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (WSDL 1.1 support):</em> Implementations MUST support mapping Java to WSDL
1.1.</p>
</div>
<div class="paragraph">
<p>The following sections describe the default mapping from each Java
construct to the equivalent WSDL 1.1 artifact.</p>
</div>
<div class="paragraph">
<p>An application MAY customize the mapping using the annotations defined
in section <a href="#metadata">Annotations</a>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Standard annotations):</em> An implementation MUST support the use of
annotations defined in section [metadata] to customize the Java to WSDL
1.1 mapping.</p>
</div>
<div class="sect2">
<h3 id="javanames"><a class="anchor" href="#javanames"></a>4.1. Java Names</h3>
<div class="paragraph">
<p><em>♦ Conformance (Java identifier mapping):</em> In the absence of annotations described in this
specification, Java identifiers MUST be mapped to XML names using the
algorithm defined in appendix B of SOAP 1.2 Part 2<a href="#bib4">[4]</a>.</p>
</div>
<div class="sect3">
<h4 id="javanamecollisions"><a class="anchor" href="#javanamecollisions"></a>4.1.1. Name Collisions</h4>
<div class="paragraph">
<p>WS-I Basic Profile 1.0<a href="#bib8">[8]</a> (see
R2304) requires operations within a <code>wsdl:portType</code> to be uniquely named
– support for customization of the operation name allows this
requirement to be met when a Java SEI contains overloaded methods.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Method name disambiguation):</em> An implementation MUST support the use of
the <code>javax.jws.WebMethod</code> annotation to disambiguate overloaded Java
method names when mapped to WSDL.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="j2w11package"><a class="anchor" href="#j2w11package"></a>4.2. Package</h3>
<div class="paragraph">
<p>A Java package is mapped to a <code>wsdl:definitions</code> element and an
associated <code>targetNamespace</code> attribute. The <code>wsdl:definitions</code> element
acts as a container for other WSDL elements that together form the WSDL
description of the constructs in the corresponding Java package.</p>
</div>
<div class="paragraph">
<p>A default value for the <code>targetNamespace</code> attribute is derived from the
package name as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The package name is tokenized using the . character as a delimiter.</p>
</li>
<li>
<p>The order of the tokens is reversed.</p>
</li>
<li>
<p>The value of the <code>targetNamespace</code> attribute is obtained by
concatenating <a href="http://to" class="bare">http://to</a> the list of tokens separated by  . and /.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>E.g., the Java package com.example.ws would be mapped to the target
namespace <a href="http://ws.example.com/" class="bare">http://ws.example.com/</a> .</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Package name mapping):</em> The <code>javax.jws.WebService</code> annotation (see
section <a href="#mdwebservice">javax.jws.WebService</a>) MAY be used to specify the target namespace to
use for a Web service and MUST be used for classes or interfaces in no
package. In the absence of a <code>javax.jws.WebService</code> annotation the Java
package name MUST be mapped to the value of the <code>wsdl:definitions</code>
element’s <code>targetNamespace</code> attribute using the algorithm defined above.</p>
</div>
<div class="paragraph">
<p>No specific authoring style is required for the mapped WSDL document;
implementations are free to generate WSDL that uses the WSDL and XML
Schema import directives.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (WSDL and XML Schema import directives):</em> Generated WSDL MUST comply with
the WS-I Basic Profile 1.0<a href="#bib8">[8]</a>
restrictions (See R2001, R2002, and R2003) on usage of WSDL and XML
Schema import directives.</p>
</div>
</div>
<div class="sect2">
<h3 id="j2ws11class"><a class="anchor" href="#j2ws11class"></a>4.3. Class</h3>
<div class="paragraph">
<p>A Java class (not an interface) annotated with a <code>javax.jws.WebService</code>
annotation can be used to define a Web service.</p>
</div>
<div class="paragraph">
<p>In order to allow for a separation between Web service interface and
implementation, if the <code>WebService</code> annotation on the class under
consideration has a <code>endpointInterface</code> element, then the interface
referred by this element is for all purposes the SEI associated with the
class.</p>
</div>
<div class="paragraph">
<p>Otherwise, the class implicitly defines a service endpoint interface
(SEI) which comprises all of the public</p>
</div>
<div class="paragraph">
<p>non-static or non-final</p>
</div>
<div class="paragraph">
<p>methods that satisfy one of the following conditions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>They are annotated with the <code>javax.jws.WebMethod</code> annotation with
the <code>exclude</code> element set to <code>false</code> or missing (since <code>false</code> is the
default for this annotation element).</p>
</li>
<li>
<p>They are not annotated with the <code>javax.jws.WebMethod</code> annotation but
their declaring class has a <code>javax.jws.WebService</code> annotation.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For mapping purposes, this implicit SEI and its methods are considered
to be annotated with the same Web service-related annotations that the
original class and its methods have.</p>
</div>
<div class="paragraph">
<p>In pratice, in order to exclude a public method of a class annotated
with <code>WebService</code> and not directly specifying a <code>endpointInterface</code> from
the implicitly defined SEI, it is necessary to annotate the method with
a <code>WebMethod</code> annotation with the <code>exclude</code> element set to <code>true</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Class mapping):</em> An implementation MUST support the mapping of
<code>javax.jws.WebService</code> annotated classes to implicit service endpoint
interfaces.</p>
</div>
<div class="paragraph">
<p>For mapping purposes, this class must be a top level class or a static
inner class. As defined by JSR 181, a class annotated with
<code>javax.jws.WebService</code> must have a default public constructor.</p>
</div>
</div>
<div class="sect2">
<h3 id="j2wsdl11interface"><a class="anchor" href="#j2wsdl11interface"></a>4.4. Interface</h3>
<div class="paragraph">
<p>A Java service endpoint interface (SEI) is mapped to a <code>wsdl:portType</code>
element. The <code>wsdl:portType</code> element acts as a container for other WSDL
elements that together form the WSDL description of the methods in the
corresponding Java SEI. An SEI is a Java interface that meets all of the
following criteria:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It MUST carry a <code>javax.jws.WebService</code> annotation (see
<a href="#mdwebservice">javax.jws.WebService</a>).</p>
</li>
<li>
<p>Any of its methods MAY carry a <code>javax.jws.WebMethod</code> annotation (see
<a href="#mdwebmethod">javax.jws.WebMethod</a>).</p>
</li>
<li>
<p><code>javax.jws.WebMethod</code> if used, MUST NOT have the <code>exclude</code> element set
to <code>true</code>.</p>
</li>
<li>
<p>All method parameters and return types are compatible with the JAXB
2.0<a href="#bib10">[10]</a> Java to XML Schema mapping definition</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>♦ Conformance (portType naming):</em> The <code>javax.jws.WebService</code> annotation (see section
<a href="#mdwebservice">javax.jws.WebService</a>) MAY be used to customize the <code>name</code> and
<code>targetNamespace</code> attributes of the <code>wsdl:portType</code> element. If not
customized, the value of the <code>name</code> attribute of the <code>wsdl:portType</code>
element MUST be the name of the SEI not including the package name and
the target namespace is computed as defined above in section
<a href="#j2w11package">Package</a>.</p>
</div>
<div class="paragraph">
<p>Figure <a href="#3.1">[3.1]</a> shows an example of a Java SEI and the
corresponding <code>wsdl:portType</code>.</p>
</div>
<div class="paragraph">
<p>Multiple SEIs in the same package may result in name clashes as the
result of sections <a href="#j2wsdldocwrapped">Document Wrapped</a> and <a href="#j2w11except">Service Specific Exception</a> of the
specification. Customizations may be used to resolve these clashes. See
sections <a href="#mdwebfault">javax.xml.ws.WebFault</a>, <a href="#mdrequestWrapper">javax.xml.ws.RequestWrapper</a> and <a href="#mdresponseWrapper">javax.xml.ws.ResponseWrapper</a> for
more information on these customizations.</p>
</div>
<div class="sect3">
<h4 id="inheritance"><a class="anchor" href="#inheritance"></a>4.4.1. Inheritance</h4>
<div class="paragraph">
<p>WSDL 1.1 does not define a standard representation for the inheritance
of <code>wsdl:portType</code> elements. When mapping an SEI that inherits from
another interface, the SEI is treated as if all methods of the inherited
interface were defined within the SEI.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Inheritance flattening):</em> A mapped <code>wsdl:portType</code> element MUST contain
WSDL definitions for all the methods of the corresponding Java SEI
including all inherited methods.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Inherited interface mapping):</em> An implementation MAY map inherited
interfaces to additional <code>wsdl:portType</code> elements within the
<code>wsdl:definitions</code> element.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="j2w11method"><a class="anchor" href="#j2w11method"></a>4.5. Method</h3>
<div class="paragraph">
<p>Each public method in a Java SEI is mapped to a <code>wsdl:operation</code> element
in the corresponding <code>wsdl:portType</code> plus one or more <code>wsdl:message</code>
elements.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Operation naming):</em> In the absence of customizations, the value of the
<code>name</code> attribute of the <code>wsdl:operation</code> element MUST be the name of the
Java method. The <code>javax.jws.WebMethod</code> (see [mdwebmethod]) annotation
MAY be used to customize the value of the <code>name</code> attribute of the
<code>wsdl:operation</code> element and MUST be used to resolve naming conflicts.
If the <code>exclude</code> element of the <code>javax.jws.WebMethod</code> is set to <code>true</code>
then the Java method MUST NOT be present in the wsdl as a
<code>wsdl:operation</code> element.</p>
</div>
<div class="paragraph">
<p>Methods are either one-way or two-way: one way methods have an input but
produce no output, two way methods have an input and produce an output.
Section [j2wsdl11onewayops] describes one way operations further.</p>
</div>
<div class="paragraph">
<p>The <code>wsdl:operation</code> element corresponding to each method has one or
more child elements as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <code>wsdl:input</code> element that refers to an associated <code>wsdl:message</code>
element to describe the operation input.</p>
</li>
<li>
<p>(Two-way methods only) an optional <code>wsdl:output</code> element that refers to
a <code>wsdl:message</code> to describe the operation output.</p>
</li>
<li>
<p>(Two-way methods only) zero or more <code>wsdl:fault</code> child elements, one for
each exception thrown by the method. The <code>wsdl:fault</code> child elements
refer to associated <code>wsdl:message</code> elements to describe each fault. See
section [j2w11except] for further details on exception mapping.</p>
</li>
<li>
<p><code>wsdl:input</code>, <code>wsdl:output</code>(if any), and <code>wsdl:fault</code>(if any) child
elements must have <code>wsam:Action</code> attribute to describe WS-Addressing
Action property. The value of the <code>wsam:Action</code> attribute is computed
using the algorithm in section <a href="#wsamComputation">wsam:Action Computation Algorithm</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The value of a <code>wsdl:message</code> element’s <code>name</code> attribute is not
significant but by convention it is normally equal to the corresponding
operation name for input messages and the operation name concatenated
with Response for output messages. Naming of fault messages is described
in section section <a href="#j2w11except">Service Specific Exception</a>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Generating wsam:Action ):</em> <code>wsdl:operation</code>’s child elements
<code>wsdl:input</code>, <code>wsdl:output</code>, and <code>wsdl:fault</code> MUST have the
<code>wsam:Action</code> attribute. <code>wsam:Action</code> attribute MUST be computed using
the algorithm that is specified in <a href="#wsamComputation">wsam:Action Computation Algorithm</a></p>
</div>
<div class="paragraph">
<p>Each <code>wsdl:message</code> element has one of the following<sup class="footnote">[<a id="_footnoteref_5" class="footnote" href="#_footnotedef_5" title="View footnote.">5</a>]</sup>:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Document style</dt>
<dd>
<p>A single <code>wsdl:part</code> child element that refers, via an <code>element</code>
attribute, to a global element declaration in the <code>wsdl:types</code>
section.</p>
</dd>
<dt class="hdlist1">RPC style</dt>
<dd>
<p>Zero or more <code>wsdl:part</code> child elements (one per method parameter and
one for a non-void return value) that refer, via a <code>type</code> attribute,
to named type declarations in the <code>wsdl:types</code> section.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Figure <a href="#3.1">[3.1]</a> shows an example of mapping a Java interface
containing a single method to WSDL 1.1 using document style. Figure
<a href="#3.2">[3.2]</a> shows an example of mapping a Java interface
containing a single method to WSDL 1.1 using RPC style.</p>
</div>
<div class="paragraph">
<p>Section <a href="#j2w11methodparams">Method Parameters and Return Type</a> describes the mapping from Java methods and
their parameters to corresponding global element declarations and named
types in the <code>wsdl:types</code> section.</p>
</div>
<div id="3.1" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre></td>
  <td class="code"><pre><span class="comment">// Java</span>
<span class="keyword">package</span> <span class="namespace">com.example</span>;
<span class="annotation">@WebService</span>
<span class="directive">public</span> <span class="type">interface</span> <span class="class">StockQuoteProvider</span> {
    <span class="type">float</span> getPrice(<span class="predefined-type">String</span> tickerSymbol)
        <span class="directive">throws</span> TickerException;
}

&lt;!-- WSDL extract --&gt;
&lt;types&gt;
    &lt;xsd:schema targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;!-- element declarations --&gt;
        &lt;xsd:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>
            type=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceType</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;xsd:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceResponse</span><span class="delimiter">&quot;</span></span>
            type=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponseType</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;xsd:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">TickerException</span><span class="delimiter">&quot;</span></span>
            type=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:TickerExceptionType</span><span class="delimiter">&quot;</span></span>/&gt;

        &lt;!-- type definitions --&gt;
        ...
    &lt;/xsd:schema&gt;
&lt;/types&gt;

&lt;message name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span> element=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPrice</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/message&gt;

&lt;message name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceResponse</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceResponse</span><span class="delimiter">&quot;</span></span> element=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponse</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/message&gt;

&lt;message name=<span class="string"><span class="delimiter">&quot;</span><span class="content">TickerException</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">TickerException</span><span class="delimiter">&quot;</span></span> element=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:TickerException</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/message&gt;

&lt;portType name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteProvider</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;operation name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;input message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPrice</span><span class="delimiter">&quot;</span></span> wsam:action=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;output message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponse wsam:action=</span><span class="delimiter">&quot;</span></span>...<span class="string"><span class="delimiter">&quot;</span><span class="content">/&gt;
        &lt;fault message=</span><span class="delimiter">&quot;</span></span>tns:TickerException wsam:action=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;/operation&gt;
&lt;/portType&gt;</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 3.1: Java interface to WSDL portType mapping using document style</p>
</div>
<div id="3.2" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre></td>
  <td class="code"><pre><span class="comment">// Java</span>
<span class="keyword">package</span> <span class="namespace">com.example</span>;
<span class="annotation">@WebService</span>
<span class="directive">public</span> <span class="type">interface</span> <span class="class">StockQuoteProvider</span> {
    <span class="type">float</span> getPrice(<span class="predefined-type">String</span> tickerSymbol)
        <span class="directive">throws</span> TickerException;
}

&lt;!-- WSDL extract --&gt;
&lt;types&gt;
    &lt;xsd:schema targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;!-- element declarations --&gt;
        &lt;xsd:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">TickerException</span><span class="delimiter">&quot;</span></span>
            type=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:TickerExceptionType</span><span class="delimiter">&quot;</span></span>/&gt;

        &lt;!-- type definitions --&gt;
        ...
    &lt;/xsd:schema&gt;
&lt;/types&gt;

&lt;message name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">tickerSymbol</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:string</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/message&gt;

&lt;message name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceResponse</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">return</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:float</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/message&gt;

&lt;message name=<span class="string"><span class="delimiter">&quot;</span><span class="content">TickerException</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">TickerException</span><span class="delimiter">&quot;</span></span> element=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:TickerException</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/message&gt;

&lt;portType name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteProvider</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;operation name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;input message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPrice</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;output message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponse</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;fault message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:TickerException</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;/operation&gt;
&lt;/portType&gt;</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 3.2: Java interface to WSDL portType mapping using RPC style</p>
</div>
<div class="sect3">
<h4 id="j2wsdl11onewayops"><a class="anchor" href="#j2wsdl11onewayops"></a>4.5.1. One Way Operations</h4>
<div class="paragraph">
<p>Only Java methods whose return type is <code>void</code>, that have no parameters
that implement <code>Holder</code> and that do not throw any checked exceptions can
be mapped to one-way operations. Not all Java methods that fulfill this
requirement are amenable to become one-way operations and automatic
choice between two-way and one-way mapping is not possible.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (One-way mapping):</em> Implementations MUST support use of the
<code>javax.jws.OneWay</code> (see [mdoneway]) annotation to specify which methods
to map to one-way operations. Methods that are not annotated with
<code>javax.jws.OneWay</code> MUST NOT be mapped to one-way operations.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (One-way mapping errors):</em> Implementations MUST prevent mapping to one-way
operations of methods that do not meet the necessary criteria.</p>
</div>
</div>
<div class="sect3">
<h4 id="wsamComputation"><a class="anchor" href="#wsamComputation"></a>4.5.2. wsam:Action Computation Algorithm</h4>
<div class="paragraph">
<p>All <code>wsdl:operation</code>’s child elements <code>wsdl:input</code>, <code>wsdl:output</code> and
<code>wsdl:fault</code> must have the <code>wsam:Action</code> attribute in the the generated
WSDL. The algorithm to compute <code>wsam:Action</code> from SEI method is as
follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A non-default <code>@Action(input=&#8230;&#8203;)</code> or <code>@WebMethod(action=&#8230;&#8203;)</code> value
on a SEI method MUST result into <code>wsdl:input[@wsam:Action]</code> attribute in
the corresponding wsdl:operation. Also, <code>@Action(input=&#8230;&#8203;)</code> and
<code>@WebMethod(action=&#8230;&#8203;)</code> annotation element values MUST be same, if
present.</p>
</li>
<li>
<p>A non-default <code>@Action(output=&#8230;&#8203;)</code> value on a SEI method MUST
result into <code>wsdl:output</code> attribute in the corresponding
<code>wsdl:operation</code>.</p>
</li>
<li>
<p>A non-default <code>@Action(@FaultAction=&#8230;&#8203;)</code> value on a SEI method MUST
result into <code>wsdl:fault</code> attribute in the corresponding
<code>wsdl:operation</code>. The <code>wsdl:fault</code> element MUST correspond to the
exception specified by <code>className</code> annotated element value.</p>
</li>
<li>
<p>If <code>wsdl:input[@wsam:Action]</code> cannot be mapped from the above steps,
then <code>wsam:Action</code> is generated using the metadata defaulting algorithm
as if <code>wsdl:input[@name]</code> is not present in WSDL.</p>
</li>
<li>
<p>If <code>wsdl:output[@wsam:Action]</code> cannot be mapped from the above
steps, then <code>wsam:Action</code> is generated using the metadata defaulting
algorithm as if <code>wsdl:output[@name]</code> is not present in WSDL.</p>
</li>
<li>
<p>If <code>wsdl:fault[@wsam:Action]</code> cannot be mapped from the above steps,
then <code>wsam:Action</code> is generated using the metadata defaulting algorithm
as if <code>wsdl:fault[@name]</code> is the corresponding exception class name.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td>
  <td class="code"><pre><span class="annotation">@Action</span>(input=<span class="string"><span class="delimiter">&quot;</span><span class="content">inAction</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">float</span> getPrice(<span class="predefined-type">String</span> ticker) <span class="directive">throws</span> InvalidTickerException;

<span class="comment">// the mapped wsdl:operation if targetNamespace=&quot;http://example.com&quot; and</span>
<span class="comment">// portType=&quot;StockQuoteProvider&quot;</span>
&lt;operation name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;input name=<span class="string"><span class="delimiter">&quot;</span><span class="content">foo</span><span class="delimiter">&quot;</span></span> message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPrice</span><span class="delimiter">&quot;</span></span> wsam:<span class="predefined-type">Action</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">inAction</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;output name=<span class="string"><span class="delimiter">&quot;</span><span class="content">bar</span><span class="delimiter">&quot;</span></span> message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponse</span><span class="delimiter">&quot;</span></span>
        wsam:<span class="predefined-type">Action</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/StockQuoteProvider/getPriceResponse</span><span class="delimiter">&quot;</span></span> /&gt;
    &lt;fault name=<span class="string"><span class="delimiter">&quot;</span><span class="content">FooTickerException</span><span class="delimiter">&quot;</span></span> message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:InvalidTickerException</span><span class="delimiter">&quot;</span></span> wsam:<span class="predefined-type">Action</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/StockQuoteProvider/getPrice/Fault/InvalidTickerException</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/operation&gt;</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="j2w11methodparams"><a class="anchor" href="#j2w11methodparams"></a>4.6. Method Parameters and Return Type</h3>
<div class="paragraph">
<p>A Java method’s parameters and return type are mapped to components of
either the messages or the global element declarations mapped from the
method. Parameters can be mapped to components of the message or global
element declaration for either the operation input message, operation
output message or both. The mapping depends on the parameter
classification.The <code>javax.jws.WebParam</code> annotation’s <code>header</code> element
MAY be used to map parameters to SOAP headers. Header parameters MUST be
included as <code>soap:header</code> elements in the operation’s input message. The
<code>javax.jws.WebResult</code> annotation’s <code>header</code> element MAY be used to map
results to SOAP headers. Header results MUST be included as
<code>soap:header</code> elements in the operation’s output message.</p>
</div>
<div class="paragraph">
<p>Since JAX-WS uses JAXB for it data binding, JAXB annotations on methods
and method parameters MUST be honored. A JAXB annotation on the method
is used to specify the binding of a methods return type while an
annotation on the parameter specifies the binding of that parameter.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (use of JAXB annotations):</em> An implementation MUST honor any JAXB
annotation that exists on an SEI method or parameter to assure that the
proper XML infoset is used when marshalling/<br>
unmarshalling the the return value or parameters of the method. The set
of JAXB annotations that MUST be supported are:
<code>javax.xml.bind.annotation.XmlAttachementRef</code>,
<code>javax.xml.bind.annotation.XmlList</code>, <code>javax.xml.bind.XmlMimeType</code> and
<code>javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter</code></p>
</div>
<div class="paragraph">
<p>JAXB doesn’t define any namespace by default to types and elements. In
the web services, typically these entities that are created for method
parameters and return parameters are qualified.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Overriding JAXB types empty namespace):</em> JAX-WS tools and runtimes MUST
override the default empty namespace for JAXB types and elements to
SEI’s targetNamespace.</p>
</div>
<div class="sect3">
<h4 id="j2wsdl11paramclass"><a class="anchor" href="#j2wsdl11paramclass"></a>4.6.1. Parameter and Return Type Classification</h4>
<div class="paragraph">
<p>Method parameters and return type are classified as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>in</code></dt>
<dd>
<p>The value is transmitted by copy from a service client to the SEI but
is not returned from the service endpoint to the client.</p>
</dd>
<dt class="hdlist1"><code>out</code></dt>
<dd>
<p>The value is returned by copy from an SEI to the client but is not
transmitted from the client to the service endpoint implementation.</p>
</dd>
<dt class="hdlist1"><code>in/out</code></dt>
<dd>
<p>The value is transmitted by copy from a service client to the SEI and
is returned by copy from the SEI to the client.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>A methods return type is always <code>out</code>. For method parameters, holder
classes are used to determine the classification. <code>javax.xml.ws.Holder</code>.
A parameter whose type is a parameterized <code>javax.xml.ws.Holder&lt;T&gt;</code> class
is classified as <code>in/out</code> or <code>out</code>, all other parameters are classified
as <code>in</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Parameter classification):</em> The <code>javax.jws.WebParam</code> annotation (see
[mdwebparam]) MAY be used to specify whether a holder parameter is
treated as <code>in/out</code> or <code>out</code>. If not specified, the default MUST be
<code>in/out</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Parameter naming):</em> The <code>javax.jws.WebParam</code> annotation (see
[mdwebparam]) MAY be used to specify the <code>name</code> of the <code>wsdl:part</code> or
XML Schema element declaration corresponding to a Java parameter. If
both the <code>name</code> and <code>partName</code> elements are used in the
<code>javax.jws.WebParam</code> annotation then the <code>partName</code> MUST be used for the
<code>wsdl:part</code> name attribute and the <code>name</code> element from the annotation
will be ignored. If not specified, the default is arg_N_, where <em>N</em> is
replaced with the zero-based argument index. Thus, for instance, the
first argument of a method will have a default parameter name of arg0,
the second one arg1and so on.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Result naming):</em> The <code>javax.jws.WebResult</code> annotation (see [mdwebparam])
MAY be used to specify the <code>name</code> of the <code>wsdl:part</code> or XML Schema
element declaration corresponding to the Java method return type. If
both the <code>name</code> and <code>partName</code> elements are used in the
<code>javax.jws.WebResult</code> annotations then the <code>partName</code> MUST be used for
the <code>wsdl:part</code> name attribute and the <code>name</code> elment from the annotation
will be ignored. In the absence of customizations, the default name is
<code>return</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Header mapping of parameters and results):</em> The <code>javax.jws.WebParam</code>
annotation’s <code>header</code> element MAY be used to map parameters to SOAP
headers. Header parameters MUST be included as <code>soap:header</code> elements in
the operation’s input message. The <code>javax.jws.WebResult</code> annotation’s
<code>header</code> element MAY be used to map results to SOAP headers. Header
results MUST be included as <code>soap:header</code> elements in the operation’s
output message.</p>
</div>
</div>
<div class="sect3">
<h4 id="jaxbargmap"><a class="anchor" href="#jaxbargmap"></a>4.6.2. Use of JAXB</h4>
<div class="paragraph">
<p>JAXB 2.1 defines a mapping from Java classes to XML Schema constructs.
JAX-WS uses this mapping to generate XML Schema named type and global
element declarations that are referred to from within the WSDL <code>message</code>
constructs generated for each operation.</p>
</div>
<div class="paragraph">
<p>Three styles of Java to WSDL mapping are supported: document wrapped,
document bare and RPC. The styles differ in what XML Schema constructs
are generated for a method. The three styles are described in the
following subsections.</p>
</div>
<div class="paragraph">
<p>The <code>javax.jws.SOAPBinding</code> annotation MAY be used to specify at the
type level which style to use for all methods it contains or on a per
method basis if the <code>style</code> is <code>document</code>.</p>
</div>
<div class="sect4">
<h5 id="j2wsdldocwrapped"><a class="anchor" href="#j2wsdldocwrapped"></a>4.6.2.1. Document Wrapped</h5>
<div class="paragraph">
<p>This style is identified by a <code>javax.jws.SOAPBinding</code> annotation with
the following properties: a <code>style</code> of <code>DOCUMENT</code>, a <code>use</code> of <code>LITERAL</code>
and a <code>parameterStyle</code> of <code>WRAPPED</code>.</p>
</div>
<div class="paragraph">
<p>For the purposes of utilizing the JAXB mapping, each method is converted
to two Java bean classes: one for the method input (henceforth called
the <em>request bean</em>) and one for the method output (henceforth called the
<em>response bean</em>).</p>
</div>
<div class="paragraph">
<p>Application’s programming model doesn’t use these bean classes, so the
applications need not package these classes. JAX-WS implementations may
generate these classes dynamically as specified in this section.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Dynamically generating wrapper beans):</em> A JAX-WS implementation SHOULD
not require an application to package request and response bean classes.
However, when the bean classes are packaged, they MUST be used.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Default wrapper bean names):</em> In the absence of customizations, the
wrapper request bean class MUST be named the same as the method and the
wrapper response bean class MUST be named the same as the method with a
Response suffix. The first letter of each bean name is capitalized to
follow Java class naming conventions.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Default wrapper bean package):</em> In the absence of customizations, the
wrapper beans package MUST be a generated <code>jaxws</code> subpackage of the SEI
package.</p>
</div>
<div class="paragraph">
<p>The <code>javax.xml.ws.RequestWrapper</code> and <code>javax.xml.ws.ResponseWrapper</code>
annotations (see <a href="#mdrequestWrapper">javax.xml.ws.RequestWrapper</a> and <a href="#mdresponseWrapper">javax.xml.ws.ResponseWrapper</a>) MAY be used
to customize the name of the generated wrapper bean classes.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Wrapper element names):</em> The <code>javax.xml.ws.RequestWrapper</code> and
<code>javax.xml.ws.ResponseWrapper</code> annotations (see <a href="#mdrequestWrapper">javax.xml.ws.RequestWrapper</a> and
<a href="#mdresponseWrapper">javax.xml.ws.ResponseWrapper</a>) MAY be used to specify the qualified name of the
elements generated for the wrapper beans.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Wrapper bean name clash):</em> Generated bean classes must have unique names
within a package and MUST NOT clash with other classes in that package.
Clashes during generation MUST be reported as an error and require user
intervention via name customization to correct. Note that some platforms
do not distiguish filenames based on case so comparisons MUST ignore
case.</p>
</div>
<div class="paragraph">
<p>The name of <code>wsdl:part</code> for the wrapper must be named as <code>parameters</code>
for input messages in the generated WSDL. If a SEI method doesn’t have
any header parameters or return type, then the <code>name</code> of <code>wsdl:part</code> for
the wrapper must be named as <code>parameters</code> for output messages in the
generated WSDL, otherwise it would be named as <code>result</code>. The
<code>RequestWrapper</code> and <code>ResponseWrapper</code> annotations MAY be used to
customize the <code>name</code> of the <code>wsdl:part</code> for the wrapper part.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Default Wrapper wsdl:part names):</em> In the absence of customizations, the
name of the <code>wsdl:part</code> for the wrapper MUST be named as <code>parameters</code>
for input messages in the generated WSDL. In the absence of
customizations, when there are no header parameters or return type in a
SEI method, the <code>name</code> of the <code>wsdl:part</code> for the wrapper MUST be named
as <code>parameters</code> for output messages. In all other cases, it MUST be
named as <code>result</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Customizing Wrapper <code>wsdl:part</code> names):</em> Non-default <code>partName</code> values of
the <code>RequestWrapper</code> and <code>ResponseWrapper</code> annotations, if specified on
a SEI method, MUST be used as <code>wsdl:part</code> <code>name</code> for the corresponding
input and output messages in the generated WSDL.</p>
</div>
<div class="paragraph">
<p>A request bean is generated containing properties for each <code>in</code> and
<code>in/out</code> non-header parameter. A response bean is generated containing
properties for the method return value, each <code>out</code> non-header parameter,
and <code>in/out</code> non-header parameter. Method return values are represented
by an <code>out</code> property named return. The order of the properties in the
request bean is the same as the order of parameters in the method
signature. The order of the properties in the response bean is the
property corresponding to the return value (if present) followed by the
properties for the parameters in the same order as the parameters in the
method signature.</p>
</div>
<div class="paragraph">
<p>If a SEI’s method parameter or return type is annotated with
<code>@XmlElement</code>, that annotation is used for the wrapper bean properties.
This can be used to map corresponding XML schema element declaration’s
attributes like <code>minOccurs</code>, <code>maxOccurs</code>, and <code>nillable</code> etc. It is an
error to specify <code>@XmlElement</code> with a parameter or return type that is
mapped to header part. If both <code>@XmlElement</code> and
<code>@WebParam</code>/<code>@WebResult</code> are present, then it is an error to specify
<code>@XmlElement</code>’s <code>name</code>, and <code>namespace</code> elements different from
<code>@WebParam</code>/<code>@WebResult</code>’s <code>name</code> and <code>targetNamespace</code> elements
respectively.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Wrapper property):</em> If a SEI’s method parameter or return type is
annotated with <code>@XmlElement</code>, that annotation MUST be used on the
wrapper bean property.</p>
</div>
<div class="paragraph">
<p>The request and response beans are generated with the appropriate JAXB
customizations to result in a global element declaration for each bean
class when mapped to XML Schema by JAXB. The corresponding global
element declarations MUST NOT have the nillable attribute set to a value
of true. Whereas the element name is derived from the <code>RequestWrapper</code>
or <code>ResponseWrapper</code> annotations, its type is named according to the
operation name (for the local part) and the target namespace for the
portType that contains the operation (for the namespace name).</p>
</div>
<div class="paragraph">
<p>Figure <a href="#3.3">[3.3]</a> illustrates this conversion.</p>
</div>
<div id="3.3" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td>
  <td class="code"><pre><span class="type">float</span> getPrice(<span class="annotation">@WebParam</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">tickerSymbol</span><span class="delimiter">&quot;</span></span>) <span class="predefined-type">String</span> sym);

<span class="annotation">@XmlRootElement</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>, targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@XmlType</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>, targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@XmlAccessorType</span>(AccessType.FIELD)
<span class="directive">public</span> <span class="type">class</span> <span class="class">GetPrice</span> {
    <span class="annotation">@XmlElement</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">tickerSymbol</span><span class="delimiter">&quot;</span></span>, targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="predefined-type">String</span> tickerSymbol;
}

<span class="annotation">@XmlRootElement</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceResponse</span><span class="delimiter">&quot;</span></span>, targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@XmlType</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceResponse</span><span class="delimiter">&quot;</span></span>, targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@XmlAccessorType</span>(AccessType.FIELD)
<span class="directive">public</span> <span class="type">class</span> <span class="class">GetPriceResponse</span> {
    <span class="annotation">@XmlElement</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">return</span><span class="delimiter">&quot;</span></span>, targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">float</span> _return;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 3.3: Wrapper mode bean representation of an operation</p>
</div>
<div class="paragraph">
<p>When the JAXB mapping to XML Schema is utilized this results in global
element declarations for the mapped request and response beans with
child elements for each method parameter according to the parameter
classification:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>in</code></dt>
<dd>
<p>The parameter is mapped to a child element of the global element
declaration for the request bean.</p>
</dd>
<dt class="hdlist1"><code>out</code></dt>
<dd>
<p>The parameter or return value is mapped to a child element of the
global element declaration for the response bean. In the case of a
parameter, the class of the value of the holder class (see section
<a href="#j2wsdl11paramclass">Parameter and Return Type Classification</a>) is used for the mapping rather than the holder
class itself.</p>
</dd>
<dt class="hdlist1"><code>in/out</code></dt>
<dd>
<p>The parameter is mapped to a child element of the global element
declarations for the request and response beans. The class of the
value of the holder class (see section <a href="#j2wsdl11paramclass">Parameter and Return Type Classification</a>) is used
for the mapping rather than the holder class itself.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The global element declarations are used as the values of the
<code>wsdl:part</code> elements <code>element</code> attribute, see figure [exinterfacemap].</p>
</div>
</div>
<div class="sect4">
<h5 id="j2wsdl11docbaremap"><a class="anchor" href="#j2wsdl11docbaremap"></a>4.6.2.2. Document Bare</h5>
<div class="paragraph">
<p>This style is identified by a <code>javax.jws.SOAPBinding</code> annotation with
the following properties: a <code>style</code> of <code>DOCUMENT</code>, a <code>use</code> of <code>LITERAL</code>
and a <code>parameterStyle</code> of <code>BARE</code>.</p>
</div>
<div class="paragraph">
<p>In order to qualify for use of bare mapping mode a Java method must
fulfill all of the following criteria:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>It must have at most one <code>in</code> or <code>in/out</code> non-header parameter.</p>
</li>
<li>
<p>If it has a return type other than <code>void</code> it must have no <code>in/out</code>
or <code>out</code> non-header parameters.</p>
</li>
<li>
<p>If it has a return type of <code>void</code> it must have at most one <code>in/out</code>
or <code>out</code> non-header parameter.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If present, the type of the input parameter is mapped to a named XML
Schema type using the mapping defined by JAXB. If the input parameter is
a holder class then the class of the value of the holder is used
instead.</p>
</div>
<div class="paragraph">
<p>If present, the type of the output parameter or return value is mapped
to a named XML Schema type using the mapping defined by JAXB. If an
output parameter is used then the class of the value of the holder class
is used.</p>
</div>
<div class="paragraph">
<p>A global element declaration is generated for the method input and, in
the absence of a <code>WebParam</code> annotation, its local name is equal to the
operation name. A global element declaration is generated for the method
output and, in the absence of a <code>WebParam</code> or <code>WebResult</code> annotation,
the local name is equal to the operation name suffixed with Response.
The type of the two elements depends on whether a type was generated for
the corresponding element or not:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Named type generated</dt>
<dd>
<p>The type of the global element is the named type.</p>
</dd>
<dt class="hdlist1">No type generated</dt>
<dd>
<p>The type of the element is an anonymous empty type.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The namespace name of the input and output global elements is the value
of the <code>targetNamespace</code> attribute of the WSDL <code>definitions</code> element.</p>
</div>
<div class="paragraph">
<p>The nillable attribute of the generated global elements MUST have a
value of true if and only if the corresponding Java types are reference
types.</p>
</div>
<div class="paragraph">
<p>The global element declarations are used as the values of the
<code>wsdl:part</code> elements <code>element</code> attribute, see figure <a href="#exinterfacemap">[exinterfacemap]</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="rpc"><a class="anchor" href="#rpc"></a>4.6.2.3. RPC</h5>
<div class="paragraph">
<p>This style is identified by a <code>javax.jws.SOAPBinding</code> annotation with
the following properties: a <code>style</code> of <code>RPC</code>, a <code>use</code> of <code>LITERAL</code> and a
<code>parameterStyle</code> of <code>WRAPPED</code> <sup class="footnote">[<a id="_footnoteref_6" class="footnote" href="#_footnotedef_6" title="View footnote.">6</a>]</sup>.</p>
</div>
<div class="paragraph">
<p>The Java types of each <code>in</code>, <code>out</code> and <code>in/out</code> parameter and the return
value are mapped to named XML Schema types using the mapping defined by
JAXB. For <code>out</code> and <code>in/out</code> parameters the class of the value of the
holder is used rather than the holder itself.</p>
</div>
<div class="paragraph">
<p>Each method parameter and the return type is mapped to a message part
according to the parameter classification:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>in</code></dt>
<dd>
<p>The parameter is mapped to a part of the input message.</p>
</dd>
<dt class="hdlist1"><code>out</code></dt>
<dd>
<p>The parameter or return value is mapped to a part of the output
message.</p>
</dd>
<dt class="hdlist1"><code>in/out</code></dt>
<dd>
<p>The parameter is mapped to a part of the input and output message.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The named types are used as the values of the <code>wsdl:part</code> elements
<code>type</code> attribute, see figure <a href="#3.2">[3.2]</a>. The value of the
<code>name</code> attribute of each <code>wsdl:part</code> element is the name of the
corresponding method parameter or returnfor the method return value.</p>
</div>
<div class="paragraph">
<p>Due to the limitations described in section 5.3.1 of the WS-I Basic
Profile specification (see <a href="#bib8">[8]</a>),
null values cannot be used as method arguments or as the return value
from a method which uses the rpc/literal binding.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Null Values in rpc/literal):</em> If a null value is passed as an argument to
a method, or returned from a method, that uses the rpc/literal style,
then an implementation MUST throw a <code>WebServiceException</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="j2w11except"><a class="anchor" href="#j2w11except"></a>4.7. Service Specific Exception</h3>
<div class="paragraph">
<p>A service specific Java exception is mapped to a <code>wsdl:fault</code> element, a
<code>wsdl:message</code> element with a single child <code>wsdl:part</code> element and an
XML Schema global element declaration. The <code>wsdl:fault</code> element appears
as a child of the <code>wsdl:operation</code> element that corresponds to the Java
method that throws the exception and refers to the <code>wsdl:message</code>
element. The <code>wsdl:part</code> element refers to an XML Schema global element
declaration that describes the fault.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Exception naming):</em> In the absence of customizations, the name of the
global element declaration for a mapped exception MUST be the name of
the Java exception. The <code>javax.xml.ws.WebFault</code> annotation MAY be used
to customize the local name and namespace name of the element.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (wsdl:message naming):</em> In the absence of customizations, the name of the
wsdl:message element MUST be the name of the Java exception.</p>
</div>
<div class="paragraph">
<p>The <code>javax.xml.ws.WebFault</code> annotation may be used to customize the name
of the <code>wsdl:message</code> element and also to resolve any conflicts.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (wsdl:message naming using WebFault):</em> If an exception has @WebFault, then
messageName MUST be the name of the corresponding wsdl:message element.</p>
</div>
<div class="paragraph">
<p>Service specific exceptions are defined as all checked exceptions except
<code>java.rmi.RemoteException</code> and its subclasses.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (<code>java.lang.RuntimeExceptions</code> and <code>java.rmi.RemoteExceptions</code>):</em>
<code>java.lang.RuntimeException</code> and <code>java.rmi.RemoteException</code> and their
subclasses MUST NOT be treated as service specific exceptions and MUST
NOT be mapped to WSDL.</p>
</div>
<div class="paragraph">
<p>JAXB defines the mapping from a Java bean to XML Schema element
declarations and type definitions and is used to generate the global
element declaration that describes the fault. For exceptions that match
the pattern described in section <a href="#faulttoexceptmap">Fault</a> (i.e. exceptions
that have a <code>getFaultInfo</code> method and <code>WebFault</code> annotation), the
<em>FaultBean</em> is used as input to JAXB when mapping the exception to XML
Schema. For exceptions that do not match the pattern described in
section <a href="#faulttoexceptmap">Fault</a>, JAX-WS maps those exceptions to Java beans
and then uses those Java beans as input to the JAXB mapping. The
following algorithm is used to map non-matching exception classes to the
corresponding Java beans for use with JAXB:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the absence of customizations, the name of the bean is the same
as the name of the Exception suffixed with Bean.</p>
</li>
<li>
<p>In the absence of customizations, the package of the bean is a
generated <code>jaxws</code> subpackage of the SEI package. E.g. if the SEI package
is <code>com.example.stockquote</code> then the package of the bean would be
<code>com.example.stockquote.jaxws</code>.</p>
</li>
<li>
<p>For each getter in the exception and its superclasses, a property of
the same type and name is added to the bean. The <code>getCause</code>,
<code>getLocalizedMessage</code> and <code>getStackTrace</code> getters from
<code>java.lang.Throwable</code> and the <code>getClass</code> getter from <code>java.lang.Object</code>
are excluded from the list of getters to be mapped.</p>
</li>
<li>
<p>The bean is annotated with a JAXB @XmlType annotation. If the
exception class has a @XmlType annotation, then it is used for the fault
bean’s @XmlType annotation. Otherwise, the fault bean’s @XmlType
annotation is computed with name property set to the name of the
exception and the namespace property set to the target namespace of the
corresponding portType</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Additionally, the <code>@XmlType</code> annotation has a <code>propOrder</code> property
whose value is an array containing the names of all the properties of
the exception class that were mapped in the previous bullet point,
sorted lexicographically according to the Unicode value of each of their
characters (i.e. using the same algorithm that the
<code>int java.lang.String.compareTo(String)</code> method uses).</p>
</li>
</ol>
</div>
</li>
<li>
<p>The bean is annotated with a JAXB <code>@XmlRootElement</code> annotation whose
<code>name</code> property is set, in the absence of customizations, to the name of
the exception.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Fault bean’s @XmlType ):</em> If an exception class has a <code>@XmlType</code>
annotation, then it MUST be used for the fault bean’s <code>@XmlType</code>
annotation.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Fault bean name clash):</em> Generated bean classes must have unique names
within a package and MUST NOT clash with other classes in that package.
Clashes during generation MUST be reported as an error and require user
intervention via name customization to correct. Note that some platforms
do not distiguish filenames based on case so comparisons MUST ignore
case.</p>
</div>
<div class="paragraph">
<p>Figure <a href="#3.4">[3.4]</a> illustrates this mapping.</p>
</div>
<div id="3.4" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td>
  <td class="code"><pre><span class="annotation">@WebFault</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">UnknownTickerFault</span><span class="delimiter">&quot;</span></span>, targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">UnknownTicker</span> <span class="directive">extends</span> <span class="exception">Exception</span> {
    ...
        public UnknownTicker(Sting ticker) { ... }
        <span class="directive">public</span> UnknownTicker(Sting ticker, <span class="predefined-type">String</span> message) { ... }
        <span class="directive">public</span> UnknownTicker(Sting ticker, <span class="predefined-type">String</span> message, <span class="predefined-type">Throwable</span> cause)
            { ... }
        <span class="directive">public</span> <span class="predefined-type">String</span> getTicker() { ... }
}

<span class="annotation">@XmlRootElement</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">UnknownTickerFault</span><span class="delimiter">&quot;</span></span> targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@XmlAccessorType</span>(AccessType.FIELD)
<span class="annotation">@XmlType</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">UnknownTicker</span><span class="delimiter">&quot;</span></span>, namespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>,
        propOrder={<span class="string"><span class="delimiter">&quot;</span><span class="content">message</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">ticker</span><span class="delimiter">&quot;</span></span>})
<span class="directive">public</span> <span class="type">class</span> <span class="class">UnknownTickerBean</span> {
    ...
    public UnknownTickerBean() { ... }
    <span class="directive">public</span> <span class="predefined-type">String</span> getTicker() { ... }
    <span class="directive">public</span> <span class="type">void</span> setTicker(<span class="predefined-type">String</span> ticker) { ... }
    <span class="directive">public</span> <span class="predefined-type">String</span> getMessage() { ... }
    <span class="directive">public</span> <span class="type">void</span> setMessage(<span class="predefined-type">String</span> message) { ... }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 3.4: Mapping of an exception to a bean for use with JAXB.</p>
</div>
<div class="paragraph">
<p>Application’s programming model doesn’t use these bean classes, so the
applications need not package these classes. JAX-WS implementations may
generate these classes dynamically as specified in this section.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Dynamically generating exception beans):</em> JAX-WS implementations SHOULD
not require an application to package exception bean classes. However,
when the exception bean classes are packaged, they MUST be used.</p>
</div>
</div>
<div class="sect2">
<h3 id="j2w11bindings"><a class="anchor" href="#j2w11bindings"></a>4.8. Bindings</h3>
<div class="paragraph">
<p>In WSDL 1.1, an abstract port type can be bound to multiple protocols.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Binding selection):</em> An implementation MUST generate a WSDL binding
according to the rules of the binding denoted by the <code>BindingType</code>
annotation (see <a href="#mdbindingtype">javax.xml.ws.BindingType</a>), if present, otherwise the default is
the SOAP 1.1/HTTP binding (see <a href="#soapbindchap">SOAP Binding</a>).</p>
</div>
<div class="paragraph">
<p>Each protocol binding extends a common extensible skeleton structure and
there is one instance of each such structure for each protocol binding.
An example of a port type and associated binding skeleton structure is
shown in figure <a href="#3.5">[3.5]</a>.</p>
</div>
<div id="3.5" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td>
  <td class="code"><pre>&lt;portType name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteProvider</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;operation name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span> parameterOrder=<span class="string"><span class="delimiter">&quot;</span><span class="content">tickerSymbol</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;input message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPrice</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;output message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponse</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;fault message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:unknowntickerException</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;/operation&gt;
&lt;/portType&gt;

&lt;binding name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteProviderBinding</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;!-- binding specific extensions possible here --&gt;
    &lt;operation name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;!-- binding specific extensions possible here --&gt;
        &lt;input message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPrice</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;!-- binding specific extensions possible here --&gt;
        &lt;/input&gt;
        &lt;output message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponse</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;!-- binding specific extensions possible here --&gt;
        &lt;/output&gt;
        &lt;fault message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:unknowntickerException</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;!-- binding specific extensions possible here --&gt;
        &lt;/fault&gt;
    &lt;/operation&gt;
&lt;/binding&gt;</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 3.5: WSDL portType and associated binding</p>
</div>
<div class="paragraph">
<p>The common skeleton structure is mapped from Java as described in the
following subsections.</p>
</div>
<div class="sect3">
<h4 id="j2w11bindif"><a class="anchor" href="#j2w11bindif"></a>4.8.1. Interface</h4>
<div class="paragraph">
<p>A Java SEI is mapped to a <code>wsdl:binding</code> element and zero or more
<code>wsdl:port</code> extensibility elements.</p>
</div>
<div class="paragraph">
<p>The <code>wsdl:binding</code> element acts as a container for other WSDL elements
that together form the WSDL description of the binding to a protocol of
the corresponding <code>wsdl:portType</code>. The value of the <code>name</code> attribute of
the <code>wsdl:binding</code> is not significant, by convention it contains the
qualified name of the corresponding <code>wsdl:portType</code> suffixed with
Binding.</p>
</div>
<div class="paragraph">
<p>The <code>wsdl:port</code> extensibility elements define the binding specific
endpoint address for a given port, see section <a href="#j2w11svcports">Service and Ports</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="method-and-parameters"><a class="anchor" href="#method-and-parameters"></a>4.8.2. Method and Parameters</h4>
<div class="paragraph">
<p>Each method in a Java SEI is mapped to a <code>wsdl:operation</code> child element
of the corresponding <code>wsdl:binding</code>. The value of the <code>name</code> attribute
of the <code>wsdl:operation</code> element is the same as the corresponding
<code>wsdl:operation</code> element in the bound <code>wsdl:portType</code>. The
<code>wsdl:operation</code> element has <code>wsdl:input</code>, <code>wsdl:output</code>, and
<code>wsdl:fault</code> child elements if they are present in the corresponding
<code>wsdl:operation</code> child element of the <code>wsdl:portType</code> being bound.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="generics"><a class="anchor" href="#generics"></a>4.9. Generics</h3>
<div class="paragraph">
<p>In JAX-WS when starting from Java and if generics are used in the
document wrapped case, impelementations are required to use type
erasure(see JLS section 4.6 for definition of Type Erasure) when
generating the request / response wrapper beans and exception beans
except in the case of <code>Collections</code>. Type erasure is a mapping from
parameterized types or type variables to types that are never
parameterized types or type variables. Erasure basically gets rid of all
the generic type information from the runtime representation. In the
case of <code>Collection</code> instead of applying erasure on the <code>Collection</code>
itself, erasure would be applied to the type of <code>Collection</code> i.e it
would be <code>Collection&lt;erasure(T)&gt;</code>. The following code snippets shows the
result of erasure on a wrapper bean that is generated when using
generics:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre><span class="directive">public</span> &lt;T <span class="directive">extends</span> <span class="predefined-type">Shape</span>&gt; T setColor(T shape, <span class="predefined-type">Color</span> color) {
    shape.setColor(color);
    <span class="keyword">return</span> shape;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The generated wrapper bean would be</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td>
  <td class="code"><pre><span class="annotation">@XmlRootElement</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">setColor</span><span class="delimiter">&quot;</span></span>, namespace = <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@XmlAccessorType</span>(AccessType.FIELD)
<span class="annotation">@XmlType</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">setColor</span><span class="delimiter">&quot;</span></span>, namespace = <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">SetColor</span> {

    <span class="annotation">@XmlElement</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">arg0</span><span class="delimiter">&quot;</span></span>, namespace = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">Shape</span> arg0;

    <span class="annotation">@XmlElement</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">arg1</span><span class="delimiter">&quot;</span></span>, namespace = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">Color</span> arg0;

    <span class="directive">public</span> <span class="predefined-type">Shape</span> getArg0() {
        <span class="keyword">return</span> <span class="local-variable">this</span>.arg0;
    }

    <span class="directive">public</span> <span class="type">void</span> setArg0(<span class="predefined-type">Shape</span> arg0) {
        <span class="local-variable">this</span>.arg0 = arg0;
    }

    <span class="directive">public</span> <span class="predefined-type">Color</span> getArg1() {
        <span class="keyword">return</span> <span class="local-variable">this</span>.arg1;
    }

    <span class="directive">public</span> <span class="type">void</span> setArg1(<span class="predefined-type">Color</span> arg1) {
        <span class="local-variable">this</span>.arg1 = arg1;
    }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The following code snippets shows the resulting wrapper bean when using
Collections:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="directive">public</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">Shape</span>&gt; echoShapeList(<span class="predefined-type">List</span>&lt;<span class="predefined-type">Shape</span>&gt; list) {
    <span class="keyword">return</span> list;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The generated wrapper bean would be</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td>
  <td class="code"><pre><span class="annotation">@XmlRootElement</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">echoShapeList</span><span class="delimiter">&quot;</span></span>, namespace = <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@XmlAccessorType</span>(AccessType.FIELD)
<span class="annotation">@XmlType</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">echoShapeList</span><span class="delimiter">&quot;</span></span>, namespace = <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">EchoShapeList</span> {

    <span class="annotation">@XmlElement</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">arg0</span><span class="delimiter">&quot;</span></span>, namespace = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">Shape</span>&gt; arg0;

    <span class="directive">public</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">Shape</span>&gt; getArg0() {
        <span class="keyword">return</span> <span class="local-variable">this</span>.arg0;
    }

    <span class="directive">public</span> <span class="type">void</span> setArg0(<span class="predefined-type">List</span>&lt;<span class="predefined-type">Shape</span>&gt; arg0) {
        <span class="local-variable">this</span>.arg0 = arg0;
    }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="directive">public</span> &lt;T&gt; T echoTList(<span class="predefined-type">List</span>&lt;T&gt; list) {
    <span class="keyword">if</span> (list.size() == <span class="integer">0</span>)
        <span class="keyword">return</span> <span class="predefined-constant">null</span>;
    <span class="keyword">return</span> list.iterator().next();
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The generated wrapper bean would be</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td>
  <td class="code"><pre><span class="annotation">@XmlRootElement</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">echoTList</span><span class="delimiter">&quot;</span></span>, namespace = <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@XmlAccessorType</span>(AccessType.FIELD)
<span class="annotation">@XmlType</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">echoTList</span><span class="delimiter">&quot;</span></span>, namespace = <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">EchoTList</span> {

    <span class="annotation">@XmlElement</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">arg0</span><span class="delimiter">&quot;</span></span>, namespace = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">Object</span>&gt; arg0;

    <span class="directive">public</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">Object</span>&gt; getArg0() {
        <span class="keyword">return</span> <span class="local-variable">this</span>.arg0;
    }

    <span class="directive">public</span> <span class="type">void</span> setArg0(<span class="predefined-type">List</span>&lt;<span class="predefined-type">Object</span>&gt; arg0) {
        <span class="local-variable">this</span>.arg0 = arg0;
    }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span class="directive">public</span> <span class="predefined-type">List</span>&lt;? <span class="directive">extends</span> <span class="predefined-type">Shape</span>&gt; setArea(<span class="predefined-type">List</span>&lt;? <span class="directive">extends</span> <span class="predefined-type">Shape</span>&gt; list) {
<span class="predefined-type">Iterator</span> iterator = list.iterator();
<span class="keyword">while</span>(iterator.haNext()) {
iterator.next().setArea(...);
}
<span class="keyword">return</span> list;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The generated wrapper bean would be</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td>
  <td class="code"><pre><span class="annotation">@XmlRootElement</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">setArea</span><span class="delimiter">&quot;</span></span>, namespace = <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@XmlAccessorType</span>(AccessType.FIELD)
<span class="annotation">@XmlType</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">setArea</span><span class="delimiter">&quot;</span></span>, namespace = <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">SetArea</span> {

    <span class="annotation">@XmlElement</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">arg0</span><span class="delimiter">&quot;</span></span>, namespace = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">Shape</span>&gt; arg0;

    <span class="directive">public</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">Shape</span>&gt; getArg0() {
        <span class="keyword">return</span> <span class="local-variable">this</span>.arg0;
    }

    <span class="directive">public</span> <span class="type">void</span> setArg0(<span class="predefined-type">List</span>&lt;<span class="predefined-type">Shape</span>&gt; arg0) {
        <span class="local-variable">this</span>.arg0 = arg0;
    }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="j2w11soapbinding"><a class="anchor" href="#j2w11soapbinding"></a>4.10. SOAP HTTP Binding</h3>
<div class="paragraph">
<p>This section describes the additional WSDL binding elements generated
when mapping Java to WSDL 1.1 using the SOAP HTTP binding.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (SOAP binding support):</em> Implementations MUST be able to generate SOAP
HTTP bindings when mapping Java to WSDL 1.1.</p>
</div>
<div class="paragraph">
<p>Figure <a href="#3.6">[3.6]</a> shows an example of a SOAP HTTP binding.</p>
</div>
<div id="3.6" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td>
  <td class="code"><pre>&lt;binding name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteProviderBinding</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;soap:binding
        transport=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://schemas.xmlsoap.org/soap/http</span><span class="delimiter">&quot;</span></span>
            style=<span class="string"><span class="delimiter">&quot;</span><span class="content">document</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;operation name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;soap:operation style=<span class="string"><span class="delimiter">&quot;</span><span class="content">document|rpc</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;input message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPrice</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;soap:body use=<span class="string"><span class="delimiter">&quot;</span><span class="content">literal</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;/input&gt;
        &lt;output message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponse</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;soap:body use=<span class="string"><span class="delimiter">&quot;</span><span class="content">literal</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;/output&gt;
        &lt;fault message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:unknowntickerException</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;soap:fault use=<span class="string"><span class="delimiter">&quot;</span><span class="content">literal</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;/fault&gt;
    &lt;/operation&gt;
&lt;/binding&gt;</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 3.6: WSDL SOAP HTTP binding</p>
</div>
<div class="sect3">
<h4 id="j2w11soapbindif"><a class="anchor" href="#j2w11soapbindif"></a>4.10.1. Interface</h4>
<div class="paragraph">
<p>A Java SEI is mapped to a <code>soap:binding</code> child element of the
corresponding <code>wsdl:binding</code> element plus a <code>soap:address</code> child element
of any corresponding <code>wsdl:port</code> element (see section [j2w11svcports]).</p>
</div>
<div class="paragraph">
<p>The value of the <code>transport</code> attribute of the <code>soap:binding</code> is
<code><a href="http://schemas.xmlsoap.org/soap/http" class="bare">http://schemas.xmlsoap.org/soap/http</a></code>. The value of the <code>style</code>
attribute of the <code>soap:binding</code> is either <code>document</code> or <code>rpc</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (SOAP binding style required):</em> Implementations MUST include a <code>style</code>
attribute on a generated <code>soap:binding</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="method-and-parameters-1"><a class="anchor" href="#method-and-parameters-1"></a>4.10.2. Method and Parameters</h4>
<div class="paragraph">
<p>Each method in a Java SEI is mapped to a <code>soap:operation</code> child element
of the corresponding <code>wsdl:operation</code>. The value of the <code>style</code>
attribute of the <code>soap:operation</code> is <code>document</code> or <code>rpc</code>. If not
specified, the value defaults to the value of the <code>style</code> attribute of
the <code>soap:binding</code>. WS-I Basic Profile<a href="#8">[8]</a>
requires that all operations within a given SOAP HTTP binding
instance have the same binding style.</p>
</div>
<div class="paragraph">
<p>The parameters of a Java method are mapped to <code>soap:body</code> or
<code>soap:header</code> child elements of the <code>wsdl:input</code> and <code>wsdl:output</code>
elements for each <code>wsdl:operation</code> binding element. The value of the
<code>use</code> attribute of the <code>soap:body</code> is <code>literal</code>. Figure
<a href="#3.7">[3.7]</a> shows an example using document style, figure
<a href="#3.8">[3.8]</a> shows the same example using rpc style.</p>
</div>
<div id="3.7" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
</pre></td>
  <td class="code"><pre>&lt;types&gt;
    &lt;schema targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;xsd:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceType</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;xsd:complexType name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceType</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;xsd:sequence&gt;
                &lt;xsd:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">tickerSymbol</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:string</span><span class="delimiter">&quot;</span></span>/&gt;
            &lt;/xsd:sequence&gt;
        &lt;/xsd:complexType&gt;

        &lt;xsd:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceResponse</span><span class="delimiter">&quot;</span></span>
            type=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponseType</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;xsd:complexType name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceResponseType</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;xsd:sequence&gt;
                &lt;xsd:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">return</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:float</span><span class="delimiter">&quot;</span></span>/&gt;
            &lt;/xsd:sequence&gt;
        &lt;/xsd:complexType&gt;
    &lt;/schema&gt;
&lt;/types&gt;

&lt;message name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>
        element=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPrice</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/message&gt;

&lt;message name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceResponse</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceResponse</span><span class="delimiter">&quot;</span></span> element=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponse</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/message&gt;

&lt;portType name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteProvider</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;operation name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span> parameterOrder=<span class="string"><span class="delimiter">&quot;</span><span class="content">tickerSymbol</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;input message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPrice</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;output message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponse</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;/operation&gt;
&lt;/portType&gt;

&lt;binding name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteProviderBinding</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;soap:binding
        transport=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://schemas.xmlsoap.org/soap/http</span><span class="delimiter">&quot;</span></span> style=<span class="string"><span class="delimiter">&quot;</span><span class="content">document</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;operation name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span> parameterOrder=<span class="string"><span class="delimiter">&quot;</span><span class="content">tickerSymbol</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;soap:operation/&gt;
        &lt;input message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPrice</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;soap:body use=<span class="string"><span class="delimiter">&quot;</span><span class="content">literal</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;/input&gt;
        &lt;output message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponse</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;soap:body use=<span class="string"><span class="delimiter">&quot;</span><span class="content">literal</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;/output&gt;
    &lt;/operation&gt;
&lt;/binding&gt;</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 3.7: WSDL definition using document style</p>
</div>
<div id="3.8" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
</pre></td>
  <td class="code"><pre>&lt;types&gt;
    &lt;schema targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;xsd:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceType</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;xsd:complexType name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceType</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;xsd:sequence&gt;
                &lt;xsd:element form=<span class="string"><span class="delimiter">&quot;</span><span class="content">unqualified</span><span class="delimiter">&quot;</span></span> name=<span class="string"><span class="delimiter">&quot;</span><span class="content">tickerSymbol</span><span class="delimiter">&quot;</span></span>
                    type=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:string</span><span class="delimiter">&quot;</span></span>/&gt;
            &lt;/xsd:sequence&gt;
        &lt;/xsd:complexType&gt;

        &lt;xsd:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceResponse</span><span class="delimiter">&quot;</span></span>
            type=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponseType</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;xsd:complexType name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceResponseType</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;xsd:sequence&gt;
                &lt;xsd:element form=<span class="string"><span class="delimiter">&quot;</span><span class="content">unqualified</span><span class="delimiter">&quot;</span></span> name=<span class="string"><span class="delimiter">&quot;</span><span class="content">return</span><span class="delimiter">&quot;</span></span>
                type=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:float</span><span class="delimiter">&quot;</span></span>/&gt;
            &lt;/xsd:sequence&gt;
        &lt;/xsd:complexType&gt;
    &lt;/schema&gt;
&lt;/types&gt;

&lt;message name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">tickerSymbol</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:string</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/message&gt;

&lt;message name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPriceResponse</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">result</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">xsd:float</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/message&gt;

&lt;portType name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteProvider</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;operation name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;input message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPrice</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;output message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponse</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;/operation&gt;
&lt;/portType&gt;

&lt;binding name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteProviderBinding</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;soap:binding
        transport=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://schemas.xmlsoap.org/soap/http</span><span class="delimiter">&quot;</span></span> style=<span class="string"><span class="delimiter">&quot;</span><span class="content">rpc</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;operation name=<span class="string"><span class="delimiter">&quot;</span><span class="content">getPrice</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;soap:operation/&gt;
        &lt;input message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPrice</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;soap:body use=<span class="string"><span class="delimiter">&quot;</span><span class="content">literal</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;/input&gt;
        &lt;output message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:getPriceResponse</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;soap:body use=<span class="string"><span class="delimiter">&quot;</span><span class="content">literal</span><span class="delimiter">&quot;</span></span>/&gt;
        &lt;/output&gt;
    &lt;/operation&gt;
&lt;/binding&gt;</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 3.8: WSDL definition using rpc style</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="j2w11svcports"><a class="anchor" href="#j2w11svcports"></a>4.11. Service and Ports</h3>
<div class="paragraph">
<p>A Java service implementation class is mapped to a single <code>wsdl:service</code>
element that is a child of a <code>wsdl:definitions</code> element for the
appropriate target namespace. The latter is mapped from the value of the
<code>targetNamespace</code> element of the <code>WebService</code> annotation, if non-empty
value, otherwise from the package of the Java service implementation
class according to the rules in section <a href="#j2w11package">Package</a>.</p>
</div>
<div class="paragraph">
<p>In mapping a <code>@WebService</code>-annotated class (see <a href="#j2ws11class">Class</a>) to a
<code>wsdl:service</code>, the <code>serviceName</code> element of the <code>WebService</code> annotation
are used to derive the service name. The value of the <code>name</code> attribute
of the <code>wsdl:service</code> element is computed according to the JSR-181
<a href="#bib16">[16]</a> specification. It is given by the <code>serviceName</code> element of
the <code>WebService</code> annotation, if present with a non-default value,
otherwise the name of the implementation class with the Servicesuffix
appended to it.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Service creation):</em> Implementations MUST be able to map classes annotated
with the <code>javax.jws.WebService</code> annotation to WSDL <code>wsdl:service</code>
elements.</p>
</div>
<div class="paragraph">
<p>A WSDL 1.1 service is a collection of related <code>wsdl:port</code> elements. A
<code>wsdl:port</code> element describes a port type bound to a particular protocol
(a <code>wsdl:binding</code>) that is available at particular endpoint address.</p>
</div>
<div class="paragraph">
<p>Each desired port is represented by a <code>wsdl:port</code> child element of the
single <code>wsdl:service</code> element mapped from the Java package. JAX-WS 2.0
allows specifying one port of one binding type for each service defined
by the application. Implementations MAY support additional ports, as
long as their names do not conflict with the standard one.</p>
</div>
<div class="paragraph">
<p>[Port selection] The <code>portName</code> element of the <code>WebService</code> annotation,
if present, MUST be used to derive the port name to use in WSDL. In the
absence of a <code>portName</code> element, an implementation MUST use the value of
the <code>name</code> element of the <code>WebService</code> annotation, if present, suffixed
with Port. Otherwise, an implementation MUST use the simple name of the
class annotated with <code>WebService</code> suffixed with Port.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Port binding):</em> The WSDL port defined for a service MUST refer to a
binding of the type indicated by the <code>BindingType</code> annotation on the
service implementation class (see <a href="#j2w11bindings">Bindings</a>).</p>
</div>
<div class="paragraph">
<p>Binding specific child extension elements of the <code>wsdl:port</code> element
define the endpoint address for a port. E.g. see the <code>soap:address</code>
element described in section <a href="#j2w11soapbindif">Interface</a>.</p>
</div>
<div class="paragraph">
<p>If the endpoint enables Addressing, that can be indicated in the
generated WSDL as per the Addressing 1.0 - Metadata<a href="#bib27">[27]</a>.</p>
</div>
<div class="paragraph">
<p>[Use of Addressing] Endpoint’s use of addressing, if any, MUST be
indicated in the <code>wsdl:binding</code> or <code>wsdl:port</code> sections of the WSDL 1.1
as per WS-Addressing 1.0 - Metadata<a href="#bib27">[27]</a>.</p>
</div>
<div class="paragraph">
<p>Example 1: Possible Policy assertion for <code>@Addressing</code> in the generated
WSDL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>&lt;wsam:Addressing wsp:Optional=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;wsp:<span class="predefined-type">Policy</span>/&gt;
&lt;/wsam:Addressing&gt;</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Example 2: Possible Policy assertion for <code>@Addressing(required=true)</code> in
the generated WSDL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>&lt;wsam:Addressing&gt;
    &lt;wsp:<span class="predefined-type">Policy</span>/&gt;
&lt;/wsam:Addressing&gt;</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Example 3: Possible Policy assertion for</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>&lt;wsam:Addressing wsp:Optional=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;wsp:<span class="predefined-type">Policy</span>&gt;
        &lt;wsam:NonAnonymousResponses/&gt;
    &lt;/wsp:<span class="predefined-type">Policy</span>&gt;
&lt;/wsam:Addressing&gt;</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="client-apis"><a class="anchor" href="#client-apis"></a>5. Client APIs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes the standard APIs provided for client side use of
JAX-WS. These APIs allow a client to create proxies for remote service
endpoints and dynamically construct operation invocations.</p>
</div>
<div class="paragraph">
<p>Conformance requirements in this chapter use the term implementation to
refer to a client side JAX-WS runtime system.</p>
</div>
<div class="sect2">
<h3 id="serviceapi"><a class="anchor" href="#serviceapi"></a>5.1. javax.xml.ws.Service</h3>
<div class="paragraph">
<p><code>Service</code> is an abstraction that represents a WSDL service. A WSDL
<code>service</code> is a collection of related ports, each of which consists of a
port type bound to a particular protocol and available at a particular
endpoint address.</p>
</div>
<div class="paragraph">
<p><code>Service</code> instances are created as described in section <a href="#svcusage">Service Usage</a>.
<code>Service</code> instances provide facilities to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create an instance of a proxy via one of the <code>getPort</code> methods. See
section <a href="#proxies">Proxies</a> for information on proxies.</p>
</li>
<li>
<p>Create a <code>Dispatch</code> instance via the <code>createDispatch</code> method. See
section <a href="#dispatch">javax.xml.ws.Dispatch</a> for information on the <code>Dispatch</code> interface.</p>
</li>
<li>
<p>Create a new port via the <code>addPort</code> method. Such ports only include
binding and endpoint information and are thus only suitable for creating
<code>Dispatch</code> instances since these do not require WSDL port type
information.</p>
</li>
<li>
<p>Configure per-service, per-port, and per-protocol message handlers
using a handler resolver (see section <a href="#clienthandlerresolver">Handler Resolver</a>).</p>
</li>
<li>
<p>Configure the <code>java.util.concurrent.Executor</code> to be used for
asynchronous invocations (see section <a href="#serviceexecutor">Executor</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Service completeness):</em> A <code>Service</code> implementation MUST be capable of
creating proxies, <code>Dispatch</code> instances, and new ports.</p>
</div>
<div class="paragraph">
<p>All the service methods except the static <code>create</code> methods and the
constructors delegate to <code>javax.xml.ws.spi.ServiceDelegate</code>, see section
<a href="#coresvcdelegate">javax.xml.ws.spi.ServiceDelegate</a>.</p>
</div>
<div class="sect3">
<h4 id="svcusage"><a class="anchor" href="#svcusage"></a>5.1.1. Service Usage</h4>
<div class="sect4">
<h5 id="dynamiccase"><a class="anchor" href="#dynamiccase"></a>5.1.1.1. Dynamic case</h5>
<div class="paragraph">
<p>In the dynamic case, when nothing is generated, a Java SE service client
uses <code>Service.create</code> to create <code>Service</code> instances, the following code
illustrates this process.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="predefined-type">URL</span> wsdlLocation = <span class="keyword">new</span> <span class="predefined-type">URL</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.org/my.wsdl</span><span class="delimiter">&quot;</span></span>);
<span class="predefined-type">QName</span> serviceName = <span class="keyword">new</span> <span class="predefined-type">QName</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.org/sample</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">MyService</span><span class="delimiter">&quot;</span></span>);
Service s = Service.create(wsdlLocation, serviceName);</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The following <code>create</code> methods may be used:</p>
</div>
<div class="paragraph">
<p><strong>create(URL wsdlLocation, QName serviceName)</strong> Returns a service object for the specified WSDL document and service
name.</p>
</div>
<div class="paragraph">
<p><strong>create(QName serviceName)</strong> Returns a service object for a service with the given name. No WSDL
document is attached to the service.</p>
</div>
<div class="paragraph">
<p><strong>create(URL wsdlLocation, QName serviceName, WebServiceFeature &#8230;&#8203; features)</strong>
Returns a service object for the specified WSDL document and service
name. The created service needs to be configured with the web service
features.</p>
</div>
<div class="paragraph">
<p><strong>create(QName serviceName, WebServiceFeature &#8230;&#8203; features)</strong> Returns a service object for a service with the given name. No WSDL
document is attached to the service. The created service needs to be
configured with the web service features.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Service Creation Failure):</em> If a <code>create</code> method fails to create a
service object, it MUST throw <code>WebServiceException</code>. The cause of that
exception SHOULD be set to an exception that provides more information
on the cause of the error (e.g. an <code>IOException</code>).</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Service creation using features):</em> The created service object MUST honor
the web service features. If a JAX-WS implementation doesn’t understand
any passed-in feature, it MUST throw <code>WebServiceException</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="staticcase"><a class="anchor" href="#staticcase"></a>5.1.1.2. Static case</h5>
<div class="paragraph">
<p>When starting from a WSDL document, a concrete service implementation
class MUST be generated as defined in section <a href="#gensvcif">Service and Port</a>. The generated
implementation class MUST have all the public constructors as shown in
the example below.</p>
</div>
<div class="paragraph">
<p>When using the constructors, the default WSDL location and service name
are implicitly taken from the <code>WebServiceClient</code> annotation that
decorates the generated class.</p>
</div>
<div class="paragraph">
<p>The following code snippet shows the generated constructors:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td>
  <td class="code"><pre><span class="comment">// Generated Service Class</span>
<span class="annotation">@WebServiceClient</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteService</span><span class="delimiter">&quot;</span></span>,
                  targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks</span><span class="delimiter">&quot;</span></span>,
                  wsdlLocation=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks.wsdl</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">StockQuoteService</span> <span class="directive">extends</span> javax.xml.ws.Service {
    <span class="directive">public</span> StockQuoteService() {
        <span class="local-variable">super</span>(<span class="keyword">new</span> <span class="predefined-type">URL</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks.wsdl</span><span class="delimiter">&quot;</span></span>),
        <span class="keyword">new</span> <span class="predefined-type">QName</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteService</span><span class="delimiter">&quot;</span></span>));
    }

    <span class="directive">public</span> StockQuoteService(WebServiceFeature ... features) {
        <span class="local-variable">super</span>(<span class="keyword">new</span> <span class="predefined-type">URL</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks.wsdl</span><span class="delimiter">&quot;</span></span>),
              <span class="keyword">new</span> <span class="predefined-type">QName</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteService</span><span class="delimiter">&quot;</span></span>),
              features);
    }

    <span class="directive">public</span> StockQuoteService(<span class="predefined-type">URL</span> wsdlLocation) {
        <span class="local-variable">super</span>(wsdlLocation,
              <span class="keyword">new</span> <span class="predefined-type">QName</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteService</span><span class="delimiter">&quot;</span></span>));
    }

    <span class="directive">public</span> StockQuoteService(<span class="predefined-type">URL</span> wsdlLocation, WebServiceFeature ... features) {
        <span class="local-variable">super</span>(wsdlLocation,
              <span class="keyword">new</span> <span class="predefined-type">QName</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/stocks</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteService</span><span class="delimiter">&quot;</span></span>),
              features);
    }

    <span class="directive">public</span> StockQuoteService(<span class="predefined-type">URL</span> wsdlLocation, <span class="predefined-type">QName</span> serviceName) {
        <span class="local-variable">super</span>(wsdlLocation, serviceName);
    }

    <span class="directive">public</span> StockQuoteService(<span class="predefined-type">URL</span> wsdlLocation, <span class="predefined-type">QName</span> serviceName,
                             WebServiceFeature ... features) {
        <span class="local-variable">super</span>(wsdlLocation, serviceName, features);
    }

    ...
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="provider-and-service-delegate"><a class="anchor" href="#provider-and-service-delegate"></a>5.1.2. Provider and Service Delegate</h4>
<div class="paragraph">
<p>Internally, the <code>Service</code> class delegates all of its functionality to a
<code>ServiceDelegate</code> object, which is part of the SPI used to allow
pluggability of implementations.</p>
</div>
<div class="paragraph">
<p>For this to work, every <code>Service</code> object internally MUST hold a
reference to a <code>javax.xml.ws.spi.ServiceDelegate</code> object (see
<a href="#coresvcdelegate">javax.xml.ws.spi.ServiceDelegate</a>) to which it delegates every non-static method call.
The field used to hold the reference MUST be private.</p>
</div>
<div class="paragraph">
<p>The delegate is set when a new <code>Service</code> instance is created, which must
necessarily happen when the protected, two-argument constructor defined
on the <code>Service</code> class is called. The constructor MUST obtain a Provider
instance (see <a href="#providerendpointcreation">Creating Endpoint Objects</a>) and call its
<code>createServiceDelegate</code> method, passing the two arguments received from
its caller and the class object for the instance being created (i.e.
<code>this.getClass()</code>).</p>
</div>
<div class="paragraph">
<p>In order to ensure that the delegate is properly constructed, the static
<code>create</code> method defined on the <code>Service</code> class MUST call the protected
constructor to create a new service instance, passing the same arguments
that it received from the application.</p>
</div>
<div class="paragraph">
<p>The following code snippet shows an implementation of the <code>Service</code> API
that satisfies the requirements above:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td>
  <td class="code"><pre><span class="directive">public</span> <span class="type">class</span> <span class="class">Service</span> {

    <span class="directive">private</span> ServiceDelegate delegate;

    <span class="directive">protected</span> Service(java.net.URL wsdlDocumentLocation,
                      <span class="predefined-type">QName</span> serviceName) {
        delegate = <span class="predefined-type">Provider</span>.provider()
                           .createServiceDelegate(wsdlDocumentLocation
                                                  serviceName,
                                                  <span class="local-variable">this</span>.getClass());
    }

    <span class="directive">public</span> <span class="directive">static</span> Service create(java.net.URL wsdlDocumentLocation,
                                 <span class="predefined-type">QName</span> serviceName) {
        <span class="keyword">return</span> <span class="keyword">new</span> Service(wsdlDocumentLocation, serviceName);
    }

    <span class="comment">// begin delegated methods</span>

    <span class="directive">public</span> &lt;T&gt; T getPort(<span class="predefined-type">Class</span>&lt;T&gt; serviceEndpointInterface) {
        <span class="keyword">return</span> delegate.getPort(serviceEndpointInterface);
    }

    ...
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="clienthandlerresolver"><a class="anchor" href="#clienthandlerresolver"></a>5.1.3. Handler Resolver</h4>
<div class="paragraph">
<p>JAX-WS provides a flexible plug-in framework for message processing
modules, known as handlers, that may be used to extend the capabilities
of a JAX-WS runtime system. Chapter <a href="#handfmwk">Handler Framework</a> describes the handler
framework in detail. A <code>Service</code> instance provides access to a
<code>HandlerResolver</code> via a pair of
<code>getHandlerResolver</code>/<code>setHandlerResolver</code> methods that may be used to
configure a set of handlers on a per-service, per-port or per-protocol
binding basis.</p>
</div>
<div class="paragraph">
<p>When a <code>Service</code> instance is used to create a proxy or a <code>Dispatch</code>
instance then the handler resolver currently registered with the service
is used to create the required handler chain. Subsequent changes to the
handler resolver configured for a <code>Service</code> instance do not affect the
handlers on previously created proxies, or <code>Dispatch</code> instances.</p>
</div>
</div>
<div class="sect3">
<h4 id="serviceexecutor"><a class="anchor" href="#serviceexecutor"></a>5.1.4. Executor</h4>
<div class="paragraph">
<p><code>Service</code> instances can be configured with a
<code>java.util.concurrent.Executor</code>. The executor will then be used to
invoke any asynchronous callbacks requested by the application. The
<code>setExecutor</code> and <code>getExecutor</code> methods of <code>Service</code> can be used to
modify and retrieve the executor configured for a service.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Use of Executor):</em> If an executor object is successfully configured for
use by a Service via the <code>setExecutor</code> method, then subsequent
asynchronous callbacks MUST be delivered using the specified executor.
Calls that were outstanding at the time the <code>setExecutor</code> method was
called MAY use the previously set executor, if any.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Default Executor):</em> Lacking an application-specified executor, an
implementation MUST use its own executor, a
<code>java.util.concurrent.ThreadPoolExecutor</code> or analogous mechanism, to
deliver callbacks. An implementation MUST NOT use application-provided
threads to deliver callbacks, e.g. by ``borrowing'' them when the
application invokes a remote operation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="bindingproviderif"><a class="anchor" href="#bindingproviderif"></a>5.2. javax.xml.ws.BindingProvider</h3>
<div class="paragraph">
<p>The <code>BindingProvider</code> interface represents a component that provides a
protocol binding for use by clients, it is implemented by proxies and is
extended by the <code>Dispatch</code> interface. Figure <a href="#4.1">[4.1]</a>
illustrates the class relationships.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="data:image/png;base64," alt="bindingprovider">
</div>
</div>
<div class="paragraph">
<p>Figure 4.1: Binding Provider Class Relationships</p>
</div>
<div class="paragraph">
<p>A web service client can get an <code>javax.xml.ws.EndpointReference</code> from a
<code>BindingProvider</code> instance that will reference the target endpoint.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (<code>javax.xml.ws.BindingProvider.getEndpointReference</code>):</em> An implementation
MUST be able to return an <code>javax.xml.ws.EndpointReference</code> for the
target endpoint if a SOAP binding is being used. If the
<code>BindingProvider</code> instance has a binding that is either SOAP 1.1/HTTP or
SOAP 1.2/HTTP, then a <code>W3CEndpointReference</code> MUST be returned. If the
binding is XML/HTTP an <code>java.lang.UnsupportedOperationException</code> MUST be
thrown.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (<code>BindingProvider’s W3CEndpointReference</code>):</em> The returned
<code>W3CEndpointReference</code> MUST contain <code>wsam:ServiceName</code> and
<code>wsam:ServiceName[@EndpointName]</code> as per Addressing 1.0 -
Metadata<a href="#bib27">[27]</a>. The <code>wsam:InterfaceName</code> MAY be present in
the <code>W3CEndpointReference</code>. If there is an associated WSDL, then the
WSDL location MUST be referenced using <code>wsdli:wsdlLocation</code> in the
<code>W3CEndpointReference</code>’s <code>wsa:Metadata</code>.</p>
</div>
<div class="paragraph">
<p>The <code>BindingProvider</code> interface provides methods to obtain the <code>Binding</code>
and to manipulate the binding providers context. Further details on
<code>Binding</code> can be found in section <a href="#protocolbinding">javax.xml.ws.Binding</a>. The following
subsection describes the function and use of context with
<code>BindingProvider</code> instances.</p>
</div>
<div class="sect3">
<h4 id="bindingproviderconfig"><a class="anchor" href="#bindingproviderconfig"></a>5.2.1. Configuration</h4>
<div class="paragraph">
<p>Additional metadata is often required to control information exchanges,
this metadata forms the context of an exchange.</p>
</div>
<div class="paragraph">
<p>A <code>BindingProvider</code> instance maintains separate contexts for the request
and response phases of a message exchange with a service:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Request</dt>
<dd>
<p>The contents of the request context are used to initialize the message
context (see section <a href="#handmsgctxif">javax.xml.ws.handler.MessageContext</a>) prior to invoking any handlers
(see chapter <a href="#handfmwk">Handler Framework</a>) for the outbound message. Each property
within the request context is copied to the message context with a
scope of <code>HANDLER</code>.</p>
</dd>
<dt class="hdlist1">Response</dt>
<dd>
<p>The contents of the message context are used to initialize the
response context after invoking any handlers for an inbound message.
The response context is first emptied and then each property in the
message context that has a scope of <code>APPLICATION</code> is copied to the
response context.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Message context decoupling):</em> Modifications to the request context while
previously invoked operations are in-progress MUST NOT affect the
contents of the message context for the previously invoked operations.</p>
</div>
<div class="paragraph">
<p>The request and response contexts are of type
<code>java.util.Map&lt;String,Object&gt;</code> and are obtained using the
<code>getRequestContext</code> and <code>getResponseContext</code> methods of
<code>BindingProvider</code>.</p>
</div>
<div class="paragraph">
<p>In some cases, data from the context may need to accompany information
exchanges. When this is required, protocol bindings or handlers (see
chapter [handfmwk]) are responsible for annotating outbound protocol
data units and extracting metadata from inbound protocol data units.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> <em>An example of the latter usage: a handler in a SOAP binding might
introduce a header into a SOAP request message to carry metadata from
the request context and might add metadata to the response context from
the contents of a header in a response SOAP message.</em></p>
</div>
<div class="sect4">
<h5 id="stdbpprops"><a class="anchor" href="#stdbpprops"></a>5.2.1.1. Standard Properties</h5>
<div class="paragraph">
<p><a href="#Table 4.1">[Table 4.1]</a> lists a set of standard properties that may be set
on a <code>BindingProvider</code> instance and shows which properties are optional
for implementations to support.</p>
</div>
<div id="Table 4.1" class="paragraph">
<p>Table 4.1: Standard BindingProvider properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>javax.xml.ws.service.endpoint</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">.address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The address of the service endpoint as
                         a protocol specific URI. The URI
                         scheme must match the protocol
                         binding in use.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>javax.xml.ws.security.auth</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">.username</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username for HTTP basic
                         authentication.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">.password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for HTTP basic
                         authentication.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>javax.xml.ws.session</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">.maintain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used by a client to indicate whether it
                             is prepared to participate in a service
                             endpoint initiated session. The default
                             value is false .</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>javax.xml.ws.soap.http.soapaction</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">.use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Controls whether the SOAPAction
                         HTTP header is used in SOAP/HTTP
                         requests. Default value is false.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">.uri</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value of the SOAPAction HTTP
                         header if the <code>javax.xml.ws.soap-
                         .http.soapaction.use</code> property is
                         set to true . Default value is an empty string.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>♦ Conformance (Required <code>BindingProvider</code> properties):</em> An implementation MUST support
all properties shown as mandatory in table <a href="#Table 4.1">[Table 4.1]</a>.</p>
</div>
<div class="paragraph">
<p>Note that properties shown as mandatory are not required to be present
in any particular context; however, if present, they must be honored.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Optional <code>BindingProvider</code> properties):</em> An implementation MAY support
the properties shown as optional in table <a href="#Table 4.1">[Table 4.1]</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="additional-properties"><a class="anchor" href="#additional-properties"></a>5.2.1.2. Additional Properties</h5>
<div class="paragraph">
<p><em>♦ Conformance (Additional context properties):</em> Implementations MAY define additional
implementation specific properties not listed in table <a href="#Table 4.1">[Table 4.1]</a>.
The java.* and javax.* namespaces are reserved for use by Java
specifications.</p>
</div>
<div class="paragraph">
<p>Implementation specific properties are discouraged as they limit
application portability. Applications and binding handlers can interact
using application specific properties.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="asynchronous-operations"><a class="anchor" href="#asynchronous-operations"></a>5.2.2. Asynchronous Operations</h4>
<div class="paragraph">
<p><code>BindingProvider</code> instances may provide asynchronous operation
capabilities. When used, asynchronous operation invocations are
decoupled from the <code>BindingProvider</code> instance at invocation time such
that the response context is not updated when the operation completes.
Instead a separate response context is made available using the
<code>Response</code> interface, see sections [wsdl11asyncmethod] and
[dispasyncresp] for further details on the use of asynchronous methods.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Asynchronous response context):</em> The local response context of a
<code>BindingProvider</code> instance MUST NOT be updated on completion of an
asynchronous operation, instead the response context MUST be made
available via a <code>Response</code> instance.</p>
</div>
<div class="paragraph">
<p>When using callback-based asynchronous operations, an implementation
MUST use the <code>Executor</code> set on the service instance that was used to
create the proxy or <code>Dispatch</code> instance being used. See
<a href="#serviceexecutor">Executor</a> for more information on configuring the <code>Executor</code> to
be used.</p>
</div>
</div>
<div class="sect3">
<h4 id="proxies"><a class="anchor" href="#proxies"></a>5.2.3. Proxies</h4>
<div class="paragraph">
<p>Proxies provide access to service endpoint interfaces at runtime without
requiring static generation of a stub class. See
<code>java.lang.reflect.Proxy</code> for more information on dynamic proxies as
supported by the JDK.</p>
</div>
<div class="paragraph">
<p>Proxy instances are not guaranteed to be thread safe. If the instances
are accessed by multiple threads, usual synchronization techniques can
be used to support multiple threads.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Proxy support):</em> An implementation MUST support proxies.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Implementing <code>BindingProvider</code>):</em> An instance of a proxy MUST implement
<code>javax.xml.ws.BindingProvider</code>.</p>
</div>
<div class="paragraph">
<p>A proxy is created using the <code>getPort</code> methods of a <code>Service</code> instance:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>T getPort(Class&lt;T&gt; sei)</code></dt>
<dd>
<p>Returns a proxy for the specified SEI, the <code>Service</code> instance is
responsible for selecting the port (protocol binding and endpoint
address).</p>
</dd>
<dt class="hdlist1"><code>T getPort(QName port, Class&lt;T&gt; sei)</code></dt>
<dd>
<p>Returns a proxy for the endpoint specified by <code>port</code>. Note that the
namespace component of <code>port</code> is the target namespace of the WSDL
definitions document.</p>
</dd>
<dt class="hdlist1"><code>T getPort(Class&lt;T&gt; sei, WebServiceFeature&#8230;&#8203; features)</code></dt>
<dd>
<p>Returns a proxy for the specified SEI, the <code>Service</code> instance is
responsible for selecting the port (protocol binding and and endpoint
address). The specified <code>features</code> MUST be enabled/disabled and
configured as specified.</p>
</dd>
<dt class="hdlist1"><code>T getPort(QName port, Class&lt;T&gt; sei, WebServiceFeature&#8230;&#8203; features)</code></dt>
<dd>
<p>Returns a proxy for the endpoint specified by <code>port</code>. Note that the
namespace component of port is the target namespace of the WSDL
definition document. The specified <code>features</code> MUST be enabled/disabled
and configured as specified.</p>
</dd>
<dt class="hdlist1"><code>T getPort(EndpointReference epr, Class&lt;T&gt; sei, WebServiceFeature&#8230;&#8203; features)</code></dt>
<dd>
<p>Returns a proxy for the endpoint specified by <code>epr</code>. The address
stored in the <code>epr</code> MUST be used during invocations on the endpoint.
The <code>epr</code> MUST NOT be used as the value of any addressing header such
as <code>wsa:ReplyTo</code>. The specified <code>features</code> MUST be enabled/disabled
and configured as specified. Any JAX-WS supported <code>epr</code> metadata MUST
match the <code>Service</code> instance’s ServiceName, otherwise a
<code>WebServiceExeption</code> MUST be thrown. Any JAX-WS supported <code>epr</code>
metadata MUST match the PortName for the <code>sei</code>, otherwise a
<code>WebServiceException</code> MUST be thrown. If the <code>Service</code> instance has an
associated WSDL, its WSDL MUST be used to determine any binding
information, any WSDL in a JAX-WS suppported <code>epr</code> metadata MUST be
ignored. If the <code>Service</code> instance does not have a WSDL, then any WSDL
inlined in the JAX-WS supported metadata of the <code>epr</code> MUST be used to
determine binding information. If there is not enough metadata in the
<code>Service</code> instance or in the <code>epr</code> metadata to determine a port, then
a <code>WebServiceException</code> MUST be thrown.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>serviceEndpointInterface</code> parameter specifies the interface that
will be implemented by the proxy. The service endpoint interface
provided by the client needs to conform to the WSDL to Java mapping
rules specified in chapter <a href="#wsdl112java">WSDL 1.1 to Java Mapping</a> (WSDL 1.1). Creation of a proxy
can fail if the interface doesn’t conform to the mapping or if any WSDL
related metadata is missing from the <code>Service</code> instance.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (<code>Service.getPort</code> failure):</em> If creation of a proxy fails, an
implementation MUST throw <code>javax.xml.ws.WebServiceException</code>. The cause
of that exception SHOULD be set to an exception that provides more
information on the cause of the error (e.g. an <code>IOException</code>).</p>
</div>
<div class="paragraph">
<p>The use of WS-Addressing requirements can be indicated in a WSDL as per
Addressing 1.0 - Metadata<a href="#bib27">[27]</a>. A proxy created using
<code>getPort()</code> calls is configured with the addressing requirements as
specified in the associated WSDL or explicitly passing
<code>javax.xml.ws.soap.AddressingFeature</code> web service feature.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Proxy’s Addressing use):</em> A proxy MUST be configured with the use of
addressing requirements as indicated in the associated WSDL. But if the
proxy is created using <code>javax.xml.ws.soap.AddressingFeature</code> web service
feature, the feature’s addressing requirements MUST take precedence over
WSDL’s addressing requirements.</p>
</div>
<div class="paragraph">
<p>An implementation is not required to fully validate the service endpoint
interface provided by the client against the corresponding WSDL
definitions and may choose to implement any validation it does require
in an implementation specific manner (e.g., lazy and eager validation
are both acceptable).</p>
</div>
<div class="sect4">
<h5 id="example-3"><a class="anchor" href="#example-3"></a>5.2.3.1. Example</h5>
<div class="paragraph">
<p>The following example shows the use of a proxy to invoke a method
(<code>getLastTradePrice</code>) on a service endpoint interface
(<code>com.example.StockQuoteProvider</code>). Note that no statically generated
stub class is involved.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre>javax.xml.ws.Service service = ...;
com.example.StockQuoteProvider proxy = service.getPort(portName,
    com.example.StockQuoteProvider.class)
javax.xml.ws.BindingProvider bp = (javax.xml.ws.BindingProvider)proxy;
<span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>,<span class="predefined-type">Object</span>&gt; context = bp.getRequestContext();
context.setProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">javax.xml.ws.session.maintain</span><span class="delimiter">&quot;</span></span>, <span class="predefined-type">Boolean</span>.TRUE);
proxy.getLastTradePrice(<span class="string"><span class="delimiter">&quot;</span><span class="content">ACME</span><span class="delimiter">&quot;</span></span>);</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Lines 1–3 show how the proxy is created. Lines 4–6 perform some
configuration of the proxy. Lines 7 invokes a method on the proxy.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="stubexceptions"><a class="anchor" href="#stubexceptions"></a>5.2.4. Exceptions</h4>
<div class="paragraph">
<p>All methods of an SEI can throw <code>javax.xml.ws.WebServiceException</code> and
zero or more service specific exceptions.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Remote Exceptions):</em> If an error occurs during a remote operation
invocation, an implemention MUST throw a service specific exception if
possible. If the error cannot be mapped to a service specific exception,
an implementation MUST throw a <code>ProtocolException</code> or one of its
subclasses, as appropriate for the binding in use. See section
<a href="#protocolspecificfaults">Protocol Specific Exception Handling</a> for more details.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Exceptions During Handler Processing):</em> Exceptions thrown during handler
processing on the client MUST be passed on to the application. If the
exception in question is a subclass of <code>WebServiceException</code> then an
implementation MUST rethrow it as-is, without any additional wrapping,
otherwise it MUST throw a <code>WebServiceException</code> whose cause is set to
the exception that was thrown during handler processing.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Other Exceptions):</em> For all other errors, i.e. all those that don’t occur
as part of a remote invocation or handler processing, an implementation
MUST throw a <code>WebServiceException</code> whose cause is the original local
exception that was thrown, if any.</p>
</div>
<div class="paragraph">
<p>For instance, an error in the configuration of a proxy instance may
result in a <code>WebServiceException</code> whose cause is a
<code>java.lang.IllegalArgumentException</code> thrown by some implementation code.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="dispatch"><a class="anchor" href="#dispatch"></a>5.3. javax.xml.ws.Dispatch</h3>
<div class="paragraph">
<p>XML Web Services use XML messages for communication between services and
service clients. The higher level JAX-WS APIs are designed to hide the
details of converting between Java method invocations and the
corresponding XML messages, but in some cases operating at the XML
message level is desirable. The <code>Dispatch</code> interface provides support
for this mode of interaction.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (<code>Dispatch</code> support):</em> Implementations MUST support the
<code>javax.xml.ws.Dispatch</code> interface.</p>
</div>
<div class="paragraph">
<p><code>Dispatch</code> supports two usage modes, identified by the constants
<code>javax.xml.ws.Service.Mode.MESSAGE</code> and
<code>javax.xml.ws.Service.Mode.PAYLOAD</code> respectively:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Message</dt>
<dd>
<p>In this mode, client applications work directly with protocol-specific
message structures. E.g., when used with a SOAP protocol binding, a
client application would work directly with a SOAP message.</p>
</dd>
<dt class="hdlist1">Message Payload</dt>
<dd>
<p>In this mode, client applications work with the payload of messages
rather than the messages themselves. E.g., when used with a SOAP
protocol binding, a client application would work with the contents of
the SOAP <code>Body</code> rather than the SOAP message as a whole.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><code>Dispatch</code> is a low level API that requires clients to construct
messages or message payloads as XML and requires an intimate knowledge
of the desired message or payload structure. <code>Dispatch</code> is a generic
class that supports input and output of messages or message payloads of
any type. Implementations are required to support the following types of
object:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>javax.xml.transform.Source</code></dt>
<dd>
<p>Use of <code>Source</code> objects allows clients to use XML generating and
consuming APIs directly. <code>Source</code> objects may be used with any
protocol binding in either message or message payload mode. When used
with the HTTP binding (see chapter <a href="#xmlbindchap">HTTP Binding</a>) in payload mode, the
HTTP request and response entity bodies must contain XML directly or a
MIME wrapper with an XML root part. A <code>null</code> value for <code>Source</code> is
allowed to make it possible to invoke an HTTP GET method in the HTTP
Binding case. A <code>WebServiceException</code> MUST be thrown when a
<code>Dispatch&lt;Source&gt;</code> is invoked and the Service returns a MIME message.
When used in message mode, if the message is not an XML message a
<code>WebServiceException</code> MUST be thrown.</p>
</dd>
<dt class="hdlist1">JAXB Objects</dt>
<dd>
<p>Use of JAXB allows clients to use JAXB objects generated from an XML
Schema to create and manipulate XML representations and to use these
objects with JAX-WS without requiring an intermediate XML
serialization. JAXB objects may be used with any protocol binding in
either message or message payload mode. When used with the HTTP
binding (see chapter <a href="#xmlbindchap">HTTP Binding</a>) in payload mode, the HTTP request
and response entity bodies must contain XML directly or a MIME wrapper
with an XML root part. When used in mssage mode, if the message is not
an XML message a <code>WebServiceException</code> MUST be thrown.</p>
</dd>
<dt class="hdlist1"><code>javax.xml.soap.SOAPMessage</code></dt>
<dd>
<p>Use of <code>SOAPMessage</code> objects allows clients to work with SOAP messages
using the convenience features provided by the <code>java.xml.soap</code>
package. <code>SOAPMessage</code> objects may only be used with <code>Dispatch</code>
instances that use the SOAP binding (see chapter <a href="#soapbindchap">SOAP Binding</a>) in
message mode.</p>
</dd>
<dt class="hdlist1"><code>javax.activation.DataSource</code></dt>
<dd>
<p>Use of <code>DataSource</code> objects allows clients to work with MIME-typed
messages. <code>DataSource</code> objects may only be used with <code>Dispatch</code>
instances that use the HTTP binding (see chapter <a href="#xmlbindchap">HTTP Binding</a>) in
message mode.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>A JAX-WS implementation MUST honor all <code>WebServiceFeatures</code> (section
<a href="#webservicefeature">javax.xml.ws.WebServiceFeature</a>) for <code>Dispatch</code> based applications.</p>
</div>
<div class="sect3">
<h4 id="dispatchconfig"><a class="anchor" href="#dispatchconfig"></a>5.3.1. Configuration</h4>
<div class="paragraph">
<p><code>Dispatch</code> instances are obtained using the <code>createDispatch</code> factory
methods of a <code>Service</code> instance. The <code>mode</code> parameter of
<code>createDispatch</code> controls whether the new <code>Dispatch</code> instance is message
or message payload oriented. The <code>type</code> parameter controls the type of
object used for messages or message payloads. <code>Dispatch</code> instances are
not thread safe.</p>
</div>
<div class="paragraph">
<p><code>Dispatch</code> instances are not required to be dynamically configurable for
different protocol bindings; the WSDL binding from which the <code>Dispatch</code>
instance is generated contains static information including the protocol
binding and service endpoint address. However, a <code>Dispatch</code> instance may
support configuration of certain aspects of its operation and provides
methods (inherited from <code>BindingProvider</code>) to dynamically query and
change the values of properties in its request and response contexts –
see section <a href="#stdbpprops">Standard Properties</a> for a list of standard properties.</p>
</div>
</div>
<div class="sect3">
<h4 id="operation-invocation"><a class="anchor" href="#operation-invocation"></a>5.3.2. Operation Invocation</h4>
<div class="paragraph">
<p>A <code>Dispatch</code> instance supports three invocation modes:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Synchronous request response (<code>invoke</code> methods)</dt>
<dd>
<p>The method blocks until the remote operation completes and the results
are returned.</p>
</dd>
<dt class="hdlist1">Asynchronous request response (<code>invokeAsync</code> methods)</dt>
<dd>
<p>The method returns immediately, any results are provided either
through a callback or via a polling object.</p>
</dd>
<dt class="hdlist1">One-way (<code>invokeOneWay</code> methods)</dt>
<dd>
<p>The method is logically non-blocking, subject to the capabilities of
the underlying protocol, no results are returned.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Calling <code>invoke</code> on the different <code>Dispatch</code> types defined above with a
<code>null</code> value means an empty message will be sent where allowed by the
binding, message mode and the MEP. So for example when using -</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SOAP 1.1 / HTTP binding in payload mode using <code>null</code> will send a soap
message with an empty body.</p>
</li>
<li>
<p>SOAP 1.1 / HTTP binding in message mode <code>null</code> being passed to
<code>invoke</code> is an error condition and will result in a
<code>WebServiceException</code>.</p>
</li>
<li>
<p>XML / HTTP binding both in payload and in message mode <code>null</code> being
passed to <code>invoke</code> with the HTTP POST and PUT operations is an error
condition and will result in a <code>WebServiceException</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Failed <code>Dispatch.invoke</code>):</em> When an operation is invoked using an
<code>invoke</code> method, an implementation MUST throw a <code>WebServiceException</code> if
there is any error in the configuration of the <code>Dispatch</code> instance or a
<code>ProtocolException</code> if an error occurs during the remote operation
invocation.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Failed <code>Dispatch.invokeAsync</code>):</em> When an operation is invoked using an
<code>invokeAsync</code> method, an implementation MUST throw a
<code>WebServiceException</code> if there is any error in the configuration of the
<code>Dispatch</code> instance. Errors that occur during the invocation are
reported when the client attempts to retrieve the results of the
operation.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Failed <code>Dispatch.invokeOneWay</code>):</em> When an operation is invoked using an
<code>invokeOneWay</code> method, an implementation MUST throw a
<code>WebServiceException</code> if there is any error in the configuration of the
<code>Dispatch</code> instance or if an error is detected<sup class="footnote">[<a id="_footnoteref_7" class="footnote" href="#_footnotedef_7" title="View footnote.">7</a>]</sup> during
the remote operation invocation.</p>
</div>
<div class="paragraph">
<p>See section <a href="#soapbindhttp">HTTP</a> for additional SOAP/HTTP requirements.</p>
</div>
</div>
<div class="sect3">
<h4 id="dispasyncresp"><a class="anchor" href="#dispasyncresp"></a>5.3.3. Asynchronous Response</h4>
<div class="paragraph">
<p><code>Dispatch</code> supports two forms of asynchronous invocation:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Polling</dt>
<dd>
<p>The <code>invokeAsync</code> method returns a <code>Response</code> (see below) that may be
polled using the methods inherited from <code>Future&lt;T&gt;</code> to determine when
the operation has completed and to retrieve the results.</p>
</dd>
<dt class="hdlist1">Callback</dt>
<dd>
<p>The client supplies an <code>AsyncHandler</code> (see below) and the runtime
calls the <code>handleResponse</code> method when the results of the operation
are available. The <code>invokeAsync</code> method returns a wildcard <code>Future</code>
(<code>Future&lt;?&gt;</code>) that may be polled to determine when the operation has
completed. The object returned from <code>Future&lt;?&gt;.get()</code> has no standard
type. Client code should not attempt to cast the object to any
particular type as this will result in non-portable behavior.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>In both cases, errors that occur during the invocation are reported via
an exception when the client attempts to retrieve the results of the
operation.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Reporting asynchronous errors):</em> If the operation invocation fails, an
implementation MUST throw a <code>java.util.concurrent.ExecutionException</code>
from the <code>Response.get</code> method.</p>
</div>
<div class="paragraph">
<p>The cause of an <code>ExecutionException</code> is the original exception raised.
In the case of a <code>Response</code> instance this can only be a
<code>WebServiceException</code> or one of its subclasses.</p>
</div>
<div class="paragraph">
<p>The following interfaces are used to obtain the results of an operation
invocation:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>javax.xml.ws.Response</code></dt>
<dd>
<p>A generic interface that is used to group the results of an invocation
with the response context. <code>Response</code> extends
<code>java.util.concurrent.Future&lt;T&gt;</code> to provide asynchronous result
polling capabilities.</p>
</dd>
<dt class="hdlist1"><code>javax.xml.ws.AsyncHandler</code></dt>
<dd>
<p>A generic interface that clients implement to receive results in an
asynchronous callback. It defines a single <code>handleResponse</code> method
that has a <code>Response</code> object as its argument.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="using-jaxb"><a class="anchor" href="#using-jaxb"></a>5.3.4. Using JAXB</h4>
<div class="paragraph">
<p><code>Service</code> provides a <code>createDispatch</code> factory method for creating
<code>Dispatch</code> instances that contain an embedded <code>JAXBContext</code>. The
<code>context</code> parameter contains the <code>JAXBContext</code> instance that the created
<code>Dispatch</code> instance will use to marshall and unmarshall messages or
message payloads.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Marshalling failure):</em> If an error occurs when using the supplied
<code>JAXBContext</code> to marshall a request or unmarshall a response, an
implementation MUST throw a <code>WebServiceException</code> whose <code>cause</code> is set
to the original <code>JAXBException</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples"><a class="anchor" href="#examples"></a>5.3.5. Examples</h4>
<div class="paragraph">
<p>The following examples demonstrate use of <code>Dispatch</code> methods in the
synchronous, asynchronous polling, and asynchronous callback modes. For
ease of reading, error handling has been omitted.</p>
</div>
<div class="sect4">
<h5 id="synchronous-payload-oriented"><a class="anchor" href="#synchronous-payload-oriented"></a>5.3.5.1. Synchronous, Payload-Oriented</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="predefined-type">Source</span> reqMsg = ...;
Service service = ...;
Dispatch&lt;<span class="predefined-type">Source</span>&gt; disp = service.createDispatch(portName,
    <span class="predefined-type">Source</span>.class, PAYLOAD);
<span class="predefined-type">Source</span> resMsg = disp.invoke(reqMsg);</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="synchronous-message-oriented"><a class="anchor" href="#synchronous-message-oriented"></a>5.3.5.2. Synchronous, Message-Oriented</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>SOAPMessage soapReqMsg = ...;
Service service = ...;
Dispatch&lt;SOAPMessage&gt; disp = service.createDispatch(portName,
    SOAPMessage.class, MESSAGE);
SOAPMessage soapResMsg = disp.invoke(soapReqMsg);</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="synchronous-payload-oriented-with-jaxb-objects"><a class="anchor" href="#synchronous-payload-oriented-with-jaxb-objects"></a>5.3.5.3. Synchronous, Payload-Oriented With JAXB Objects</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre>JAXBContext jc = JAXBContext.newInstance(<span class="string"><span class="delimiter">&quot;</span><span class="content">primer.po</span><span class="delimiter">&quot;</span></span>);
Unmarshaller u = jc.createUnmarshaller();
PurchaseOrder po = (PurchaseOrder)u.unmarshal(
<span class="keyword">new</span> <span class="predefined-type">FileInputStream</span>( <span class="string"><span class="delimiter">&quot;</span><span class="content">po.xml</span><span class="delimiter">&quot;</span></span> ) );
Service service = ...;
Dispatch&lt;<span class="predefined-type">Object</span>&gt; disp = service.createDispatch(portName, jc, PAYLOAD);
OrderConfirmation conf = (OrderConfirmation)disp.invoke(po);</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above example <code>PurchaseOrder</code> and <code>OrderConfirmation</code> are
interfaces pre-generated by JAXB from the schema document primer.po.</p>
</div>
</div>
<div class="sect4">
<h5 id="asynchronous-polling-message-oriented"><a class="anchor" href="#asynchronous-polling-message-oriented"></a>5.3.5.4. Asynchronous, Polling, Message-Oriented</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre>SOAPMessage soapReqMsg = ...;
Service service = ...;
Dispatch&lt;SOAPMessage&gt; disp = service.createDispatch(portName,
SOAPMessage.class, MESSAGE);
Response&lt;SOAPMessage&gt; res = disp.invokeAsync(soapReqMsg);
<span class="keyword">while</span> (!res.isDone()) {
<span class="comment">// do something while we wait</span>
}
SOAPMessage soapResMsg = res.get();</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="asynchronous-callback-payload-oriented"><a class="anchor" href="#asynchronous-callback-payload-oriented"></a>5.3.5.5. Asynchronous, Callback, Payload-Oriented</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td>
  <td class="code"><pre><span class="type">class</span> <span class="class">MyHandler</span> <span class="directive">implements</span> AsyncHandler&lt;<span class="predefined-type">Source</span>&gt; {
    ...
    public <span class="type">void</span> handleResponse(Response&lt;<span class="predefined-type">Source</span>&gt; res) {
        <span class="predefined-type">Source</span> resMsg = res.get();
        <span class="comment">// do something with the results</span>
    }
}

<span class="predefined-type">Source</span> reqMsg = ...;
Service service = ...;
Dispatch&lt;<span class="predefined-type">Source</span>&gt; disp = service.createDispatch(portName,
    <span class="predefined-type">Source</span>.class, PAYLOAD);
MyHandler handler = <span class="keyword">new</span> MyHandler();
disp.invokeAsync(reqMsg, handler);</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="catalogfacility"><a class="anchor" href="#catalogfacility"></a>5.4. Catalog Facility</h3>
<div class="paragraph">
<p>JAX-WS mandates support for a standard catalog facility to be used when
resolving any Web service document that is part of the description of a
Web service, specifically WSDL and XML Schema documents.</p>
</div>
<div class="paragraph">
<p>The facility in question is the OASIS XML Catalogs 1.1 specification
<a href="#bib34">[34]</a>. It defines an entity catalog that handles the following
two cases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mapping an external entity’s public identifier and/or system
identifier to a URI reference.</p>
</li>
<li>
<p>Mapping the URI reference of a resource to another URI reference.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Using the entity catalog, an application can package one or more
description and/or schema documents in jar files, avoiding costly remote
accesses, or remap remote URIs to other, possibly local ones. Since the
catalog is an XML document, a deployer can easily alter it to suit the
local environment, unbeknownst to the application code.</p>
</div>
<div class="paragraph">
<p>The catalog is assembled by taking into account all accessible resources
whose name is <code>META-INF/jax-ws-catalog.xml</code>. Each resource MUST be a
valid entity catalog according to the XML Catalogs 1.1 specification.
When running on the Java SE platform, the current context class loader
MUST be used to retrieve all the resources with the specified name.
Relative URIs inside a catalog file are relative to the location of the
catalog that contains them.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Use of the Catalog):</em> In the process of resolving a URI that points to a
WSDL document or any document reachable from it, a JAX-WS implementation
MUST perform a URI resolution for it, as prescribed by the XML Catalogs
1.1 specification, using the catalog defined above as its entity
catalog.</p>
</div>
<div class="paragraph">
<p>In particular, every JAX-WS API argument or annotation element whose
semantics is that of a WSDL location URI MUST undergo URI resolution
using the catalog facility described in this section.</p>
</div>
<div class="paragraph">
<p>Although defined in the client API chapter for reasons of ease of
exposure, use of the catalog is in no way restricted to client uses of
WSDL location URIs. In particular, resolutions of URIs to WSDL and
schema documents that arise during the publishing of the contract for an
endpoint (see <a href="#endpointcontract">Determining the Contract for an Endpoint</a>) are subject to the requirements in
this section, resulting in catalog-based URI resolutions.</p>
</div>
</div>
<div class="sect2">
<h3 id="endpointreference"><a class="anchor" href="#endpointreference"></a>5.5. javax.xml.ws.EndpointReference</h3>
<div class="paragraph">
<p>A <code>javax.xml.ws.EndpointReference</code> is an abstraction that represents an
invocable web service endpoint. Client applications can use an
<code>EndpointReference</code> to get a port for an SEI although doing so prevents
them from getting/setting the <code>Executor</code> or <code>HandlerResolver</code> which
would normally be done on a <code>Service</code> instance. The <code>EndpointReference</code>
class delegates to the <code>javax.xml.ws.spi.Provider</code> to perform the
<code>getPort</code> operation. The following method can be used to get a proxy for
a Port.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>getPort(Class&lt;T&gt; serviceEndpointInterface, WebServiceFeature&#8230;&#8203; features)</code></dt>
<dd>
<p>Gets a proxy for the <code>serviceEndpointInterface</code> that can be used to
invoke operations on the endpoint referred to by the
<code>EndpointReference</code> instance. The specified <code>features</code> MUST be
enabled/disabled and configured as specified. The returned proxy MUST
use the <code>EndpointReference</code> instance to determine the endpoint address
and any reference parameters to be sent on endpoint invocations. The
<code>EndpointReference</code> instance MUST NOT be used directly as the value of
an WS-Addressing header such as <code>wsa:ReplyTo</code>. For this method to
successfully return a proxy, WSDL metadata MUST be available and the
<code>EndpointReference</code> instance MUST contain an implementation understood
<code>ServiceName</code> in its metadata.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="serviceapis"><a class="anchor" href="#serviceapis"></a>6. Service APIs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes requirements on JAX-WS service implementations
and standard APIs provided for their use.</p>
</div>
<div class="sect2">
<h3 id="providersvcapi"><a class="anchor" href="#providersvcapi"></a>6.1. javax.xml.ws.Provider</h3>
<div class="paragraph">
<p>JAX-WS services typically implement a native Java service endpoint
interface (SEI), perhaps mapped from a WSDL port type, either directly
or via the use of annotations. Section <a href="#j2wsdl11interface">Interface</a> describes the
requirements that a Java interface must meet to qualify as a JAX-WS SEI.
Section <a href="#wsdl11porttype">Port Type</a> describes the mapping from a WSDL port type to
an equivalent Java SEI.</p>
</div>
<div class="paragraph">
<p>Java SEIs provide a high level Java-centric abstraction that hides the
details of converting between Java objects and their XML representations
for use in XML-based messages. However, in some cases it is desirable
for services to be able to operate at the XML message level. The
<code>Provider</code> interface offers an alternative to SEIs and may be
implemented by services wishing to work at the XML message level.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Provider support required):</em> An implementation MUST support
<code>Provider&lt;Source&gt;</code> in payload mode with all the predefined bindings. It
MUST also support <code>Provider&lt;SOAPMessage&gt;</code> in message mode in conjunction
with the predefined SOAP bindings and
<code>Provider&lt;javax.activation.DataSource&gt;</code> in message mode in conjunction
with the predefined HTTP binding.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Provider default constructor):</em> A <code>Provider</code> based service endpoint
implementation MUST provide a public default constructor.</p>
</div>
<div class="paragraph">
<p>An empty Source payload can be used in payload mode to send a response
with no payload. An empty source can be constructed using zero-argument
default constructors of DOMSource, SAXSource, and StreamSource.</p>
</div>
<div class="paragraph">
<p>A typed <code>Provider</code> interface is one in which the type parameter has been
bound to a concrete class, e.g. <code>Provider&lt;Source&gt;</code> or
<code>Provider&lt;SOAPMessage&gt;</code>, as opposed to being left unbound, as in
<code>Provider&lt;T&gt;</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Provider implementation):</em> A <code>Provider</code> based service endpoint
implementation MUST implement a typed <code>Provider</code> interface.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (WebServiceProvider annotation):</em> A <code>Provider</code> based service endpoint
implementation MUST carry a <code>WebServiceProvider</code> annotation (see
<a href="#mdwebsvcprovider">javax.xml.ws.WebServiceProvider</a>).</p>
</div>
<div class="paragraph">
<p><code>Provider</code> is a low level generic API that requires services to work
with messages or message payloads and hence requires an intimate
knowledge of the desired message or payload structure. The generic
nature of <code>Provider</code> allows use with a variety of message object types.</p>
</div>
<div class="paragraph">
<p>A JAX-WS implementation MUST honor all <code>WebServiceFeatures</code> (section
<a href="#webservicefeature">javax.xml.ws.WebServiceFeature</a>) for <code>Provider</code> based applications.</p>
</div>
<div class="sect3">
<h4 id="invocation"><a class="anchor" href="#invocation"></a>6.1.1. Invocation</h4>
<div class="paragraph">
<p>A <code>Provider</code> based service instance’s <code>invoke</code> method is called for each
message received for the service.</p>
</div>
<div class="paragraph">
<p>When an invoke method returns null, it is considered that no response
needs to be sent by service.</p>
</div>
<div class="sect4">
<h5 id="exceptions"><a class="anchor" href="#exceptions"></a>6.1.1.1. Exceptions</h5>
<div class="paragraph">
<p>The service runtime is required to catch exceptions thrown by a Provider
instance. A <code>Provider</code> instance may make use of the protocol specific
exception handling mechanism as described in section
<a href="#protocolspecificfaults">Protocol Specific Exception Handling</a>. The protocol binding is responsible for
converting the exception into a protocol specific fault representation
and then invoking the handler chain and dispatching the fault message as
appropriate.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="configuration"><a class="anchor" href="#configuration"></a>6.1.2. Configuration</h4>
<div class="paragraph">
<p>The <code>ServiceMode</code> annotation is used to configure the messaging mode of
a <code>Provider</code> instance. Use of <code>@ServiceMode(value=MESSAGE)</code> indicates
that the provider instance wishes to receive and send entire protocol
messages (e.g. a SOAP message when using the SOAP binding); absence of
the annotation or use of <code>@ServiceMode(value=PAYLOAD)</code> indicates that
the provider instance wishes to receive and send message payloads only
(e.g. the contents of a SOAP Body element when using the SOAP binding).</p>
</div>
<div class="paragraph">
<p>Provider instances MAY use the <code>WebServiceContext</code> facility (see
<a href="#webservicecontext">javax.xml.ws.WebServiceContext</a>) to access the message context and other information
about the request currently being served.</p>
</div>
<div class="paragraph">
<p>The JAX-WS runtime makes certain properties available to a <code>Provider</code>
instance that can be used to determine its configuration. These
properties are passed to the <code>Provider</code> instance each time it is invoked
using the <code>MessageContext</code> instance accessible from the
<code>WebServiceContext</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples-1"><a class="anchor" href="#examples-1"></a>6.1.3. Examples</h4>
<div class="paragraph">
<p>For brevity, error handling is omitted in the following examples.</p>
</div>
<div class="sect4">
<h5 id="simple-echo-service-reply-message-is-the-same-as-the-input-message"><a class="anchor" href="#simple-echo-service-reply-message-is-the-same-as-the-input-message"></a>6.1.3.1. Simple echo service, reply message is the same as the input message</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td>
  <td class="code"><pre><span class="annotation">@WebServiceProvider</span>
<span class="annotation">@ServiceMode</span>(value=Service.Mode.MESSAGE)
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyService</span> <span class="directive">implements</span> <span class="predefined-type">Provider</span>&lt;SOAPMessage&gt; {
    <span class="directive">public</span> MyService() {
    }

    <span class="directive">public</span> SOAPMessage invoke(SOAPMessage request) {
        <span class="keyword">return</span> request;
    }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="simple-static-reply-reply-message-contains-a-fixed-acknowlegment-element"><a class="anchor" href="#simple-static-reply-reply-message-contains-a-fixed-acknowlegment-element"></a>6.1.3.2. Simple static reply, reply message contains a fixed acknowlegment element</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td>
  <td class="code"><pre><span class="annotation">@WebServiceProvider</span>
<span class="annotation">@ServiceMode</span>(value=Service.Mode.PAYLOAD)
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyService</span> <span class="directive">implements</span> <span class="predefined-type">Provider</span>&lt;<span class="predefined-type">Source</span>&gt; {
    <span class="directive">public</span> MyService() {
    }

    <span class="directive">public</span> <span class="predefined-type">Source</span> invoke(<span class="predefined-type">Source</span> request) {
        <span class="predefined-type">Source</span> requestPayload = request.getPayload();
        ...
        String replyElement = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;n:ack xmlns:n=’...’/&gt;</span><span class="delimiter">&quot;</span></span>;
        <span class="predefined-type">StreamSource</span> reply = <span class="keyword">new</span> <span class="predefined-type">StreamSource</span>(<span class="keyword">new</span> <span class="predefined-type">StringReader</span>(replyElement));
        <span class="keyword">return</span> reply;
    }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="using-jaxb-to-read-the-input-message-and-set-the-reply"><a class="anchor" href="#using-jaxb-to-read-the-input-message-and-set-the-reply"></a>6.1.3.3. Using JAXB to read the input message and set the reply</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td>
  <td class="code"><pre><span class="annotation">@WebServiceProvider</span>
<span class="annotation">@ServiceMode</span>(value=Service.Mode.PAYLOAD)
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyService</span> <span class="directive">implements</span> <span class="predefined-type">Provider</span>&lt;<span class="predefined-type">Source</span>&gt; {
    <span class="directive">public</span> MyService() {
    }

    <span class="directive">public</span> <span class="predefined-type">Source</span> invoke(<span class="predefined-type">Source</span> request) {
        JAXBContent jc = JAXBContext.newInstance(...);
        Unmarshaller u = jc.createUnmarshaller();
        <span class="predefined-type">Object</span> requestObj = u.unmarshall(request);
        ...
        Acknowledgement reply = <span class="keyword">new</span> Acknowledgement(...);
        <span class="keyword">return</span> <span class="keyword">new</span> JAXBSource(jc, reply);
    }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="endpointif"><a class="anchor" href="#endpointif"></a>6.2. javax.xml.ws.Endpoint</h3>
<div class="paragraph">
<p>The <code>Endpoint</code> class can be used to create and publish Web service
endpoints.</p>
</div>
<div class="paragraph">
<p>An endpoint consists of an object that acts as the Web service
implementation (called here <em>implementor</em>) plus some configuration
information, e.g. a <code>Binding</code>. Implementor and binding are set when the
endpoint is created and cannot be modified later. Their values can be
retrieved using the <code>getImplementor</code> and <code>getBinding</code> methods
respectively. Other configuration information may be set at any time
after the creation of an <code>Endpoint</code> but before its publication.</p>
</div>
<div class="sect3">
<h4 id="endpointfactusage"><a class="anchor" href="#endpointfactusage"></a>6.2.1. Endpoint Usage</h4>
<div class="paragraph">
<p>Endpoints can be created using the following static methods on
<code>Endpoint</code>:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>create(Object implementor)</code></dt>
<dd>
<p>Creates and returns an <code>Endpoint</code> for the specified implementor. If the
implementor specifies a binding using the <code>javax.xml.ws.BindingType</code>
annotation it MUST be used else a default binding of SOAP 1.1 / HTTP
binding MUST be used.</p>
</dd>
<dt class="hdlist1"><code>create(Object implementor, WebServiceFeature &#8230;&#8203; features)</code></dt>
<dd>
<p>Same as the above <code>create()</code> method. The created <code>Endpoint</code> is
configured with the web service features. These features override the
corresponding features that are specified in WSDL, if present.</p>
</dd>
<dt class="hdlist1"><code>create(String bindingID, Object implementor)</code></dt>
<dd>
<p>Creates and returns an <code>Endpoint</code> for the specified binding and
implementor. If the bindingID is <code>null</code> and no binding information is
specified via the <code>javax.xml.ws.BindingType</code> annotation then a default
SOAP 1.1 / HTTP binding MUST be used.</p>
</dd>
<dt class="hdlist1"><code>create(String bindingID, Object implementor, WebServiceFeature &#8230;&#8203; features)</code></dt>
<dd>
<p>Same as the above <code>create()</code> method. The created <code>Endpoint</code> is
configured with the web service features. These features override the
corresponding features that are specified in WSDL, if present.</p>
</dd>
<dt class="hdlist1"><code>publish(String address, Object implementor)</code></dt>
<dd>
<p>Creates and publishes an <code>Endpoint</code> for the given implementor. The
binding is chosen by default based on the URL scheme of the provided
address (which must be a URL). If a suitable binding if found, the
endpoint is created then published as if the
<code>Endpoint.publish(String address)</code> method had been called. The created
<code>Endpoint</code> is then returned as the value of the method.</p>
</dd>
<dt class="hdlist1"><code>publish(String address, Object implementor, WebServiceFeature &#8230;&#8203; features)</code></dt>
<dd>
<p>Same as the above <code>publish()</code> method. The created <code>Endpoint</code> is
configured with the web service features. These features override the
corresponding features that are specified in WSDL, if present.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>These methods MUST delegate the creation of Endpoint to the
<code>javax.xml.ws.spi.Provider</code> SPI class (see <a href="#spiprovider">javax.xml.ws.spi.Provider</a>) by calling the
<code>createEndpoint</code> and <code>createAndPublishEndpoint</code> methods respectively.</p>
</div>
<div class="paragraph">
<p>An implementor object MUST be either an instance of a class annotated
with the <code>@WebService</code> annotation according to the rules in chapter
<a href="#j2wsdl11chap">Java to WSDL 1.1 Mapping</a> or an instance of a class annotated with the
<code>WebServiceProvider</code> annotation and implementing the <code>Provider</code>
interface (see <a href="#providersvcapi">javax.xml.ws.Provider</a>).</p>
</div>
<div class="paragraph">
<p>The <code>publish(String,Object)</code> method is provided as a shortcut for the
common operation of creating and publishing an <code>Endpoint</code>. The following
code provides an example of its use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="comment">// assume Test is an endpoint implementation class annotated with @WebService</span>
Test test = <span class="keyword">new</span> Test();
Endpoint e = Endpoint.publish(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:8080/test</span><span class="delimiter">&quot;</span></span>, test);</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Endpoint publish(String address, Object implementor) Method):</em> The effect
of invoking the <code>publish</code> method on an <code>Endpoint</code> MUST be the same as
first invoking the <code>create</code> method with the binding ID appropriate to
the URL scheme used by the address, then invoking the
<code>publish(String address)</code> method on the resulting <code>endpoint</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Default Endpoint Binding):</em> In the absence of a specified binding, if the
URL scheme for the address argument of the <code>Endpoint.publish</code> method is
<code>http'' or </code>https'' then an implementation MUST use the SOAP 1.1/HTTP
binding (see chapter <a href="#soapbindchap">SOAP Binding</a>) as the binding for the newly
created endpoint.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Other Bindings):</em> An implementation MAY support using the
<code>Endpoint.publish</code> method with addresses whose URL scheme is neither
<code>http'' nor </code>https''.</p>
</div>
<div class="paragraph">
<p>The success of the <code>Endpoint.publish</code> method is conditional to the
presence of the appropriate permission as described in section
<a href="#endpointpublishpermission">Publishing Permission</a>.</p>
</div>
<div class="paragraph">
<p>Endpoint implementors MAY use the <code>WebServiceContext</code> facility (see
<a href="#webservicecontext">javax.xml.ws.WebServiceContext</a>) to access the message context and other information
about the request currently being served. Injection of the
<code>WebServiceContext</code>, if requested, MUST happen the first time the
endpoint is published. After any injections have been performed and
before any requests are dispatched to the implementor, the implementor
method which carries a <code>javax.annotation.PostConstruct</code> annotation, if
present, MUST be invoked. Such a method MUST satisfy the requirements
for lifecycle methods in JSR-250 <a href="#bib35">[35]</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="endpointpublishing"><a class="anchor" href="#endpointpublishing"></a>6.2.2. Publishing</h4>
<div class="paragraph">
<p>An <code>Endpoint</code> is in one of three states: not published (the default),
published or stopped. Published endpoints are active and capable of
receiving incoming requests and dispatching them to their implementor.
Non published endpoints are inactive. Stopped endpoint were in the
published until some time ago, then got stopped. Stopped endpoints
cannot be published again. Publication of an <code>Endpoint</code> can be achieved
by invoking one of the following methods:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>publish(String address)</code></dt>
<dd>
<p>Publishes the endpoint at the specified address (a URL). The address
MUST use a URL scheme compatible with the endpoint’s binding.</p>
</dd>
<dt class="hdlist1"><code>publish(Object serverContext)</code></dt>
<dd>
<p>Publishes the endpoint using the specified server context. The server
context MUST contain address information for the resulting endpoint
and it MUST be compatible with the endpoint’s binding.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Publishing over HTTP):</em> If the <code>Binding</code> for an <code>Endpoint</code> is a SOAP (see
<a href="#soapbindchap">SOAP Binding</a>) or HTTP (see <a href="#xmlbindchap">HTTP Binding</a>) binding, then an
implementation MUST support publishing the <code>Endpoint</code> to a URL whose
scheme is either <code>http'' or </code>https''.</p>
</div>
<div class="paragraph">
<p>The WSDL contract for an endpoint is created dynamically based on the
annotations on the implementor class, the <code>Binding</code> in use and the set
of metadata documents specified on the endpoint (see
<a href="#endpointmetadata">Endpoint Metadata</a>).</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (WSDL Publishing):</em> An <code>Endpoint</code> that uses the SOAP 1.1/HTTP binding (see
<a href="#soapbindchap">SOAP Binding</a>) MUST make its contract available as a WSDL 1.1 document
at the publishing address suffixed with <code>?WSDL'' or </code>?wsdl''.</p>
</div>
<div class="paragraph">
<p>An <code>Endpoint</code> that uses any other binding defined in this specification
in conjunction with the HTTP transport SHOULD make its contract
available using the same convention. It is RECOMMENDED that an
implementation provide a way to access the contract for an endpoint even
when the latter is published over a transport other than HTTP.</p>
</div>
<div class="paragraph">
<p>The success of the two <code>Endpoint.publish</code> methods described above is
conditional to the presence of the appropriate permission as described
in section <a href="#endpointpublishpermission">Publishing Permission</a>.</p>
</div>
<div class="paragraph">
<p>Applications that wish to modify the configuration information (e.g. the
metadata) for an <code>Endpoint</code> must make sure the latter is in the
not-published state. Although the various setter methods on <code>Endpoint</code>
must always store their arguments so that they can be retrieved by a
later invocation of a getter, the changes they entail may not be
reflected on the endpoint until the next time it is published. In other
words, the effects of configuration changes on a currently published
endpoint are undefined.</p>
</div>
<div class="paragraph">
<p>The <code>stop</code> method can be used to stop publishing an endpoint. A stopped
endpoint may not be restarted. It is an error to invoke a <code>publish</code>
method on a stopped endpoint. After the <code>stop</code> method returns, the
runtime MUST NOT dispatch any further invocations to the endpoint’s
implementor.</p>
</div>
<div class="paragraph">
<p>An <code>Endpoint</code> will be typically invoked to serve concurrent requests, so
its implementor should be written so as to support multiple threads. The
<code>synchronized</code> keyword may be used as usual to control access to
critical sections of code. For finer control over the threads used to
dispatch incoming requests, an application can directly set the executor
to be used, as described in section <a href="#endpointexecutor">Executor</a>.</p>
</div>
<div class="sect4">
<h5 id="example-4"><a class="anchor" href="#example-4"></a>6.2.2.1. Example</h5>
<div class="paragraph">
<p>The following example shows the use of the <code>publish(Object)</code> method
using a hypothetical HTTP server API that includes the <code>HttpServer</code> and
<code>HttpContext</code> classes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="comment">// assume Test is an endpoint implementation class annotated with @WebService</span>
Test test = <span class="keyword">new</span> Test();
HttpServer server = HttpServer.create(<span class="keyword">new</span> <span class="predefined-type">InetSocketAddress</span>(<span class="integer">8080</span>),<span class="integer">10</span>);
server.setExecutor(<span class="predefined-type">Executor</span>.newFixedThreadPool(<span class="integer">10</span>));
server.start();
HttpContext context = server.createContext(<span class="string"><span class="delimiter">&quot;</span><span class="content">/test</span><span class="delimiter">&quot;</span></span>);
Endpoint endpoint = Endpoint.create(SOAPBinding.SOAP11HTTP_BINDING, test);
endpoint.publish(context);</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the specified server context uses its own executor mechanism.
At runtime then, any other executor set on the <code>Endpoint</code> instance would
be ignored by the JAX-WS implementation.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="endpointpublishpermission"><a class="anchor" href="#endpointpublishpermission"></a>6.2.3. Publishing Permission</h4>
<div class="paragraph">
<p>For security reasons, administrators may want to restrict the ability of
applications to publish Web service endpoints. To this end, JAX-WS 2.0
defines a new permission class, <code>javax.xml.ws.WebServicePermission</code>, and
one named permission, <code>publishEndpoint</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Checking publishEndpoint Permission):</em> When any of the <code>publish</code>
methods defined by the <code>Endpoint</code> class are invoked, an implementation
MUST check whether a <code>SecurityManager</code> is installed with the
application. If it is, implementations MUST verify that the application
has the <code>WebServicePermission</code> identified by the target name
<code>publishEndpoint</code> before proceeding. If the permission is not granted,
implementations MUST NOT publish the endpoint and they MUST throw a
<code>java.lang.SecurityException</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="endpointmetadata"><a class="anchor" href="#endpointmetadata"></a>6.2.4. Endpoint Metadata</h4>
<div class="paragraph">
<p>A set of metadata documents can be associated with an <code>Endpoint</code> by
means of the <code>setMetadata(List&lt;Source&gt;)</code> method. By setting the metadata
of an <code>Endpoint</code>, an application can bypass the automatic generation of
the endpoint’s contract and specify the desired contract directly. This
way it is possible, e.g., to make sure that the WSDL or XML Schema
document that is published contains information that cannot be
represented using built-in Java annotations (see <a href="#metadata">Annotations</a>).</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Required Metadata Types):</em> An implementation MUST support WSDL 1.1 and
XML Schema 1.0 documents as metadata.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Unknown Metadata):</em> An implementation MUST ignore metadata documents
whose type it does not recognize.</p>
</div>
<div class="paragraph">
<p>When specifying a list of documents as metadata, an application may need
to establish references between them. For instance, a WSDL document may
import one or more XML Schema documents. In order to do so, the
application MUST use the <code>systemId</code> property of the
<code>javax.xml.transform.Source</code> class by setting its value to an absolute
URI that uniquely identifies it among all supplied metadata documents,
then using the given URI in the appropriate construct (e.g.
<code>wsdl:import</code> or <code>xsd:import</code>).</p>
</div>
</div>
<div class="sect3">
<h4 id="endpointcontract"><a class="anchor" href="#endpointcontract"></a>6.2.5. Determining the Contract for an Endpoint</h4>
<div class="paragraph">
<p>This section details how the annotations on the endpoint implementation
class and the metadata for an endpoint instance are used at publishing
time to create a contract for the endpoint.</p>
</div>
<div class="paragraph">
<p>Both the <code>WebService</code> and <code>WebServiceProvider</code> annotations define a
<code>wsdlLocation</code> annotation element which can be used to point to the
desired WSDL document for the endpoint. If such an annotation element is
present on the endpoint implementation class and has a value other than
the default one (i.e. it is not the empty string), then a JAX-WS
implementation MUST use the document referred to from the <code>wsdlLocation</code>
annotation element to determine the contract, according to the rules in
section <a href="#usingwsdllocationandmetadata">Use of <code>@WebService(wsdlLocation)</code> and Metadata</a>.</p>
</div>
<div class="paragraph">
<p>In addition to the case in which the <code>Endpoint</code> API is explicitly used,
the requirements in this section are also applicable to the publishing
of an endpoint via declarative means, e.g. in a servlet container. In
this case, there may not be an equivalent for the notion of metadata as
described in <a href="#endpointmetadata">Endpoint Metadata</a>. In such an occurrence, the rules in
this section MUST be applied using an empty set of metadata documents as
the metadata for the endpoint.</p>
</div>
<div class="paragraph">
<p>In the context of the Java EE Platform, JSR-109 <a href="#bib17">[17]</a>
defines deployment descriptor elements that may be used to
override the value of the <code>wsdlLocation</code> annotation element. Please
refer to that specification for more details.</p>
</div>
<div class="paragraph">
<p>As we specify additional rules to be used in determining the contract
for an endpoint, we distinguish two cases: that of a SEI-based endpoint
(i.e. an endpoint that is annotated with a <code>WebService</code> annotation) and
that of a Provider-based endpoint.</p>
</div>
<div class="sect4">
<h5 id="contractseiendpoints"><a class="anchor" href="#contractseiendpoints"></a>6.2.5.1. SEI-based Endpoints</h5>
<div class="paragraph">
<p>For publishing to succeed, a SEI-based endpoint MUST have an associated
contract.</p>
</div>
<div class="paragraph">
<p>If the <code>wsdlLocation</code> annotation element is the empty string, then a
JAX-WS implementation must obey the following rules, depending on the
binding used by the endpoint:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">SOAP 1.1/HTTP Binding</dt>
<dd>
<p>A JAX-WS implementation MUST generate a WSDL description for the
endpoint based on the rules in section <a href="#usingwsdllocationandmetadata">Use of <code>@WebService(wsdlLocation)</code> and Metadata</a>
below.</p>
</dd>
<dt class="hdlist1">SOAP 1.2/HTTP Binding</dt>
<dd>
<p>A JAX-WS implementation MUST NOT generate a WSDL description for the
endpoint.</p>
</dd>
<dt class="hdlist1">HTTP Binding</dt>
<dd>
<p>A JAX-WS implementation MUST NOT generate a WSDL description for the
endpoint.</p>
</dd>
<dt class="hdlist1">Any Implementation-Specific Binding</dt>
<dd>
<p>A JAX-WS implementation MAY generate a WSDL description for the
endpoint.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This requirements guarantee that future versions of this specification
may mandate support for additional WSDL binding in conjunction with the
predefined binding identifiers without negatively affecting existing
applications.</p>
</div>
<div class="paragraph">
<p>A generated contract MUST follow the rules in chapter <a href="#j2wsdl11chap">Java to WSDL 1.1 Mapping</a> and
those in the JAXB specification <a href="#bib10">[10]</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="contractproviderendpoints"><a class="anchor" href="#contractproviderendpoints"></a>6.2.5.2. Provider-based Endpoints</h5>
<div class="paragraph">
<p>Provider-based endpoints SHOULD have a non-empty <code>wsdlLocation</code> pointing
to a valid WSDL description of the endpoint.</p>
</div>
<div class="paragraph">
<p>If the <code>wsdlLocation</code> annotation element is the empty string, then a
JAX-WS implementation MUST NOT generate a WSDL description for the
endpoint.</p>
</div>
</div>
<div class="sect4">
<h5 id="usingwsdllocationandmetadata"><a class="anchor" href="#usingwsdllocationandmetadata"></a>6.2.5.3. Use of <code>@WebService(wsdlLocation)</code> and Metadata</h5>
<div class="paragraph">
<p>A WSDL document contains two different kinds of information: abstract
information (i.e. portTypes and any schema-related information) which
affects the format of the messages and the data being exchanged, and
binding-related one (i.e. bindings and ports) which affects the choice
of protocol and transport as well as the on-the-wire format of the
messages. Annotations (see <a href="#metadata">Annotations</a>) are provided to capture the
former aspects but not the latter. (The <code>@SOAPBinding</code> annotation is a
bit of a hybrid, because it captures the signature-related aspects of
the <code>soap:binding</code> binding extension in WSDL 1.1.)</p>
</div>
<div class="paragraph">
<p>At runtime, annotations must be followed for all the abstract aspects of
an interaction, but binding information has to come from somewhere else.
Although the choice of binding is made at the time an endpoint is
created, this specification does not attempt to capture all possible
binding properties in its APIs, since the extensibility of WSDL would
make it a futile exercise. Rather, when an endpoint is published, a
description for it, if present, is consulted to determine binding
information, using the <code>wsdl:service</code> and <code>wsdl:port</code> qualified names as
a key.</p>
</div>
<div class="paragraph">
<p>In terms of priority, the description specified using the <code>wsdlLocation</code>
annotation element, if present, comes first, and the metadata documents
are secondary. In the absence of a non-empty, non-default <code>wsdlLocation</code>
annotation element, the metadata documents are consulted to identify as
many description components as possible that can be reused when
producing the contract for the endpoint.</p>
</div>
<div class="paragraph">
<p>There are some restrictions on the packaging of the description and any
associated metadata documents. The goal of these restrictions is to make
it possible to publish an endpoint without forcing a JAX-WS
implementation to retrieve, store and patch multiple documents from
potentially remote sites.</p>
</div>
<div class="paragraph">
<p>The value of the <code>wsdlLocation</code> annotation element on an endpoint
implementation class, if any, MUST be a relative URL. The document it
points to MUST be packaged with the application. Moreover, it MUST
follow the requirements in section <a href="#applicationspecifiedservice">Application-specified Service</a> below
(``Application-specified Service'').</p>
</div>
<div class="paragraph">
<p>In the Java SE platform, relative URLs are treated as resources. When
running on the Java EE platform, the dispositions in the JSR-109
specification apply.</p>
</div>
<div class="paragraph">
<p>For ease of identification, let’s call this document the ``root
description document'', to distinguish it from any WSDL documents it
might import.</p>
</div>
<div class="paragraph">
<p>At publishing time, a JAX-WS implementation MUST patch the endpoint
address in the root description document to match the actual address the
endpoint is deployed at.</p>
</div>
<div class="paragraph">
<p>In order to state the requirements for patching the locations of any
<code>wsdl:import</code>-ed or <code>xsd:import</code>-ed documents, let’s define a document
as being <em>local</em> if and only if</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>it is the root description document, or</p>
</li>
<li>
<p>it is reachable from a local document via an import statement whose
location is either a relative URL or an absolute URL for which there is
a corresponding metadata document (i.e. a <code>Source</code> object which is a
member of the list of metadata documents and whose <code>systemId</code> property
is equal to the URL in question).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>A JAX-WS implementation MUST patch the location attributes of all
<code>wsdl:import</code> and <code>xsd:import</code> statement in local documents that point
to local documents. An implementation MUST NOT patch any other location
attributes.</p>
</div>
<div class="paragraph">
<p>Please note that, although the catalog facility (see <a href="#catalogfacility">Catalog Facility</a>)
is used to resolve any absolute URLs encountered while processing the
root description document or any documents transitively reachable from
it via <code>wsdl:import</code> and <code>xsd:import</code> statements, those absolute URLs
will not be rewritten when the importing document is published, since
documents resolved via the catalog are not considered local, even if the
catalog maps them to resources packaged with the application.</p>
</div>
<div class="paragraph">
<p>In what follows, for better readability, the term <code>`metadata document''
should be interpreted as also covering the description document pointed
to by the `wsdlLocation</code> annotation element (if any), while keeping in
mind the processing rules in the preceding paragraphs.</p>
</div>
<div class="paragraph">
<p>As a guideline, the generated contract must reuse as much as possible
the set of metadata documents provided by the application. In order to
simplify an implementor’s task, this specification requires that only a
small number of well-defined scenarios in which the application provides
metadata documents be supported.</p>
</div>
<div class="paragraph">
<p>Implementations MAY support other use cases, but they MUST follow the
general rule that any application-provided metadata element takes
priority over an implementation-generated one, with the exception of the
overriding of a port address.</p>
</div>
<div class="paragraph">
<p>For instance, if the application-provided metadata contains a definition
for portType <em>foo</em> that in no case should the JAX-WS implementation
create its own <em>foo</em> portType to replace the one provided by the
application in the final contract for the endpoint.</p>
</div>
<div class="paragraph">
<p>The exception to using a metadata document as supplied by the
application without any modifications is the address of the <code>wsdl:port</code>
for the endpoint, which MUST be overridden so as to match the address
specified as an argument to the <code>publish</code> method or the one implicit in
a server context.</p>
</div>
<div class="paragraph">
<p>When publishing the main WSDL document for an endpoint, an
implementation MUST ensure that all references between documents are
correct and resolvable. This may require remapping the metadata
documents to URLs different from those set as their <code>systemId</code> property.
The renaming MUST be consistent, in that the <code>imports'' and
</code>includes'' relationships existing between documents when the metadata
was supplied to the endpoint MUST be respected at publishing time.
Moreover, the same metadata document SHOULD NOT be published at
multiple, different URLs.</p>
</div>
<div class="paragraph">
<p>When resolving URI references to other documents when processing
metadata documents or any of the documents they may transitively
reference, a JAX-WS implementation MUST use the catalog facility defined
in section <a href="#catalogfacility">Catalog Facility</a>, except when there is a metadata document
whose system id matches the URI in question. In other words, metadata
documents have priority over catalog-based mappings.</p>
</div>
<div class="paragraph">
<p>The scenarios which are required to be supported are the following:</p>
</div>
</div>
<div class="sect4">
<h5 id="applicationspecifiedservice"><a class="anchor" href="#applicationspecifiedservice"></a>6.2.5.4. Application-specified Service</h5>
<div class="paragraph">
<p>One of the metadata documents, say <strong>D</strong>, contains a definition for a WSDL
service whose qualified name , say <strong>S</strong>, matches that specified by the
endpoint being published. In this case, a JAX-WS implementation MUST use
<strong>D</strong> as the service description. No further generation of
contract-related artifacts may occur.</p>
</div>
<div id="Table 5.1" class="paragraph">
<p>Table 5.1: Standard <code>Endpoint</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock"><strong>javax.xml.ws.wsdl</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">.service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the qualified name of the service.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">.port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the qualified name of the port.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The implementation MUST also
override the port address in <strong>D</strong> and the <code>location</code> and <code>schemaLocation</code>
attributes as detailed in the preceding paragraphs. It is an error if
more than one metadata document contains a definition for the
sought-after service <strong>S</strong>.</p>
</div>
</div>
<div class="sect4">
<h5 id="application-specified-porttype"><a class="anchor" href="#application-specified-porttype"></a>6.2.5.5. Application-specified PortType</h5>
<div class="paragraph">
<p>No metadata document contains a definition for the sought-after service
<strong>S</strong>, but a metadata document, say <strong>D</strong>, contains a definition for the
WSDL portType whose qualified name, say <strong>P</strong>, matches that specified by
the endpoint being published. In this case, a JAX-WS implementation MUST
create a new description for <strong>S</strong>, including an appropriate WSDL binding
element referencing portType <strong>P</strong>. The metadata document <strong>D</strong> MUST be
imported/included so that the published contract uses the definition of
<strong>P</strong> provided by <strong>D</strong>. No schema generation occurs,as <strong>P</strong> is assumed to
embed or import schema definitions for all the types/elements it
requires. Like in the previous case, the implementation MUST override
any <code>location</code> and <code>schemaLocation</code> attributes. It is an error if more
than one metadata document contains a definition for the sought-after
portType <strong>P</strong>.</p>
</div>
</div>
<div class="sect4">
<h5 id="application-specified-schema-or-no-metadata"><a class="anchor" href="#application-specified-schema-or-no-metadata"></a>6.2.5.6. Application-specified Schema or No Metadata</h5>
<div class="paragraph">
<p>No metadata document contains a definition for the sought-after service
<strong>S</strong> and portType <strong>P</strong>. In this case, a JAX-WS implementation MUST
generate a complete WSDL for <strong>S</strong>. When it comes to generating a schema
for a certain target namespace, say <strong>T</strong>, the implementation MUST reuse
the schema for <strong>T</strong> among the available metadata documents, if any. Like
in the preceding case, the implementation MUST override any
<code>schemaLocation</code> attributes. It is an error if more than one schema
documents specified as metadata for the endpoint attempt to define
components in a namespace <strong>T</strong> used by the endpoint.</p>
</div>
<div class="paragraph">
<p>Note: <em>The three scenarios described above cover several applicative use cases.
The first one represents an application that has full control over all
aspects of the contract. The JAX-WS runtime just uses what the
application provided, with a minimum of adjustments to ensure
consistency. The second one corresponds to an application that defines
all abstract aspects of the WSDL, i.e. portType(s) and schema(s),
leaving up to the JAX-WS runtime to generate the concrete portions of
the contract. Finally, the third case represents an application that
uses one or more well-known schema(s), possibly taking advantage of lots
of facets/constraints that JAXB cannot capture, and wants to reuse it
as-is, leaving all the WSDL-specific aspects of the contract up to the
runtime. This use case also covers an application that does not specify
any metadata, leaving WSDL and schema generation up to the JAX-WS (and
JAXB) implementation.</em></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="endpointproperties"><a class="anchor" href="#endpointproperties"></a>6.2.6. Endpoint Properties</h4>
<div class="paragraph">
<p>An <code>Endpoint</code> has an associated set of properties that may be read and
written using the <code>getProperties</code> and <code>setProperties</code> methods
respectively.</p>
</div>
<div class="paragraph">
<p><a href="#Table 5.1">[Table 5.1]</a> lists the set of standard <code>Endpoint</code>
properties.</p>
</div>
<div class="paragraph">
<p>When present, the WSDL-related properties override the values specified
using the <code>WebService</code> and <code>WebServiceProvider</code> annotations. This
functionality is most useful with provider objects (see section
<a href="#mdwebsvcprovider">javax.xml.ws.WebServiceProvider</a>), since the latter are naturally more suited to a
more dynamic usage. For instance, an application that publishes a
provider endpoint can decide at runtime which web service to impersonate
by using a combination of metadata documents and the properties
described in this section.</p>
</div>
</div>
<div class="sect3">
<h4 id="endpointexecutor"><a class="anchor" href="#endpointexecutor"></a>6.2.7. Executor</h4>
<div class="paragraph">
<p><code>Endpoint</code> instances can be configured with a
<code>java.util.concurrent.Executor</code>. The executor will then be used to
dispatch any incoming requests to the application. The <code>setExecutor</code> and
<code>getExecutor</code> methods of <code>Endpoint</code> can be used to modify and retrieve
the executor configured for a service.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Use of Executor):</em> If an executor object is successfully set on an
<code>Endpoint</code> via the <code>setExecutor</code> method, then an implementation MUST use
it to dispatch incoming requests upon publication of the <code>Endpoint</code> by
means of the <code>publish(String address)</code> method. If publishing is carried
out using the <code>publish(Object serverContext)</code>) method, an implementation
MAY use the specified executor or another one specific to the server
context being used.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Default Executor):</em> If an executor has not been set on an <code>Endpoint</code>, an
implementation MUST use its own executor, a
<code>java.util.concurrent.ThreadPoolExecutor</code> or analogous mechanism, to
dispatch incoming requests.</p>
</div>
</div>
<div class="sect3">
<h4 id="epr5"><a class="anchor" href="#epr5"></a>6.2.8. javax.xml.ws.EndpointReference</h4>
<div class="paragraph">
<p>The following methods can be used on a published <code>Endpoint</code> to retrieve
an <code>javax.xml.ws.EndpointReference</code> for the <code>Endpoint</code> instance.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>getEndpointReference(List&lt;Element&gt; referenceParameters)</code></dt>
<dd>
<p>Creates and returns and <code>javax.xml.ws.EndpointReference</code> for a
published <code>Endpoint</code>. If the binding is SOAP 1.1/HTTP or SOAP
1.2/HTTP, then a <code>javax.xml.ws.wsaddressing.W3CEndpointReference</code> MUST
be returned. A returned <code>W3CEndpointReference</code> MUST also contain the
specified <code>referenceParameters</code>. An implementation MUST throw a
<code>javax.xml.ws.WebServiceException</code> if the <code>Endpoint</code> instance has not
been published. An implementation MUST throw
<code>java.lang.UnsupportedOperationException</code> if the <code>Endpoint</code> instance
uses the XML/HTTP binding.</p>
</dd>
<dt class="hdlist1"><code>getEndpointReference(Class&lt;T&gt; clazz, List&lt;Element&gt; referenceParameters)</code></dt>
<dd>
<p>Creates and returns and <code>javax.xml.ws.EndpointReference</code> of type
<code>clazz</code> for a published <code>Endpoint</code> instance. If <code>clazz</code> is of type
<code>javax.xml.ws.wsaddressing.W3CEndpointReference</code>, then the returned
<code>W3CEndpointReference</code> MUST contain the specified
<code>referenceParameters</code>. An implementation MUST throw a
<code>javax.xml.ws.WebServiceException</code> if the <code>Endpoint</code> instance has not
been published. If the Class <code>clazz</code> is not a subclass of
<code>EndpointReference</code> or the <code>Endpoint</code> implementation does not support
<code>EndpointReferences</code> of type <code>clazz</code> a
<code>javax.xml.ws.WebServiceException</code> MUST be thrown. An implementation
MUST throw <code>java.lang.UnsupportedOperationException</code> if the <code>Endpoint</code>
instance uses the XML/HTTP binding.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><em>♦ Conformance (<code>Endpoint’s W3CEndpointReference</code>):</em> The returned <code>W3EndpointReference</code>
MUST contain <code>wsam:ServiceName</code> and <code>wsam:ServiceName[@EndpointName]</code> as
per Addressing 1.0 - Metadata<a href="#bib27">[27]</a>. The
<code>wsam:InterfaceName</code> MAY be present in the <code>W3CEndpointReference</code>. If
there is an associated WSDL, then the WSDL location MUST be referenced
using <code>wsdli:wsdlLocation</code> in the <code>W3CEndpointReference</code>’s
<code>wsa:Metadata</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="webservicecontext"><a class="anchor" href="#webservicecontext"></a>6.3. javax.xml.ws.WebServiceContext</h3>
<div class="paragraph">
<p>The <code>javax.xml.ws.WebServiceContext</code> interface makes it possible for an
endpoint implementation object and potentially any other objects that
share its execution context to access information pertaining to the
request being served.</p>
</div>
<div class="paragraph">
<p>The result of invoking any methods on the <code>WebServiceContext</code> of a
component outside the invocation of one of its web service methods is
undefined. An implementation SHOULD throw a
<code>java.lang.IllegalStateException</code> if it detects such a usage.</p>
</div>
<div class="paragraph">
<p>The <code>WebServiceContext</code> is treated as an injectable resource that can be
set at the time an endpoint is initialized. The <code>WebServiceContext</code>
object will then use thread-local information to return the correct
information regardless of how many threads are concurrently being used
to serve requests addressed to the same endpoint object.</p>
</div>
<div class="paragraph">
<p>In Java SE, the resource injection denoted by the <code>WebServiceContext</code>
annotation is REQUIRED to take place only when the annotated class is an
endpoint implementation class.</p>
</div>
<div class="paragraph">
<p>The following code shows a simple endpoint implementation class which
requests the injection of its <code>WebServiceContext</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre><span class="annotation">@WebService</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Test</span> {
<span class="annotation">@Resource</span>
<span class="directive">private</span> WebServiceContext context;
<span class="directive">public</span> <span class="predefined-type">String</span> reverse(<span class="predefined-type">String</span> inputString) { ... }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>javax.annotation.Resource</code> annotation defined by JSR-250 <a href="#bib35">[35]</a>
is used to request injection of the <code>WebServiceContext</code>. The
following constraints apply to the annotation elements of a <code>Resource</code>
annotation used to inject a <code>WebServiceContext</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>type</code> element MUST be either <code>java.lang.Object</code> (the default) or
<code>javax.xml.ws.WebServiceContext</code>. If the former, then the resource MUST
be injected into a field or a method. In this case, the type of the
field or the type of the JavaBeans property defined by the method MUST
be <code>javax.xml.ws.WebServiceContext</code>.</p>
</li>
<li>
<p>The <code>authenticationType</code>, <code>shareable</code> elements, if they appear, MUST
have their respective default values.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The above restriction on <code>type</code> guarantees that a resource type of
<code>WebServiceContext</code> is either explicitly stated or can be inferred from
the annotated field/method declaration. Moreover, the field/method type
must be assignable from the type described by the annotation’s <code>type</code>
element.</p>
</div>
<div class="paragraph">
<p>When running on the Java SE platform, the <code>name</code> and <code>mappedName</code>
elements are ignored. As a consequence, on Java SE there is no point in
declaring a resource of type <code>WebServiceContext</code> on the endpoint class
itself (instead of one of its fields/methods), since it won’t be
accessible at runtime via JNDI.</p>
</div>
<div class="paragraph">
<p>When running on the Java EE 5 platform, resources of type
<code>WebServiceContext</code> are treated just like all other injectable resources
there and are subject to the constraints prescribed by the platform
specification <a href="#bib36">[36]</a>.</p>
</div>
<div class="paragraph">
<p>An endpoint implementation can retrieve an
<code>javax.xml.ws.EndpointReference</code> for the endpoint using
<code>getEndpointReference(List&lt;Element&gt; referenceParameters)</code>, and
<code>getEndpointReference( Class&lt;T&gt; clazz, List&lt;Element&gt; referenceParameters)</code>
methods. These methods have the same semantics as the
<code>Endpoint.getEndpointReference()</code> methods specified in the section
<a href="#epr5">javax.xml.ws.EndpointReference</a></p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> <em>When using method-based injection, it is recommended that the method be
declared as non-public, otherwise it will be exposed as a web service
operation. Alternatively, the method can be marked with the
<code>@WebMethod(exclude=true)</code> annotation to ensure it will not be part of
the generated portType for the service.</em></p>
</div>
<div class="sect3">
<h4 id="messagecontext"><a class="anchor" href="#messagecontext"></a>6.3.1. MessageContext</h4>
<div class="paragraph">
<p>The message context made available to endpoint instances via the
<code>WebServiceContext</code> acts as a restricted window on to the
<code>MessageContext</code> of the inbound message following handler execution (see
chapter <a href="#handfmwk">Handler Framework</a>). The restrictions are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Only properties whose scope is <code>APPLICATION</code> are visible using a
<code>MessageContext</code> obtained from a <code>WebServiceContext</code>; the <code>get</code> method
returns <code>null</code> for properties with <code>HANDLER</code> scope, the <code>Set</code> returned
by <code>keySet</code> only includes properties with <code>APPLICATION</code> scope.</p>
</li>
<li>
<p>New properties set in the context are set in the underlying
<code>MessageContext</code> with <code>APPLICATION</code> scope.</p>
</li>
<li>
<p>An attempt to set the value of property whose scope is <code>HANDLER</code> in
the underlying <code>MessageContext</code> results in an <code>IllegalArgumentException</code>
being thrown.</p>
</li>
<li>
<p>Only properties whose scope is <code>APPLICATION</code> can be removed using the
context. An attempt to remove a property whose scope is <code>HANDLER</code> in the
underlying <code>MessageContext</code> results in an <code>IllegalArgumentException</code>
being thrown.</p>
</li>
<li>
<p>The <code>Map.putAll</code> method can be used to insert multiple properties at
once. Each property is inserted individually, each insert operation
being carried out as if enclosed by a try/catch block that traps any
<code>IllegalArgumentException</code>. Consequently, <code>putAll</code> is not atomic: it
silently ignores properties whose scope is <code>HANDLER</code> and it never throws
an <code>IllegalArgumentException</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>MessageContext</code> is used to store handlers information between
request and response phases of a message exchange pattern, restricting
access to context properties in this way ensures that endpoint
implementations can only access properties intended for their use.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="w3cendpointreferencebuilder"><a class="anchor" href="#w3cendpointreferencebuilder"></a>6.4. javax.xml.ws.wsaddressing.W3CEndpointReferenceBuilder</h3>
<div class="paragraph">
<p>Occasionally it is necessary for one application component to create an
<code>EndpointReference</code> for another web service endpoint. The
<code>W3CEndpointReferenceBuilder</code> class provides a standard API for creating
<code>W3CEndpointReference</code> instances for web service endpoints.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Building W3CEndpointReference):</em> <code>W3CEndpointReferenceBuilder.build()</code>
method MUST construct an <code>EndpointReference</code> as per the Addressing 1.0 -
Metadata<a href="#bib27">[27]</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="core-apis"><a class="anchor" href="#core-apis"></a>7. Core APIs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes the standard core APIs that may be used by both
client and server side applications.</p>
</div>
<div class="sect2">
<h3 id="protocolbinding"><a class="anchor" href="#protocolbinding"></a>7.1. javax.xml.ws.Binding</h3>
<div class="paragraph">
<p>The <code>javax.xml.ws.Binding</code> interface acts as a base interface for JAX-WS
protocol bindings. Bindings to specific protocols extend <code>Binding</code> and
may add methods to configure specific aspects of that protocol binding’s
operation. Chapter <a href="#soapbindchap">SOAP Binding</a> describes the JAX-WS SOAP binding;
chapter <a href="#xmlbindchap">HTTP Binding</a> describes the JAX-WS XML/HTTP binding.</p>
</div>
<div class="paragraph">
<p>Applications obtain a <code>Binding</code> instance from a <code>BindingProvider</code> (a
proxy or <code>Dispatch</code> instance) or from an <code>Endpoint</code> using the
<code>getBinding</code> method (see sections <a href="#bindingproviderif">javax.xml.ws.BindingProvider</a>, <a href="#endpointif">javax.xml.ws.Endpoint</a>).</p>
</div>
<div class="paragraph">
<p>A concrete binding is identified by a <em>binding id</em>, i.e. a URI. This
specification defines a number of standard bindings and their
corresponding identifiers (see chapters <a href="#soapbindchap">SOAP Binding</a> and
<a href="#xmlbindchap">HTTP Binding</a>). Implementations MAY support additional bindings. In
order to minimize conflicts, the identifier for an
implementation-specific binding SHOULD use a URI scheme that includes a
domain name or equivalent, e.g. the ``http'' URI scheme. Such
identifiers SHOULD include a domain name controlled by the
implementation’s vendor.</p>
</div>
<div class="paragraph">
<p><code>Binding</code> provides methods to manipulate the handler chain configured on
an instance (see section <a href="#handfmwrkprogconf">Programmatic Configuration</a>).</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Read-only handler chains):</em> An implementation MAY prevent changes to
handler chains configured by some other means (e.g. via a deployment
descriptor) by throwing <code>UnsupportedOperationException</code> from the
<code>setHandlerChain</code> method of <code>Binding</code></p>
</div>
</div>
<div class="sect2">
<h3 id="spiprovider"><a class="anchor" href="#spiprovider"></a>7.2. javax.xml.ws.spi.Provider</h3>
<div class="paragraph">
<p><code>Provider</code> is an abstract service provider interface (SPI) factory class
that provides various methods for the creation of <code>Endpoint</code> instances
and <code>ServiceDelegate</code> instances. These methods are designed for use by
other JAX-WS API classes, such as <code>Service</code> (see <a href="#serviceapi">javax.xml.ws.Service</a>) and
<code>Endpoint</code> (see <a href="#endpointif">javax.xml.ws.Endpoint</a>) and are not intended to be called directly
by applications.</p>
</div>
<div class="paragraph">
<p>The <code>Provider</code> SPI allows an application to use a different JAX-WS
implementation from the one bundled with the platform without any code
changes.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Concrete <code>javax.xml.ws.spi.Provider</code> required):</em> An implementation MUST
provide a concrete class that extends <code>javax.xml.ws.spi.Provider</code>. Such
a class MUST have a public constructor which takes no arguments.</p>
</div>
<div class="sect3">
<h4 id="providerdiscovery"><a class="anchor" href="#providerdiscovery"></a>7.2.1. Configuration</h4>
<div class="paragraph">
<p>The <code>Provider</code> implementation class is determined using the following
algorithm. The steps listed below are performed in sequence. At each
step, at most one candidate implementation class name will be produced.
The implementation will then attempt to load the class with the given
class name using the current context class loader or, if missing one,
the <code>java.lang.Class.forName(String)</code> method. As soon as a step results
in an implementation class being successfully loaded, the algorithm
terminates.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use the service-provider loading facilities, defined by the
<code>java.util.ServiceLoader</code> class, to attempt to locate and load an
implementation of <code>javax.xml.ws.spi.Provider</code> service using the default
loading mechanism .</p>
</li>
<li>
<p>Use the configuration file <code>jaxws.properties</code>. The file is in
standard <code>java.util.Properties</code> format and typically located in the conf
directory of the Java installation. It contains the fully qualified name
of the implementation class with the key <code>javax.xml.ws.spi.Provider</code>.</p>
</li>
<li>
<p>If a system property with the name <code>javax.xml.ws.spi.Provider</code> is
defined, then its value is used as the name of the implementation class.</p>
</li>
<li>
<p>Finally, a platform implementation is used.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="providerendpointcreation"><a class="anchor" href="#providerendpointcreation"></a>7.2.2. Creating Endpoint Objects</h4>
<div class="paragraph">
<p>Endpoints can be created using the following methods on <code>Provider</code>:</p>
</div>
<div class="paragraph">
<p><strong><code>createEndpoint(String bindingID, Object implementor)</code></strong> Creates and
returns an <code>Endpoint</code> for the specified binding and implementor. If the
<code>bindingId is</code> <code>null</code> and no binding information is specified via the
<code>javax.xml.ws.BindingType</code> annotation then a default SOAP1.1/HTTP
binding MUST be used.</p>
</div>
<div class="paragraph">
<p><strong><code>createEndpoint(String bindingID, Object implementor, WebServiceFeature &#8230;&#8203; features)</code></strong>
Same as the above <code>createEndpoint()</code> method. The created <code>Endpoint</code> is
configured with the web service features.</p>
</div>
<div class="paragraph">
<p><strong><code>createAndPublishEndpoint(String address, Object implementor)</code></strong> Creates
and publishes an <code>Endpoint</code> for the given implementor. The binding is
chosen by default based on the URL scheme of the provided address (which
must be a URL). If a suitable binding if found, the endpoint is created
then published as if the <code>Endpoint.publish(String address)</code> method had
been called. The created <code>Endpoint</code> is then returned as the value of the
method.</p>
</div>
<div class="paragraph">
<p><strong><code>createAndPublishEndpoint(String address, Object implementor, WebServiceFeature &#8230;&#8203; features)</code></strong>
Same as the above <code>createAndPublishEndpoint()</code> method. The created
<code>Endpoint</code> is configured with the web service features.</p>
</div>
<div class="paragraph">
<p><strong><code>createEndpoint(String bindingId, Class&lt;?&gt; implementorClass, Invoker invoker, WebServiceFeature &#8230;&#8203; features)</code></strong>
Creates an Endpoint for the implementor class and the endpoint
invocation is handled by the <code>Invoker</code>. If the bindingId is null and no
binding information is specified via the <code>javax.xml.ws.BindingType</code>
annotation then a default SOAP1.1/HTTP binding MUST be used. The created
<code>Endpoint</code> is configured with the web service features.</p>
</div>
<div class="paragraph">
<p>An implementor object MUST be either:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an instance of a SEI-based endpoint class, i.e. a class annotated with
the <code>@WebService</code> annotation according to the rules in chapter
<a href="#j2wsdl11chap">Java to WSDL 1.1 Mapping</a>, or</p>
</li>
<li>
<p>an instance of a provider class, i.e. a class implementing the
<code>Provider</code> interface and annotated with the <code>WebServiceProvider</code>
annotation according to the rules in <a href="#providersvcapi">javax.xml.ws.Provider</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>createAndPublishEndpoint(String,Object)</code> method is provided as a
shortcut for the common operation of creating and publishing an
<code>Endpoint</code>. It corresponds to the static <code>publish</code> method defined on the
<code>Endpoint</code> class, see <a href="#endpointfactusage">Endpoint Usage</a>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Provider createAndPublishEndpoint Method):</em> The effect of invoking the
<code>createAndPublishEndpoint</code> method on a <code>Provider</code> MUST be the same as
first invoking the <code>createEndpoint</code> method with the binding ID
appropriate to the URL scheme used by the address, then invoking the
<code>publish(String address)</code> method on the resulting <code>endpoint</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="providerservicedelegatecreation"><a class="anchor" href="#providerservicedelegatecreation"></a>7.2.3. Creating ServiceDelegate Objects</h4>
<div class="paragraph">
<p><code>javax.xml.ws.spi.ServiceDelegate</code> <a href="#coresvcdelegate">javax.xml.ws.spi.ServiceDelegate</a> can be created
using the following methods on <code>Provider</code>:</p>
</div>
<div class="paragraph">
<p><strong><code>createServiceDelegate(URL wsdlDocumentLocation, QName serviceName, Class &lt;? extends Service&gt; serviceClass)</code></strong>
Creates and returns a <code>ServiceDelegate</code> for the specified service. When
starting from WSDL the serviceClass will be the generated service class
as described in section <a href="#gensvcif">Service and Port</a>. In the dynamic case where there is
no service class generated it will be <code>javax.xml.ws.Service</code>. The
serviceClass is used by the <code>ServiceDelegate</code> to get access to the
annotations.</p>
</div>
<div class="paragraph">
<p><strong><code>createServiceDelegate(URL wsdlDocumentLocation, QName serviceName, Class &lt;? extends Service&gt; serviceClass, WebServiceFeature &#8230;&#8203; features)</code></strong>
Same as the above <code>createServiceDelegate()</code> method and it also
configures the delegate with all the web service features.</p>
</div>
</div>
<div class="sect3">
<h4 id="readepr"><a class="anchor" href="#readepr"></a>7.2.4. EndpointReferences</h4>
<div class="paragraph">
<p>The <code>Provider</code> class provides the following methods to create
<code>EndpointReference</code> instances.</p>
</div>
<div class="paragraph">
<p><strong><code>readEndpointReference(javax.xml.transform.Source source)</code></strong> Unmarshalls
and returns a <code>javax.xml.ws.EndpointReference</code> from the infoset
contained in <code>source</code>.</p>
</div>
<div class="paragraph">
<p><strong><code>createW3CEndpointReference</code></strong> Creates a <code>W3CEndpointReference</code> using
the specified <code>String address</code>, <code>QName serviceName</code>, <code>QName portName</code>,
<code>List&lt;Element&gt; metadata</code>, <code>String wsdlDocumentLocation</code>, and
<code>List&lt;Element&gt; referenceParameters</code> parameters.</p>
</div>
<div class="paragraph">
<p><strong><code>createW3CEndpointReference(String address, QName serviceName, QName portName, List&lt;Element&gt; metadata, String wsdlDocumentLocation, List&lt;Element&gt; referenceParameters)</code></strong>
Creates W3CEndpointReference using the specified parameters.</p>
</div>
<div class="paragraph">
<p><strong><code>createW3CEndpointReference(String address, QName interfaceName, QName serviceName, QName portName, List&lt;Element&gt; metadata, String wsdlDocumentLocation, List&lt;Element&gt; referenceParameters, List&lt;Element&gt; elements, Map&lt;QName, String&gt; attributes)</code></strong>
Creates W3CEndpointReference using the specified parameters. This method
adds support for extension elements, extension attributes, and porttype
name.</p>
</div>
</div>
<div class="sect3">
<h4 id="getport"><a class="anchor" href="#getport"></a>7.2.5. Getting Port Objects</h4>
<div class="paragraph">
<p>The following method can be used to get a proxy for a Port.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>getPort(EndpointReference epr, Class&lt;T&gt; sei, WebServiceFeature&#8230;&#8203; features)</code></dt>
<dd>
<p>Gets a proxy for the <code>sei</code> that can be used to invoke operations on
the endpoint referred to by the <code>epr</code>. The specified <code>features</code> MUST
be enabled/disabled and configured as specified. The returned proxy
MUST use the <code>epr</code> to determine the endpoint address and any reference
parameters that MUST be sent on endpoint invocations. The <code>epr</code> MUST
NOT be used directly as the value of an WS-Addressing header such as
<code>wsa:ReplyTo</code>.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="coresvcdelegate"><a class="anchor" href="#coresvcdelegate"></a>7.3. javax.xml.ws.spi.ServiceDelegate</h3>
<div class="paragraph">
<p>The <code>javax.xml.ws.spi.ServiceDelegate</code> class is an abstract class that
implementations MUST provide. This is the class that
<code>javax.xml.ws.Service</code> <a href="#serviceapi">javax.xml.ws.Service</a> class delegates all methods, except
the static <code>create</code> methods to. ServiceDelegate is defined as an
abstract class for future extensibility purpose.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Concrete <code>javax.xml.ws.spi.ServiceDelegate</code> required):</em> An implementation
MUST provide a concrete class that extends
<code>javax.xml.ws.spi.ServiceDelegate</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="coreexceptions"><a class="anchor" href="#coreexceptions"></a>7.4. Exceptions</h3>
<div class="paragraph">
<p>The following standard exceptions are defined by JAX-WS.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>javax.xml.ws.WebServiceException</code></dt>
<dd>
<p>A runtime exception that is thrown by methods in JAX-WS APIs when
errors occur during local processing.</p>
</dd>
<dt class="hdlist1"><code>javax.xml.ws.ProtocolException</code></dt>
<dd>
<p>A base class for exceptions related to a specific protocol binding.
Subclasses are used to communicate protocol level fault information to
clients and may be used by a service implementation to control the
protocol specific fault representation.</p>
</dd>
<dt class="hdlist1"><code>javax.xml.ws.soap.SOAPFaultException</code></dt>
<dd>
<p>A subclass of <code>ProtocolException</code>, may be used to carry SOAP specific
information.</p>
</dd>
<dt class="hdlist1"><code>javax.xml.ws.http.HTTPException</code></dt>
<dd>
<p>A subclass of <code>ProtocolException</code>, may be used to carry HTTP specific
information.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>Editors Note 6.1</strong> <em>A future version of this specification may introduce a new exception
class to distinguish errors due to client misconfiguration or
inappropriate parameters being passed to an API from errors that were
generated locally on the sender node as part of the invocation process
(e.g. a broken connection or an unresolvable server name). Currently,
both kinds of errors are mapped to WebServiceException, but the latter
kind would be more usefully mapped to its own exception type, much like
ProtocolException is.</em></p>
</div>
<div class="sect3">
<h4 id="protocolspecificfaults"><a class="anchor" href="#protocolspecificfaults"></a>7.4.1. Protocol Specific Exception Handling</h4>
<div class="paragraph">
<p><em>♦ Conformance (Protocol specific fault generation):</em> When throwing an exception as the
result of a protocol level fault, an implementation MUST ensure that the
exception is an instance of the appropriate <code>ProtocolException</code>
subclass. For SOAP the appropriate <code>ProtocolException</code> subclass is
<code>SOAPFaultException</code>, for XML/HTTP is is <code>HTTPException</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Protocol specific fault consumption):</em> When an implementation catches an
exception thrown by a service endpoint implementation and the cause of
that exception is an instance of the appropriate <code>ProtocolException</code>
subclass for the protocol in use, an implementation MUST reflect the
information contained in the <code>ProtocolException</code> subclass within the
generated protocol level fault.</p>
</div>
<div class="sect4">
<h5 id="client-side-example"><a class="anchor" href="#client-side-example"></a>7.4.1.1. Client Side Example</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span class="keyword">try</span> {
    response = dispatch.invoke(request);
}
<span class="keyword">catch</span> (SOAPFaultException e) {
    <span class="predefined-type">QName</span> soapFaultCode = e.getFault().getFaultCodeAsQName();
    ...
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="server-side-example"><a class="anchor" href="#server-side-example"></a>7.4.1.2. Server Side Example</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre><span class="directive">public</span> <span class="type">void</span> endpointOperation() {
    ...
    if (someProblem) {
        SOAPFault fault = soapBinding.getSOAPFactory().createFault(
            faultcode, faultstring, faultactor, detail);
        <span class="keyword">throw</span> <span class="keyword">new</span> SOAPFaultException(fault);
    }
    ...
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="onewayoperationexception"><a class="anchor" href="#onewayoperationexception"></a>7.4.1.3. One-way Operations</h5>
<div class="paragraph">
<p><em>♦ Conformance (One-way operations):</em> When sending a one-way message, implementations
MUST throw a <code>WebServiceException</code> if any error is detected when sending
the message.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="webservicefeature"><a class="anchor" href="#webservicefeature"></a>7.5. javax.xml.ws.WebServiceFeature</h3>
<div class="paragraph">
<p>JAX-WS 2.1 introduces the notion of features. A feature is associated
with a particular functionality or behavior. Some features may only have
meaning when used with certain bindings while other features may be
generally useful.</p>
</div>
<div class="paragraph">
<p>These features can be used while creating service and proxy instances.</p>
</div>
<div class="paragraph">
<p>JAX-WS 2.1 introduces three standard features</p>
</div>
<div class="paragraph">
<p>for creating proxy instances</p>
</div>
<div class="paragraph">
<p>, <code>AddressingFeature</code>, <code>MTOMFeature</code> and <code>RespectBindingFeature</code> as well
as the base <code>WebServiceFeature</code> class.</p>
</div>
<div class="paragraph">
<p>There are no standard features for service creation in the current
specification. A JAX-WS 2.2 implementation may define its own features
but they will be non-portable across all JAX-WS 2.2 implementations.</p>
</div>
<div class="paragraph">
<p>Each feature is derived from the <code>javax.xml.ws.WebServiceFeature</code> class.
This allows the web service developer to pass different types of
<code>WebServiceFeatures</code> to the various JAX-WS APIs that utilize them. Also,
each feature should be documented using JavaDocs on the derived classes.
Each <code>WebServiceFeature</code> MUST have a <code>public static final String ID</code>
field that is used to uniquely identify the feature.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (<code>javax.xml.ws.WebServiceFeatures</code>):</em> Each derived type of
<code>javax.xml.ws.WebServiceFeature</code> MUST contain a
<code>public static final String ID</code> field that uniquely identifies the
feature against all features of all implementations.</p>
</div>
<div class="paragraph">
<p>Since vendors can specify their own features, care MUST be taken when
creating a feature ID so as to not conflict with another vendor’s ID.</p>
</div>
<div class="paragraph">
<p>The <code>WebServiceFeature</code> class also has an <code>enabled</code> property that is
used to store whether a particular feature should be enabled or
disabled. Each derived type should provide either a constructor argument
and/or a method that will allow the web service developer to set the
<code>enabled</code> property. The meaning of enabled or disabled is determined by
each individual <code>WebServiceFeature</code>. It is important that web services
developers be able to enable/disable specific features when writing
their web applications. For example, a developer may choose to implement
WS-Addressing himself while using the Dispatch and Provider APIs and
thus he MUST be able to tell JAX-WS to disable addressing.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (<code>enabled</code> property):</em> Each derived type of
<code>javax.xml.ws.WebServiceFeature</code> MUST provide a constructor argument
and/or method to allow the web service developer to set the value of the
<code>enabled</code> property. The public default constructor MUST by default set
the <code>enabled</code> property to <code>true</code>. An implementation MUST honor the value
of the <code>enabled</code> property of any supported <code>WebServiceFeature</code>.</p>
</div>
<div class="sect3">
<h4 id="addressingfeature"><a class="anchor" href="#addressingfeature"></a>7.5.1. javax.xml.ws.soap.AddressingFeature</h4>
<div class="paragraph">
<p>The <code>AddressingFeature</code> is used to control the use of
WS-Addressing<a href="#bib26">[26]</a> by JAX-WS. This feature MUST be
supported with the SOAP 1.1/HTTP or SOAP 1.2/HTTP bindings. Using this
feature with any other binding is undefined. This feature corresponds to
the Addressing annotation described in section <a href="#addrannotation">javax.xml.ws.soap.Addressing</a>.</p>
</div>
<div class="paragraph">
<p>Enabling this feature on the server will result in the runtime being
capable of consuming and responding to WS-Addressing headers. Enabling
this feature on the client will cause the JAX-WS runtime to include
WS-Addressing headers in SOAP messages as specified by
WS-Addressing<a href="#bib26">[26]</a>.</p>
</div>
<div class="paragraph">
<p>Disabling this feature will prevent a JAX-WS runtime from processing or
adding WS-Addressing headers from/to SOAP messages even if the
associated WSDL specifies otherwise. This may be necessary if a client
or endpoint needs to implement Addressing themselves. For example, a
client that desires to use non-anonymous ReplyTo can do so by disabling
the <code>AddressingFeature</code> and by using <code>Dispatch&lt;Source&gt;</code> with <code>Message</code>
mode.</p>
</div>
<div class="paragraph">
<p>The <code>AddressingFeature</code>’s <code>required</code> property can be configured to
control whether all incoming messages MUST contain Addressing headers.</p>
</div>
<div class="paragraph">
<p>The <code>AddressingFeature</code>’s <code>responses</code> property can be configured to
control whether the endpoint requires the use of anonymous,
non-anonymous and all responses.</p>
</div>
<div class="paragraph">
<p>This feature is automatically enabled if the WSDL indicates the use of
addressing as per the WS-Addressing 1.0 - Metadata<a href="#bib27">[27]</a>.
Developers may choose to prevent this from happening by explicitly
disabling the <code>AddressingFeature</code>.</p>
</div>
<div class="sect4">
<h5 id="epr6"><a class="anchor" href="#epr6"></a>7.5.1.1. javax.xml.ws.EndpointReference</h5>
<div class="paragraph">
<p>The abstract <code>EndpointReference</code> class is used by the JAX-WS APIs to
reference a particular endpoint in accordance with the W3C Web Services
Addressing 1.0<a href="#bib26">[26]</a>. Each concrete instance of an
<code>EndpointReference</code> MUST contain a <code>wsa:Address</code>.</p>
</div>
<div class="paragraph">
<p>Applications may also use the <code>EndpointReference</code> class in method
signatures. JAXB 2.1 will bind the <code>EndpointReference</code> base class to
<code>xs:anyType</code>. Applications should instead use concrete implementations
of <code>EndpointReference</code> such as <code>javax.xml.ws.W3CEndpointReference</code> which
will provide better binding. JAX-WS implementations are required to
support the <code>W3CEndpointReference</code> class but they may also provide other
<code>EndpointReference</code> subclasses that represent different versions of
Addressing.</p>
</div>
</div>
<div class="sect4">
<h5 id="w3cepr"><a class="anchor" href="#w3cepr"></a>7.5.1.2. javax.xml.ws.W3CEndpointReference</h5>
<div class="paragraph">
<p>The <code>W3CEndpointReference</code> class is a concrete implementation of the
<code>javax.xml.ws.EndpointReference</code> class and is used to reference
endpoints that are compliant with the W3C Web Services Addressing 1.0 -
Core<a href="#bib26">[26]</a> recommendation. Applications may use this
class to pass <code>EndpointReference</code> instances as method parameters or
return types. JAXB 2.1 will bind the <code>W3CEndpointReference</code> class to the
W3C EndpointReference XML Schema in the WSDL.</p>
</div>
</div>
<div class="sect4">
<h5 id="mtomfeature"><a class="anchor" href="#mtomfeature"></a>7.5.1.3. javax.xml.ws.soap.MTOMFeature</h5>
<div class="paragraph">
<p>The <code>MTOMFeature</code> is used to specify if MTOM should be used with a web
service. This feature should be used instead of the
<code>javax.xml.ws.soap.SOAPBinding.SOAP11HTTP_MTOM_BINDING</code>,
<code>javax.xml.ws.soap.SOAPBinding.SOAP12HTTP_MTOM_BINDING</code> and the
<code>javax.xml.ws.soap.SOAPBinding.setMTOMEnabled()</code>. This feature MUST be
supported with the SOAP 1.1/HTTP or SOAP 1.2/HTTP bindings. Using this
feature with any other bindings is undefined. This feature corresponds
to the <code>MTOM</code> annotation described in section <a href="#mtomannotation">javax.xml.ws.soap.MTOM</a>.</p>
</div>
<div class="paragraph">
<p>Enabling this feature on either the server or client will result the
JAX-WS runtime using MTOM and for binary data being sent as an
attachment.</p>
</div>
<div class="paragraph">
<p>The MTOMFeature has one property <code>threshold</code>, that can be configured to
serve as a hint for which binary data SHOULD be sent as an attachment.
The <code>threshold</code> is the size in bytes that binary data SHOULD be in order
to be sent as an attachment. The <code>threshold</code> MUST not be negative. The
default value is <code>0</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (<code>javax.xml.ws.soap.MTOMFeature</code>):</em> An implementation MUST support the
<code>javax.xml.ws.soap.MTOMFeature</code> and its <code>threshold</code> property.</p>
</div>
</div>
<div class="sect4">
<h5 id="respbindfeature"><a class="anchor" href="#respbindfeature"></a>7.5.1.4. javax.xml.ws.RespectBindingFeature</h5>
<div class="paragraph">
<p>The <code>RespectBindingFeature</code> is used to control whether a JAX-WS
implementation MUST respect/honor the contents of the <code>wsdl:binding</code>
associated with an endpoint. It has a corresponding <code>RespectBinding</code>
annotation described in section <a href="#respbindingannotation">javax.xml.ws.RespectBinding</a>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance ( javax.xml.ws.RespectBindingFeature ):</em> When the
<code>javax.xml.ws.RespectBindingFeature</code> is enabled, a JAX-WS implementation
MUST inspect the <code>wsdl:binding</code> at runtime to determine result and
parameter bindings as well as any <code>wsdl:extensions</code> that have the
<code>required=true</code> attribute. All required <code>wsdl:extensions</code> MUST be
supported and honored by a JAX-WS implementation unless a specific
<code>wsdl:extension</code> has be explicitly disabled via a <code>WebServiceFeature</code>.</p>
</div>
<div class="paragraph">
<p>When this feature is enabled, a JAX-WS implementation must support and
honor the addressing policy, if specified, in the WSDL. However, such
addressing requirements can be explicitly disabled via
<code>AddressingFeature</code>.</p>
</div>
<div class="paragraph">
<p>In order to not break backward compatibility with JAX-WS 2.0, the
behavior with regards to respecting the <code>wsdl:binding</code> when this feature
is disabled is undefined.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="httpspi"><a class="anchor" href="#httpspi"></a>7.6. javax.xml.ws.spi.http (HTTP SPI)</h3>
<div class="paragraph">
<p>The classes in this package can be used for a portable deployment of
JAX-WS web services in a HTTP container(for example, servlet container).
This SPI enables to decouple the JAX-WS deployment and runtime and is
not meant for end developers but for container or its extension
developers.</p>
</div>
<div class="paragraph">
<p>The HTTP SPI allows a deployment to use any available web services
runtime for HTTP transport. Java EE6 web profile vendors can support
JSR-109<a href="#bib17">[17]</a> deployments using the JAX-WS 2.2
runtime in Java SE platform. For example, a Servlet 3.0 extension can be
used to do the JSR-109 deployment by reading deployment descriptors and
hand-off the request processing to the web services runtime that is in
Java SE platform.</p>
</div>
<div class="paragraph">
<p>The HTTP SPI consists of the following classes:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>javax.xml.ws.spi.http.HttpContext</code></dt>
<dd>
<p><code>HttpContext</code> represents a mapping between the root URI path of a web
service to a <code>HttpHandler</code> which is invoked to handle requests
destined for that path on the associated container.</p>
</dd>
<dt class="hdlist1"><code>javax.xml.ws.spi.http.HttpExchange</code></dt>
<dd>
<p>This class encapsulates a HTTP request received and a response to be
generated in one exchange.</p>
</dd>
<dt class="hdlist1"><code>javax.xml.ws.spi.http.HttpHandler</code></dt>
<dd>
<p>A handler which is invoked to process HTTP exchanges.</p>
</dd>
<dt class="hdlist1"><code>javax.xml.ws.spi.Invoker</code></dt>
<dd>
<p><code>Invoker</code> hides the detail of calling into application endpoint
implementation.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Typical portable deployment is done as below:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Container creates Endpoint objects for an application. The necessary
information to create <code>Endpoint</code> objects may be got from web service
deployment descriptor files.</p>
</li>
<li>
<p>Container creates <code>HttpContext</code> objects for the deployment. For
example, a <code>HttpContext</code> could be created using servlet
configuration(for e.g. url-pattern) for a web service in servlet
container case.</p>
</li>
<li>
<p>Then publishes all the endpoints using
<code>Endpoint.publish(HttpContext)</code>. During <code>publish()</code>, JAX-WS runtime
registers a <code>HttpHandler</code> callback to handle incoming requests or
<code>HttpExchange</code> objects. The <code>HttpExchange</code> object encapsulates HTTP
request and response.</p>
</li>
</ol>
</div>
<div class="literalblock">
<div class="content">
<pre>  Container                               JAX-WS runtime
  ---------                               --------------
  1. Creates Invoker1, ... InvokerN
  2. Provider.createEndpoint(...)     --&gt; 3. creates Endpoint1
     configures Endpoint1
     ...
  4. Provider.createEndpoint(...)     --&gt; 5. creates EndpointN
     configures EndpointN
  6. Creates EndpointContext with
     Endpoint1, ..., EndpointN
     and sets it on all endpoints.
  7. creates HttpContext1, ... HttpContextN
  8. Endpoint1.publish(HttpContext1)  --&gt; 9. creates HttpHandler1
                                          HttpContext1.setHandler(HttpHandler1)
     ...
 10. EndpointN.publish(HttpContextN)  --&gt; 11. creates HttpHandlerN
                                          HttpContextN.setHandler(HttpHandlerN)</pre>
</div>
</div>
<div class="paragraph">
<p>Typical request processing is done as below(for every request):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  Container                               JAX-WS runtime
  ---------                               --------------
  1. Creates a HttpExchange
  2. Gets handler from HttpContext
  3. HttpHandler.handle(HttpExchange) --&gt; 4. reads request from HttpExchange
                                      &lt;-- 5. Calls Invoker
  6. Invokes the actual instance
                                          7. Writes the response to HttpExchange</pre>
</div>
</div>
<div class="paragraph">
<p>Typical portable undeployment is done as below:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  Container                               JAX-WS runtime
  ---------                               --------------
  1. @preDestroy on instances
  2. Endpoint1.stop()
  ...
  3. EndpointN.stop()</pre>
</div>
</div>
<div class="paragraph">
<p>Having a support for this SPI in a JAX-WS implementation in Java SE
platform would enable deployments to use the Java SE platform’s web
services runtime portably.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (HTTP SPI in SE platform):</em> A JAX-WS 2.2 implementation in Java SE
platform MUST support
<code>Endpoint.publish(javax.xml.ws.spi.http.HttpContext)</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metadata"><a class="anchor" href="#metadata"></a>8. Annotations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes the annotations used by JAX-WS.</p>
</div>
<div class="paragraph">
<p>For simplicity, when describing an annotation we use the term
<code>property'' in lieu of the more correct </code>annotation elements''. Also,
for each property we list the default value, which is the default as it
appears in the declaration of the annotation type. Often properties have
logical defaults which are computed based on contextual information and,
for this reason, cannot be captured using the annotation element default
facility built into the language. In this case, the text describes what
the logical default is and how it is computed.</p>
</div>
<div class="paragraph">
<p>JAX-WS 2.0 uses annotations extensively. For an annotation to be
correct, besides being syntactically correct, e.g. placed on a program
element of the appropriate type, it must obey a set of constraints
detailed in this specification. For annotations defined by JSR-181, the
annotation in question must also obey the constraints in the relevant
specification (see <a href="#bib16">[16]</a>).</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Correctness of annotations):</em> An implementation MUST check at runtime
that the annotations pertaining to a method being invoked, either on the
client or on the server, as well as any containing program elements
(i.e. classes, packages) is in conformance with the specification for
that annotation</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Handling incorrect annotations):</em> If an incorrect or inconsistent
annotation is detected:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In a client setting, an implementation MUST NOT invoke the remote
operation being invoked, if any. Instead, it MUST throw a
<code>WebServiceException</code>, setting its cause to an exception approximating
the cause of the error (e.g. an <code>IllegalArgumentException</code> or a
<code>ClassNotFoundException</code>).</p>
</li>
<li>
<p>In a server setting, annotation, an implementation MUST NOT dispatch
to an endpoint implementation object. Rather, it MUST generate a fault
appropriate to the binding in use.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Unsupported <code>WebServiceFeatureAnnotation</code>):</em> If an unrecongnized or
unsupported annotation annotated with the <code>WebServiceFeatureAnnotation</code>
meta-annotation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In a client setting, an implementation MUST NOT invoke the remote
operation being invoked, if any. Instead, it MUST throw a
<code>WebServiceException</code>, setting its cause to an exception approximating
the cause of the error (e.g. an <code>IllegalArgumentException</code> or a
<code>ClassNotFoundException</code>).</p>
</li>
<li>
<p>In a server setting, annotation, an implementation MUST NOT dispatch
to an endpoint implementation object. Rather, it MUST generate a fault
appropriate to the binding in use.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An implementation may check for correctness in a lazy way, at the time a
method is invoked or a request is about to be dispatched to an endpoint,
or more aggressively, e.g. when creating a proxy. In a container
environment, an implementation may perform any correctness checks at
deployment time.</p>
</div>
<div class="sect2">
<h3 id="mdservicemode"><a class="anchor" href="#mdservicemode"></a>8.1. javax.xml.ws.ServiceMode</h3>
<div class="paragraph">
<p>The <code>ServiceMode</code> annotation is used to specify the mode for a provider
class, i.e. whether a provider wants to have access to protocol message
payloads (e.g. a SOAP body) or the entire protocol messages (e.g. a SOAP
envelope).</p>
</div>
<div id="Table 7.1" class="paragraph">
<p>Table 7.1: <code>ServiceMode</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The service mode, one of
 javax.xml.ws.Service.Mode. MESSAGE or
 javax.xml.ws.Service.Mode.PAYLOAD.
 MESSAGE means that the whole protocol
 message will be handed to the provider
 instance, PAYLOAD that only the payload of
 the protocol message will be handed to the
 provider instance.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">javax.xml.ws.Service.Mode.PAYLOAD</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>ServiceMode</code> annotation type is marked <code>@Inherited</code>, so the
annotation will be inherited from the superclass.</p>
</div>
</div>
<div class="sect2">
<h3 id="mdwebfault"><a class="anchor" href="#mdwebfault"></a>8.2. javax.xml.ws.WebFault</h3>
<div class="paragraph">
<p>The <code>WebFault</code> annotation is used when mapping WSDL faults to Java
exceptions, see section <a href="#faulttoexceptmap">Fault</a>. It is used to capture the
name of the fault element used when marshalling the JAXB type generated
from the global element referenced by the WSDL fault message. It can
also be used to customize the mapping of service specific exceptions to
WSDL faults.</p>
</div>
<div id="Table 7.2" class="paragraph">
<p>Table 7.2: <code>WebFault</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The local name of the element</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>targetNamespace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The namespace name of the element</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>faultBean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The fully qualified name of the fault bean class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>messageName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the wsdl:message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="mdrequestWrapper"><a class="anchor" href="#mdrequestWrapper"></a>8.3. javax.xml.ws.RequestWrapper</h3>
<div class="paragraph">
<p>The <code>RequestWrapper</code> annotation is applied to the methods of an SEI. It
is used to capture the JAXB generated request wrapper bean and the
element name and namespace for marshalling / unmarshalling the bean. The
default value of <code>localName</code> element is the <code>operationName</code> as defined
in <code>WebMethod</code> annotation and the default value for the
<code>targetNamespace</code> element is the target namespace of the SEI. When
starting from Java, this annotation is used to resolve overloading
conflicts in document literal mode. Only the <code>className</code> element is
required in this case.</p>
</div>
<div id="Table 7.3" class="paragraph">
<p>Table 7.3: <code>RequestWrapper</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>localName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The local name of the element</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>targetNamespace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The namespace name of the element</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the wrapper class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>partName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the wsdl:part</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="mdresponseWrapper"><a class="anchor" href="#mdresponseWrapper"></a>8.4. javax.xml.ws.ResponseWrapper</h3>
<div class="paragraph">
<p>The <code>ResponseWrapper</code> annotation is applied to the methods of an SEI. It
is used to capture the JAXB generated response wrapper bean and the
element name and namespace for marshalling / unmarshalling the bean. The
default value of the <code>localName</code> element is the <code>operationName</code> as
defined in the <code>WebMethod</code> appended with <code>`Response'' and the default
value of the `targetNamespace</code> element is the target namespace of the
SEI. When starting from Java, this annotation is used to resolve
overloading conflicts in document literal mode. Only the <code>className</code>
element is required in this case.</p>
</div>
<div id="Table 7.4" class="paragraph">
<p>Table 7.4: <code>ResponseWrapper</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>localName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The local name of the element</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>targetNamespace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The namespace name of the element</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>className</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the wrapper class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>partName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the wsdl:part</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="mdwebsvcclient"><a class="anchor" href="#mdwebsvcclient"></a>8.5. javax.xml.ws.WebServiceClient</h3>
<div class="paragraph">
<p>The <code>WebServiceClient</code> annotation is specified on a generated service
class (see <a href="#gensvcif">Service and Port</a>). It is used to associate a class with a specific
Web service, identify by a URL to a WSDL document and the qualified name
of a <code>wsdl:service</code> element.</p>
</div>
<div id="Table 7.5" class="paragraph">
<p>Table 7.5: <code>ResponseWrapper</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The local name of the service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>targetNamespace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The namespace name of the service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wsdlLocation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL for the WSDL description of the service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When resolving the URI specified as the <code>wsdlLocation</code> element or any
document it may transitively reference, a JAX-WS implementation MUST use
the catalog facility defined in section <a href="#catalogfacility">Catalog Facility</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="mdwebendpoint"><a class="anchor" href="#mdwebendpoint"></a>8.6. javax.xml.ws.WebEndpoint</h3>
<div class="paragraph">
<p>The <code>WebEndpoint</code> annotation is specified on the <code>get`<em>PortName</em></code>()`
methods of a generated service class (see <a href="#gensvcif">Service and Port</a>). It is used to
associate a get method with a specific <code>wsdl:port</code>, identified by its
local name (a <code>NCName</code>).</p>
</div>
<div id="Table 7.6" class="paragraph">
<p>Table 7.6: <code>WebEndpoint</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The local name of the port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="example-5"><a class="anchor" href="#example-5"></a>8.6.1. Example</h4>
<div class="paragraph">
<p>The following shows a WSDL extract and the resulting generated service
class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre></td>
  <td class="code"><pre>&lt;!-- WSDL extract --&gt;
&lt;wsdl:service name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteService</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;wsdl:port name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteHTTPPort</span><span class="delimiter">&quot;</span></span> binding=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteHTTPBinding</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;wsdl:port name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteSMTPPort</span><span class="delimiter">&quot;</span></span> binding=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteSMTPBinding</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;/wsdl:service&gt;

<span class="comment">// Generated Service Class</span>
<span class="annotation">@WebServiceClient</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteService</span><span class="delimiter">&quot;</span></span>,
                  targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>,
                  wsdlLocation=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">StockQuoteService</span> <span class="directive">extends</span> javax.xml.ws.Service {
    <span class="directive">public</span> StockQuoteService() {
        <span class="local-variable">super</span>(wsdlLocation_fromAnnotation, serviceName_fromAnnotation);
    }

    <span class="directive">public</span> StockQuoteService(<span class="predefined-type">String</span> wsdlLocation, <span class="predefined-type">QName</span> serviceName) {
        <span class="local-variable">super</span>(wsdlLocation, serviceName);
    }

    <span class="comment">// Other StockQuoteService constructors</span>
    ...

    <span class="annotation">@WebEndpoint</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteHTTPPort</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> StockQuoteProvider getStockQuoteHTTPPort() {
        <span class="keyword">return</span> <span class="local-variable">super</span>.gePort(portName, StockQuoteProvider.class);
    }

    <span class="annotation">@WebEndpoint</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteHTTPPort</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> StockQuoteProvider getStockQuoteHTTPPort(WebServiceFeature... f) {
        <span class="keyword">return</span> <span class="local-variable">super</span>.gePort(portName, StockQuoteProvider.class, f);
    }

    <span class="annotation">@WebEndpoint</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteSMTPPort</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> StockQuoteProvider getStockQuoteSMTPPort() {
        <span class="keyword">return</span> <span class="local-variable">super</span>.getPort(portName, StockQuoteProvider.class);
    }

    <span class="annotation">@WebEndpoint</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteSMTPPort</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> StockQuoteProvider getStockQuoteSMTPPort(WebServiceFeature... f) {
        <span class="keyword">return</span> <span class="local-variable">super</span>.getPort(portName, StockQuoteProvider.class, f);
    }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mdwebsvcprovider"><a class="anchor" href="#mdwebsvcprovider"></a>8.7. javax.xml.ws.WebServiceProvider</h3>
<div class="paragraph">
<p>The <code>WebServiceProvider</code> annotation is specified on classes that
implement a strongly typed <code>javax.xml.ws.Provider</code>. It is used to
declare that a class that satisfies the requirements for a provider (see
<a href="#providersvcapi">javax.xml.ws.Provider</a>) does indeed define a Web service endpoint, much like
the <code>WebService</code> annotation does for SEI-based endpoints.</p>
</div>
<div class="paragraph">
<p>The <code>WebServiceProvider</code> and <code>WebService</code> annotations are mutually
exclusive.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (WebServiceProvider and WebService):</em> A class annotated with the
<code>WebServiceProvider</code> annotation MUST NOT carry a <code>WebService</code>
annotation.</p>
</div>
<div id="Table 7.7" class="paragraph">
<p>Table 7.7: <code>WebServiceProvider</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wsdlLocation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL for the WSDL description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>serviceName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>portName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>targetNamespace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The target namespace for the service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When resolving the URL specified as the <code>wsdlLocation</code> element or any
document it may transitively reference, a JAX-WS implementation MUST use
the catalog facility defined in section <a href="#catalogfacility">Catalog Facility</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="mdbindingtype"><a class="anchor" href="#mdbindingtype"></a>8.8. javax.xml.ws.BindingType</h3>
<div class="paragraph">
<p>The <code>BindingType</code> annotation is applied to an endpoint implementation
class. It specifies the binding to use when publishing an endpoint of
this type.</p>
</div>
<div id="Table 7.8" class="paragraph">
<p>Table 7.8: <code>BindingType</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The binding ID (a URI)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The default binding for an endpoint is the SOAP 1.1/HTTP one (see
chapter <a href="#soapbindchap">SOAP Binding</a>).</p>
</div>
</div>
<div class="sect2">
<h3 id="mdwebsvcref"><a class="anchor" href="#mdwebsvcref"></a>8.9. javax.xml.ws.WebServiceRef</h3>
<div class="paragraph">
<p>The <code>WebServiceRef</code> annotation is used to declare a reference to a Web
service. It follows the resource pattern exemplified by the
<code>javax.annotation.Resource</code> annotation in JSR-250 <a href="#bib35">[35]</a>.</p>
</div>
<div class="paragraph">
<p>The injected references of <code>WebServiceRef</code> annotation are not guaranteed
to be thread safe. If the references are accessed by multiple threads,
usual synchronization techinques can be used to support multiple
threads.</p>
</div>
<div class="paragraph">
<p>The <code>WebServiceRef</code> annotation is required to be honored when running on
the Java EE 5 platform, where it is subject to the common resource
injection rules described by the platform specification <a href="#bib36">[36]</a>.</p>
</div>
<div class="paragraph">
<p>The injected references of <code>WebServiceRef</code> annotation can be configured
with the corresponding features of annotations annotated with
<code>WebServiceFeatureAnnotation</code> annotations. For example, a SEI reference
can be configured with the MTOM web service feature using <code>@MTOM</code>.
Similarly, a generated service reference can be configured with web
service features using the corresponding <code>WebServiceFeatureAnnotation</code>
annotations. JAX-WS specification defines three standard features
AddressingFeature, MTOMFeature and RespectBindingFeature that can be
used while creating proxy instances. However, there are no standard
features that can be used while creating service instances in the
current specification. A JAX-WS implementation may define its own
features but they will be non-portable across all JAX-WS
implementations.</p>
</div>
<div class="paragraph">
<p>If a JAX-WS implementation encounters an unsupported or unrecognized
annotation annotated with the <code>WebServiceFeatureAnnotation</code> that is
specified with <code>@WebServiceRef</code>, an error MUST be given.</p>
</div>
<div id="Table 7.9" class="paragraph">
<p>Table 7.9: <code>WebServiceRef</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name identifying the Web service reference.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wsdlLocation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A URL pointing to the location of the WSDL
                     document for the service being referred to.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The resource type as a Java class object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Object.class</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The service type as a Java class object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Service.class</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mappedName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A product specific name that this resource should be mapped to.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lookup</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A portable JNDI lookup name that resolves
                 to the target web service reference.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The name of the resource, as defined by the <code>name</code> element (or
defaulted) is a name that is local to the application component using
the resource.</p>
</div>
<div class="paragraph">
<p>The name can be absolute JNDI name(with a logical namespace) or relative
to the JNDI java:comp/env namespace.</p>
</div>
<div class="paragraph">
<p>Many application servers provide a way to map these local names to names
of resources known to the application server. This <code>mappedName</code> is often
a global JNDI name, but may be a name of any form. Application servers
are not required to support any particular form or type of mapped name,
nor the ability to use mapped names. A mapped name is product-dependent
and often installation-dependent. No use of a mapped name is portable.</p>
</div>
<div class="paragraph">
<p>A defined reference can be resolved using a portable JNDI name provided
by <code>lookup</code> element. In this case, it is an error if there are any
circular dependencies between entries of references. Similarly, it is an
error if looking up the specified JNDI name results in a resource whose
type is not compatible with the reference being created. Since this
<code>`lookup'' functionality is just resolving to an already defined
reference, only `name</code> can be specified with <code>lookup</code> (doesn’t require
any other metadata like <code>wsdlLocation</code> etc.).</p>
</div>
<div class="paragraph">
<p>There are two uses to the <code>WebServiceRef</code> annotation:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To define a reference whose type is a generated service class. In
this case, the <code>type</code> and <code>value</code> element will both refer to the
generated service class type. Moreover, if the reference type can be
inferred by the field/method declaration the annotation is applied to,
the <code>type</code> and <code>value</code> elements MAY have the default value
(<code>Object.class</code>, that is). If the type cannot be inferred, then at least
the <code>type</code> element MUST be present with a non-default value.</p>
</li>
<li>
<p>To define a reference whose type is a SEI. In this case, the <code>type</code>
element MAY be present with its default value if the type of the
reference can be inferred from the annotated field/method declaration,
but the <code>value</code> element MUST always be present and refer to a generated
service class type (a subtype of <code>javax.xml.ws.Service</code>).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The <code>wsdlLocation</code> element, if present, overrides the WSDL location
information specified in the <code>WebService</code> annotation of the referenced
generated service class.</p>
</div>
<div class="paragraph">
<p>When resolving the URI specified as the <code>wsdlLocation</code> element or any
document it may transitively reference, a JAX-WS implementation MUST use
the catalog facility defined in section <a href="#catalogfacility">Catalog Facility</a>.</p>
</div>
<div class="sect3">
<h4 id="example-6"><a class="anchor" href="#example-6"></a>8.9.1. Example</h4>
<div class="paragraph">
<p>The following shows both uses of the <code>WebServiceRef</code> annotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
</pre></td>
  <td class="code"><pre><span class="comment">// Generated Service Class</span>

<span class="annotation">@WebServiceClient</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteService</span><span class="delimiter">&quot;</span></span>,
                  targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>,
                  wsdlLocation=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">StockQuoteService</span> <span class="directive">extends</span> javax.xml.ws.Service {
    ...

    <span class="annotation">@WebEndpoint</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteHTTPPort</span><span class="delimiter">&quot;</span></span>)
    StockQuoteProvider getStockQuoteHTTPPort() { ... };

    <span class="annotation">@WebEndpoint</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteHTTPPort</span><span class="delimiter">&quot;</span></span>)
    StockQuoteProvider getStockQuoteHTTPPort(WebServiceFeature ... f) { ... };

    <span class="annotation">@WebEndpoint</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteSMTPPort</span><span class="delimiter">&quot;</span></span>)
    StockQuoteProvider getStockQuoteSMTPPort() { ... };

    <span class="annotation">@WebEndpoint</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteSMTPPort</span><span class="delimiter">&quot;</span></span>)
    StockQuoteProvider getStockQuoteSMTPPort(WebServiceFeature ... f) { ... };
}

<span class="comment">// Generated SEI</span>

<span class="annotation">@WebService</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteProvider</span><span class="delimiter">&quot;</span></span>,
            targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">interface</span> <span class="class">StockQuoteProvider</span> {
    <span class="predefined-type">Double</span> getStockQuote(<span class="predefined-type">String</span> ticker);
}

<span class="comment">// Sample client code</span>

<span class="annotation">@Stateless</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">ClientComponent</span> {

    <span class="comment">// WebServiceRef using the generated service interface type</span>
    <span class="annotation">@WebServiceRef</span>
    <span class="directive">public</span> StockQuoteService stockQuoteService;

    <span class="comment">// WebServiceRef using the SEI type</span>
    <span class="comment">// stockQuoteProvider proxy is configured with MTOM feature</span>
    <span class="annotation">@MTOM</span>
    <span class="annotation">@WebServiceRef</span>(StockQuoteService.class)
    <span class="directive">private</span> StockQuoteProvider stockQuoteProvider;


    <span class="comment">// other methods go here...</span>
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mdwebsvcrefs"><a class="anchor" href="#mdwebsvcrefs"></a>8.10. javax.xml.ws.WebServiceRefs</h3>
<div class="paragraph">
<p>The <code>WebServiceRefs</code> annotation is used to declare multiple references
to Web services on a single class. It is necessary to work around the
limition against specifying repeated annotations of the same type on any
given class, which prevents listing multiple <code>javax.ws.WebServiceRef</code>
annotations one after the other. This annotation follows the resource
pattern exemplified by the <code>javax.annotation.Resources</code> annotation in
JSR-250 <a href="#bib35">[35]</a>.</p>
</div>
<div class="paragraph">
<p>Since no name and type can be inferred in this case, each
<code>WebServiceRef</code> annotation inside a <code>WebServiceRefs</code> MUST contain <code>name</code>
and <code>type</code> elements with non-default values.</p>
</div>
<div class="paragraph">
<p>The <code>WebServiceRef</code> annotation is required to be honored when running on
the Java EE 5 platform, where it is subject to the common resource
injection rules described by the platform specification <a href="#bib36">[36]</a>.</p>
</div>
<div id="Table 7.10" class="paragraph">
<p>Table 7.10: <code>WebServiceRefs</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of <code>WebServiceRef</code> annotations, each defining a web
                 service reference.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{}</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>There is no way to associate web service features with the injected
instances of this annotation. If an instance needs to be configured with
the web service features, use @WebServiceRef to inject the resource
along with its features.</p>
</div>
<div class="sect3">
<h4 id="example-7"><a class="anchor" href="#example-7"></a>8.10.1. Example</h4>
<div class="paragraph">
<p>The following shows how to use the <code>WebServiceRefs</code> annotation to
declare at the class level two web service references. The first one
uses the SEI type, while the second one uses a generated service class
type.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td>
  <td class="code"><pre><span class="annotation">@WebServiceRefs</span>({<span class="annotation">@WebServiceRef</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">accounting</span><span class="delimiter">&quot;</span></span>
                                type=AccountingPortType.class,
                                value=AccountingService.class),
                 <span class="annotation">@WebServiceRef</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">payroll</span><span class="delimiter">&quot;</span></span>,
                                type=PayrollService.class)})
<span class="annotation">@Stateless</span>
<span class="directive">public</span> MyComponent {

    <span class="comment">// methods using the declared resources go here...</span>
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mdjsr181"><a class="anchor" href="#mdjsr181"></a>8.11. Annotations Defined by JSR-181</h3>
<div class="paragraph">
<p>In addition to the annotations defined in the preceding sections, JAX-WS
2.0 uses several annotations defined by JSR-181.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (JSR-181 conformance):</em> A JAX-WS 2.0 implementation MUST be conformant to
the JAX-WS profile of JSR-181 1.1 <a href="#bib16">[16]</a>.</p>
</div>
<div class="paragraph">
<p>As a convenience to the reader, the following sections reproduce the
definition of the JSR-181 annotations applicable to JAX-WS.</p>
</div>
<div class="sect3">
<h4 id="mdwebservice"><a class="anchor" href="#mdwebservice"></a>8.11.1. javax.jws.WebService</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre><span class="annotation">@Target</span>({TYPE})
<span class="directive">public</span> <span class="annotation">@interface</span> WebService {
    <span class="predefined-type">String</span> name() <span class="keyword">default</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
    <span class="predefined-type">String</span> targetNamespace() <span class="keyword">default</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
    <span class="predefined-type">String</span> serviceName() <span class="keyword">default</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
    <span class="predefined-type">String</span> wsdlLocation() <span class="keyword">default</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
    <span class="predefined-type">String</span> endpointInterface() <span class="keyword">default</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
    <span class="predefined-type">String</span> portName() <span class="keyword">default</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
};</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Consistently with the URI resolution process in JAX-WS, when resolving
the URI specified as the <code>wsdlLocation</code> element or any document it may
transitively reference, a JAX-WS implementation MUST use the catalog
facility defined in section <a href="#catalogfacility">Catalog Facility</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="mdwebmethod"><a class="anchor" href="#mdwebmethod"></a>8.11.2. javax.jws.WebMethod</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre><span class="annotation">@Target</span>({METHOD})
<span class="directive">public</span> <span class="annotation">@interface</span> WebMethod {
    <span class="predefined-type">String</span> operationName() <span class="keyword">default</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
    <span class="predefined-type">String</span> action() <span class="keyword">default</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> ;
    <span class="type">boolean</span> exclude() <span class="keyword">default</span> <span class="predefined-constant">false</span>;
};</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="mdoneway"><a class="anchor" href="#mdoneway"></a>8.11.3. javax.jws.OneWay</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="annotation">@Target</span>({METHOD})
<span class="directive">public</span> <span class="annotation">@interface</span> Oneway {
};</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="mdwebparam"><a class="anchor" href="#mdwebparam"></a>8.11.4. javax.jws.WebParam</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td>
  <td class="code"><pre><span class="annotation">@Target</span>({PARAMETER})
<span class="directive">public</span> <span class="annotation">@interface</span> WebParam {
    <span class="directive">public</span> <span class="type">enum</span> Mode { IN, OUT, INOUT };

    <span class="predefined-type">String</span> name() <span class="keyword">default</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
    <span class="predefined-type">String</span> targetNamespace() <span class="keyword">default</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
    Mode mode() <span class="keyword">default</span> Mode.IN;
    <span class="type">boolean</span> header() <span class="keyword">default</span> <span class="predefined-constant">false</span>;
    <span class="predefined-type">String</span> partName() <span class="keyword">default</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
};</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="mdwebresult"><a class="anchor" href="#mdwebresult"></a>8.11.5. javax.jws.WebResult</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span class="annotation">@Target</span>({METHOD})
<span class="directive">public</span> <span class="annotation">@interface</span> WebResult {
    <span class="predefined-type">String</span> name() <span class="keyword">default</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">return</span><span class="delimiter">&quot;</span></span>;
    <span class="predefined-type">String</span> targetNamespace() <span class="keyword">default</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
    <span class="type">boolean</span> header() <span class="keyword">default</span> <span class="predefined-constant">false</span>;
    <span class="predefined-type">String</span> partName() <span class="keyword">default</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
};</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="mdsoapbinding"><a class="anchor" href="#mdsoapbinding"></a>8.11.6. javax.jws.SOAPBinding</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td>
  <td class="code"><pre><span class="annotation">@Target</span>({TYPE, METHOD})
<span class="directive">public</span> <span class="annotation">@interface</span> SOAPBinding {
    <span class="directive">public</span> <span class="type">enum</span> <span class="predefined-type">Style</span> { DOCUMENT, RPC }

    <span class="directive">public</span> <span class="type">enum</span> Use { LITERAL, ENCODED }

    <span class="directive">public</span> <span class="type">enum</span> ParameterStyle { BARE, WRAPPED }

    <span class="predefined-type">Style</span> style() <span class="keyword">default</span> <span class="predefined-type">Style</span>.DOCUMENT;
    Use use() <span class="keyword">default</span> Use.LITERAL;
    ParameterStyle parameterStyle() <span class="keyword">default</span> ParameterStyle.WRAPPED;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="mdhandlerchain"><a class="anchor" href="#mdhandlerchain"></a>8.11.7. javax.jws.HandlerChain</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="annotation">@Target</span>({TYPE})
<span class="directive">public</span> <span class="annotation">@interface</span> HandlerChain {
    <span class="predefined-type">String</span> file();
    <span class="predefined-type">String</span> name() <span class="keyword">default</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="action"><a class="anchor" href="#action"></a>8.12. javax.xml.ws.Action</h3>
<div class="paragraph">
<p>The <code>Action</code> annotation is applied to the methods of a SEI. It is used
to specify the <code>input</code>, <code>output</code>, <code>fault</code> WS-Addressing Action values
associated with the annotated method.</p>
</div>
<div class="paragraph">
<p>For such a method, the mapped operation in the generated WSDL’s
<code>wsam:Action</code> attribute on the WSDL <code>input</code>, <code>output</code> and <code>fault</code>
messages of the WSDL operation is based upon which attributes of the
Action annotation have been specified. The <code>wsam:Action</code> computation
algorithm is specified in section <a href="#wsamComputation">wsam:Action Computation Algorithm</a></p>
</div>
<div id="Table 7.11" class="paragraph">
<p>Table 7.11: <code>FaultAction</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fault</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array of FaultAction for the
                 wsdl:fault s of the operation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>input</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action for the wsdl:input of the operation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>output</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action for the wsdl:output of the operation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="faultaction"><a class="anchor" href="#faultaction"></a>8.13. javax.xml.ws.FaultAction</h3>
<div class="paragraph">
<p>The <code>FaultAction</code> annotation is used within the <code>Action</code> annotation to
specify the WS-Addressing Action of a service specific exception as
defined by section <a href="#j2w11except">Service Specific Exception</a>.</p>
</div>
<div class="paragraph">
<p>The <code>wsam:Action</code> attribute value in the fault message in the generated
WSDL operation mapped for an exception class is equal to the
corresponding <code>value</code> in the FaultAction. The <code>wsam:Action</code> computation
algorithm is specified in section <a href="#wsamComputation">wsam:Action Computation Algorithm</a></p>
</div>
<div id="Table 7.12" class="paragraph">
<p>Table 7.12: <code>FaultAction</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action for the <code>wsdl:fault</code> of the operation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">””</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>output</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the exception class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no defaults required property</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="webservfeatureannotation"><a class="anchor" href="#webservfeatureannotation"></a>8.14. javax.xml.ws.spi.WebServiceFeatureAnnotation</h3>
<div class="paragraph">
<p>The <code>WebServiceFeatureAnnotation</code> is a meta-annotation used by a JAX-WS
implementation to identify other annotations as <code>WebServiceFeature`s.
JAX-WS provides the following annotations as `WebServiceFeatures</code>:
<code>javax.xml.ws.soap.Addressing</code>, <code>javax.xml.ws.soap.MTOM</code>, and
<code>javax.xml.ws.RespectBinding</code>. If a JAX-WS implementation encounters an
annotation annotated with the <code>WebServiceFeatureAnnotation</code> that it does
not support or recognize an ERROR MUST be given.</p>
</div>
<div id="Table 7.13" class="paragraph">
<p>Table 7.13: <code>WebServiceFeatureAnnotation</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique identifier for the
              <code>WebServiceFeature</code> represented by the
              annotated annotation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No defaults required property</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The class name of a derived
               <code>WebServiceFeature</code> class associated with
               the annotated annotation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No defaults required property</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following shows how the <code>Addressing</code> annotation uses the
<code>WebServiceFeatureAnnotation</code> meta-annotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td>
  <td class="code"><pre><span class="annotation">@WebServiceFeatureAnnotation</span>(id=AddressingFeature.ID,
                             bean=AddressingFeature.class)
<span class="directive">public</span> <span class="annotation">@interface</span> Addressing {
    <span class="comment">/**
     * Specifies if this feature is enabled or disabled.
     */</span>
    <span class="type">boolean</span> enabled() <span class="keyword">default</span> <span class="predefined-constant">true</span>;

    <span class="comment">/**
     * Property to determine whether WS-Addressing
     * headers MUST be present on incoming messages.
     */</span>
    <span class="type">boolean</span> required() <span class="keyword">default</span> <span class="predefined-constant">false</span>;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="addrannotation"><a class="anchor" href="#addrannotation"></a>8.14.1. javax.xml.ws.soap.Addressing</h4>
<div class="paragraph">
<p>The <code>Addressing</code> annotation is applied to an endpoint implementation
class and to an injected web service proxy reference. It is used to
control the use of WS-Addressing<a href="#bib26">[26]</a><a href="#37">[37]</a><a href="#bib27">[27]</a>.
It corresponds with the <code>AddressingFeature</code> described in section <a href="#addressingfeature">javax.xml.ws.soap.AddressingFeature</a>.</p>
</div>
<div id="Table 7.14" class="paragraph">
<p>Table 7.14: <code>Addressing</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies if WS-Addressing is enabled or not.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>required</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies Adddressing headers MUST be present on incoming messages.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>responses</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If addressing is enabled, this property determines if endpoint requires
the use of anonymous responses, or non-anonymous responses, or all.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Responses.ALL</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The generated WSDL must indicate the use of addressing as specified in
the section <a href="#j2w11svcports">Service and Ports</a>. The runtime requirements of enabling
addressing for SOAP binding are specified in section <a href="#addressing">Addressing</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="mtomannotation"><a class="anchor" href="#mtomannotation"></a>8.14.2. javax.xml.ws.soap.MTOM</h4>
<div class="paragraph">
<p>The <code>MTOM</code> annotation is applied to an endpoint implementation class
and to an injected web service proxy reference.
It is used to control the use of MTOM. It corresponds to the
<code>MTOMFeature</code> described in section <a href="#mtomfeature">javax.xml.ws.soap.MTOMFeature</a>.</p>
</div>
<div id="Table 7.15" class="paragraph">
<p>Table 7.15: <code>MTOM</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies if MTOM is enabled or not.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>threshold</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the size in bytes that binary data SHOULD be before
              being sent as an attachment.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="respbindingannotation"><a class="anchor" href="#respbindingannotation"></a>8.14.3. javax.xml.ws.RespectBinding</h4>
<div class="paragraph">
<p>The <code>RespectBinding</code> annotation is applied to an endpoint implementation
class</p>
</div>
<div class="paragraph">
<p>and to an injected web service proxy reference</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>It is used to control whether a JAX-WS implementation MUST
respect/honor the contents of the <code>wsdl:binding</code> associated with an
endpoint. It has a corresponding <code>RespectBindingFeature</code> described in
section <a href="#respbindfeature">javax.xml.ws.RespectBindingFeature</a>.</p>
</li>
</ol>
</div>
<div id="Table 7.16" class="paragraph">
<p>Table 7.16: <code>RespectBinding</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies whether the wsdl:binding must be
             respected or not.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="customize"><a class="anchor" href="#customize"></a>9. Customizations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes a standard customization facility that can be
used to customize the WSDL 1.1 to Java binding defined in section
<a href="#wsdl112java">WSDL 1.1 to Java Mapping</a>.</p>
</div>
<div class="sect2">
<h3 id="bindinglanguage"><a class="anchor" href="#bindinglanguage"></a>9.1. Binding Language</h3>
<div class="paragraph">
<p>JAX-WS 2.0 defines an XML-based language that can be used to specify
customizations to the WSDL 1.1 to Java binding. In order to maintain
consistency with JAXB, we call it a <em>binding language</em>. Similarly,
customizations will hereafter be referred to as <em>binding
declarations</em>.</p>
</div>
<div class="paragraph">
<p>All XML elements defined in this section belong to the
<code><a href="http://java.sun.com/xml/ns/jaxws" class="bare">http://java.sun.com/xml/ns/jaxws</a></code> namespace. For clarity, the rest of
this section uses qualified element names exclusively. Wherever it
appears, the <code>jaxws</code> prefix is assumed to be bound to the
<code><a href="http://java.sun.com/xml/ns/jaxws" class="bare">http://java.sun.com/xml/ns/jaxws</a></code> namespace name.</p>
</div>
<div class="paragraph">
<p>The binding language is extensible. Extensions are expressed using
elements and/or attributes whose namespace name is different from the
one used by this specification.</p>
</div>
<div class="paragraph">
<p>[Standard binding declarations] The <code><a href="http://java.sun.com/xml/ns/jaxws" class="bare">http://java.sun.com/xml/ns/jaxws</a></code>
namespace is reserved for standard JAX-WS binding declarations.
Implementations MUST support all standard JAX-WS binding declarations.
Implementation-specific binding declaration extensions MUST NOT use the
<code><a href="http://java.sun.com/xml/ns/jaxws" class="bare">http://java.sun.com/xml/ns/jaxws</a></code> namespace.</p>
</div>
<div class="paragraph">
<p>[Binding language extensibility] Implementations MUST ignore unknown
elements and attributes appearing inside a binding declaration whose
namespace name is not the one specified in the standard, i.e.
<code><a href="http://java.sun.com/xml/ns/jaxws" class="bare">http://java.sun.com/xml/ns/jaxws</a></code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="bindingdeclarationcontainer"><a class="anchor" href="#bindingdeclarationcontainer"></a>9.2. Binding Declaration Container</h3>
<div class="paragraph">
<p>There are two ways to specify binding declarations. In the first
approach, all binding declarations pertaining to a given WSDL document
are grouped together in a standalone document, called an <em>external
binding file</em> (see <a href="#externalbindingfile">External Binding File</a>). The second approach consists
in embeddeding binding declarations directly inside a WSDL document (see
<a href="#embeddedbindingdeclarations">Embedded Binding Declarations</a>).</p>
</div>
<div class="paragraph">
<p>In either case, the <code>jaxws:bindings</code> element is used as a container for
JAX-WS binding declarations. It contains a (possibly empty) list of
binding declarations, in any order.</p>
</div>
<div id="8.1" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>&lt;jaxws:bindings wsdlLocation=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:anyURI</span><span class="delimiter">&quot;</span></span>?
                node=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:string</span><span class="delimiter">&quot;</span></span>?
                version=<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>?&gt;
    ...binding declarations...
&lt;/jaxws:bindings&gt;</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 8.1: Syntax of the binding declaration container</p>
</div>
<div class="paragraph">
<p><strong>Semantics</strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">@wsdlLocation</dt>
<dd>
<p>A URI pointing to a WSDL file establishing the scope of the contents
of this binding declaration. It MUST NOT be present if the
<code>jaxws:bindings</code> element is used as an extension inside a WSDL
document or one of its ancestor <code>jaxws:bindings</code> elements already
contains this attribute.</p>
</dd>
<dt class="hdlist1">@node</dt>
<dd>
<p>An XPath expression pointing to the element in the WSDL file in scope
that this binding declaration is attached to. It MUST NOT be present
if the <code>jaxws:bindings</code> appears inside a WSDL document.</p>
</dd>
<dt class="hdlist1">@version</dt>
<dd>
<p>A version identifier. It MUST NOT appear on <code>jaxws:bindings</code> elements
which have any <code>jaxws:bindings</code> ancestors (i.e. on non top-level
binding declarations).</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For the JAX-WS 2.0 specification, the version identifier, if present,
MUST be <code>2.0</code>. If the <code>@version</code> attribute is absent, it will implicitly
be assumed to be <code>2.0</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="embeddedbindingdeclarations"><a class="anchor" href="#embeddedbindingdeclarations"></a>9.3. Embedded Binding Declarations</h3>
<div class="paragraph">
<p>An embedded binding declaration is specified by using the
<code>jaxws:bindings</code> element as a WSDL extension. Embedded binding
declarations MAY appear on any of the elements in the WSDL 1.1 namespace
that accept extension elements, per the schema for the WSDL 1.1
namespace as amended by the WS-I Basic Profile 1.1<a href="#bib20">[20]</a>.</p>
</div>
<div class="paragraph">
<p>A binding declaration embedded in a WSDL document can only affect the
WSDL element it extends. When a <code>jaxws:bindings</code> element is used as a
WSDL extension, it MUST NOT have a <code>node</code> attribute. Moreover, it MUST
NOT have an element whose qualified name is <code>jaxws:bindings</code> amongs its
children.</p>
</div>
<div class="sect3">
<h4 id="embeddedbindingdeclarationsex"><a class="anchor" href="#embeddedbindingdeclarationsex"></a>9.3.1. Example</h4>
<div class="paragraph">
<p>Figure <a href="#8.2">[8.2]</a> shows a WSDL document containing binding declaration
extensions. For JAXB annotations, it assumes that the prefix <code>jaxb</code> is
bound to the namespace name <code><a href="http://java.sun.com/xml/ns/jaxb" class="bare">http://java.sun.com/xml/ns/jaxb</a></code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="externalbindingfile"><a class="anchor" href="#externalbindingfile"></a>9.4. External Binding File</h3>
<div class="paragraph">
<p>The <code>jaxws:bindings</code> element MAY appear as the root element of a XML
document. Such a document is called an <em>external binding file</em>.</p>
</div>
<div class="paragraph">
<p>An external binding file specifies bindings for a given WSDL document.
The WSDL document in question is identified via the mandatory
<code>wsdlLocation</code> attribute on the root <code>jaxws:bindings</code> element in the
document.</p>
</div>
<div id="8.2" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
</pre></td>
  <td class="code"><pre>&lt;wsdl:definitions targetNamespace=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span> xmlns:tns=...<span class="string"><span class="delimiter">&quot;</span><span class="content"> xmlns:stns=</span><span class="delimiter">&quot;</span></span>...<span class="string"><span class="delimiter">&quot;</span><span class="content">&gt;
    &lt;wsdl:types&gt;
        &lt;xs:schema targetNamespace=</span><span class="delimiter">&quot;</span></span>http:<span class="comment">//example.org/bar&quot;&gt;</span>
            &lt;xs:annotation&gt;
                &lt;xs:appinfo&gt;
                    &lt;jaxb:bindings&gt;
                    ...some JAXB binding declarations...
                    &lt;/jaxb:bindings&gt;
                &lt;/xs:appinfo&gt;
            &lt;/xs:annotation&gt;
            &lt;xs:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePrice</span><span class="delimiter">&quot;</span></span>&gt;
                &lt;xs:complexType&gt;
                    &lt;xs:sequence&gt;
                        &lt;xs:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">tickerSymbol</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:string</span><span class="delimiter">&quot;</span></span>/&gt;
                        &lt;xs:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">lastTradePrice</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:float</span><span class="delimiter">&quot;</span></span>/&gt;
                    &lt;/xs:sequence&gt;
                &lt;/xs:complexType&gt;
            &lt;/xs:element&gt;
            &lt;xs:element name=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePriceResponse</span><span class="delimiter">&quot;</span></span>&gt;
                &lt;xs:complexType&gt;
                    &lt;xs:sequence/&gt;
                &lt;/xs:complexType&gt;
            &lt;/xs:element&gt;
        &lt;/xs:schema&gt;
    &lt;/wsdl:types&gt;

    &lt;wsdl:message name=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePrice</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;wsdl:part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">setPrice</span><span class="delimiter">&quot;</span></span> element=<span class="string"><span class="delimiter">&quot;</span><span class="content">stns:setLastTradePrice</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;/wsdl:message&gt;

    &lt;wsdl:message name=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePriceResponse</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;wsdl:part name=<span class="string"><span class="delimiter">&quot;</span><span class="content">setPriceResponse</span><span class="delimiter">&quot;</span></span> type=<span class="string"><span class="delimiter">&quot;</span><span class="content">stns:setLastTradePriceResponse</span><span class="delimiter">&quot;</span></span>/&gt;
    &lt;/wsdl:message&gt;

    &lt;wsdl:portType name=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteUpdater</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;wsdl:operation name=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePrice</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;wsdl:input message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:setLastTradePrice</span><span class="delimiter">&quot;</span></span>/&gt;
            &lt;wsdl:output message=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:setLastTradePriceResponse</span><span class="delimiter">&quot;</span></span>/&gt;
            &lt;jaxws:bindings&gt;
                &lt;jaxws:method name=<span class="string"><span class="delimiter">&quot;</span><span class="content">updatePrice</span><span class="delimiter">&quot;</span></span>/&gt;
            &lt;/jaxws:bindings&gt;
        &lt;/wsdl:operation&gt;
        &lt;jaxws:bindings&gt;
            &lt;jaxws:enableAsyncMapping&gt;<span class="predefined-constant">true</span>&lt;/jaxws:enableAsyncMapping&gt;
        &lt;/jaxws:bindings&gt;
    &lt;/wsdl:portType&gt;

    &lt;jaxws:bindings&gt;
        &lt;jaxws:<span class="keyword">package</span> <span class="namespace">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">com.acme.foo</span><span class="delimiter">&quot;</span></span>/&gt;
        ...<span class="namespace">additional</span> <span class="namespace">binding</span> <span class="namespace">declarations</span>...
    &lt;/<span class="namespace">jaxws</span>:<span class="namespace">bindings</span>&gt;
&lt;/<span class="namespace">wsdl</span>:<span class="namespace">definitions</span>&gt;</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>In an external binding file, <code>jaxws:bindings</code> elements MAY appear as
non-root elements, e.g. as a child or descendant of the root
<code>jaxws:bindings</code> element. In this case, they MUST carry a <code>node</code>
attribute identifying the element in the WSDL document they annotate.
The root <code>jaxws:bindings</code> element implicitly contains a <code>node</code> attribute
whose value is <code>//</code>, i.e. selecting the root element in the document. An
XPath expression on a non-root <code>jaxws:bindings</code> element selects zero or
more nodes from the set of nodes selected by its parent <code>jaxws:bindings</code>
element.</p>
</div>
<div class="paragraph">
<p>External binding files are semantically equivalent to embedded binding
declarations (see <a href="#embeddedbindingdeclarations">Embedded Binding Declarations</a>). When a JAX-WS
implementation processes a WSDL document for which there is an external
binding file, it MUST operate as if all binding declarations specified
in the external binding file were instead specified as embedded
declarations on the nodes in the in the WSDL document they target. It is
an error if, upon embedding the binding declarations defined in one or
more external binding files, the resulting WSDL document contains
conflicting binding declarations.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Multiple binding files):</em> Implementations MUST support specifying any
number of external JAX-WS and JAXB binding files for processing in
conjunction with at least one WSDL document.</p>
</div>
<div class="paragraph">
<p>Please refer to section <a href="#jaxbbindingdeclarations">Using JAXB Binding Declarations</a> for more information
on processing JAXB binding declarations.</p>
</div>
<div class="sect3">
<h4 id="externalbindingfileex"><a class="anchor" href="#externalbindingfileex"></a>9.4.1. Example</h4>
<div class="paragraph">
<p>Figures <a href="#8.3">[8.3]</a> and <a href="#8.4">[8.4]</a> show an example external binding
file and WSDL document respectively that express the same set of binding
declarations as the WSDL document in <a href="#embeddedbindingdeclarationsex">Example</a>.</p>
</div>
<div id="8.3" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td>
  <td class="code"><pre><span class="tag">&lt;jaxws:bindings</span> <span class="attribute-name">wsdlLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.org/foo.wsdl</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;jaxws:package</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">com.acme.foo</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;jaxws:bindings</span>
        <span class="attribute-name">node</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">wsdl:types/xs:schema[targetNamespace=’http://example.org/bar’]</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;jaxb:bindings&gt;</span>
            ...some JAXB binding declarations...
        <span class="tag">&lt;/jaxb:bindings&gt;</span>
    <span class="tag">&lt;/jaxws:bindings&gt;</span>
    <span class="tag">&lt;jaxws:bindings</span> <span class="attribute-name">node</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">wsdl:portType[@name=’StockQuoteUpdater’]</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;jaxws:enableAsyncMapping&gt;</span>true<span class="tag">&lt;/jaxws:enableAsyncMapping&gt;</span>
        <span class="tag">&lt;jaxws:bindings</span> <span class="attribute-name">node</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">wsdl:operation[@name=’setLastTradePrice’]</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;jaxws:method</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">updatePrice</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;/jaxws:bindings&gt;</span>
    <span class="tag">&lt;/jaxws:bindings&gt;</span>
    ...additional binding declarations....
<span class="tag">&lt;/jaxws:bindings&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 8.3: Sample external binding file for WSDL in figure <a href="#8.4">[8.4]</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="jaxbbindingdeclarations"><a class="anchor" href="#jaxbbindingdeclarations"></a>9.5. Using JAXB Binding Declarations</h3>
<div class="paragraph">
<p>It is possible to use JAXB binding declarations in conjunction with
JAX-WS.</p>
</div>
<div class="paragraph">
<p>The JAXB 2.0 bindings element, henceforth referred to as
<code>jaxb:bindings</code>, MAY appear as an annotation inside a schema document
embedded in a WSDL document, i.e. as a descendant of a <code>xs:schema</code>
element whose parent is the <code>wsdl:types</code> element. It affects the data
binding as specified by JAXB 2.0.</p>
</div>
<div id="8.4" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre></td>
  <td class="code"><pre><span class="tag">&lt;wsdl:definitions</span> <span class="attribute-name">targetNamespace</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:tns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:stns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;wsdl:types&gt;</span>
        <span class="tag">&lt;xs:schema</span> <span class="attribute-name">targetNamespace</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.org/bar</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;xs:element</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePrice</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                <span class="tag">&lt;xs:complexType&gt;</span>
                    <span class="tag">&lt;xs:sequence&gt;</span>
                        <span class="tag">&lt;xs:element</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">tickerSymbol</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:string</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
                        <span class="tag">&lt;xs:element</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">lastTradePrice</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:float</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
                    <span class="tag">&lt;/xs:sequence&gt;</span>
                <span class="tag">&lt;/xs:complexType&gt;</span>
            <span class="tag">&lt;/xs:element&gt;</span>
            <span class="tag">&lt;xs:element</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePriceResponse</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                <span class="tag">&lt;xs:complexType&gt;</span>
                    <span class="tag">&lt;xs:sequence</span><span class="tag">/&gt;</span>
                <span class="tag">&lt;/xs:complexType&gt;</span>
            <span class="tag">&lt;/xs:element&gt;</span>
        <span class="tag">&lt;/xs:schema&gt;</span>
    <span class="tag">&lt;/wsdl:types&gt;</span>

    <span class="tag">&lt;wsdl:message</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePrice</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;wsdl:part</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">setPrice</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">stns:setLastTradePrice</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/wsdl:message&gt;</span>

    <span class="tag">&lt;wsdl:message</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePriceResponse</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;wsdl:part</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">setPriceResponse</span><span class="delimiter">&quot;</span></span>
            <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">stns:setLastTradePriceResponse</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/wsdl:message&gt;</span>

    <span class="tag">&lt;wsdl:portType</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">StockQuoteUpdater</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;wsdl:operation</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">setLastTradePrice</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;wsdl:input</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:setLastTradePrice</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
            <span class="tag">&lt;wsdl:output</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">tns:setLastTradePriceResponse</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;/wsdl:operation&gt;</span>
    <span class="tag">&lt;/wsdl:portType&gt;</span>
<span class="tag">&lt;/wsdl:definitions&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 8.4: WSDL document referred to by external binding file in figure <a href="#8.3">[8.3]</a></p>
</div>
<div class="paragraph">
<p>Additionally, <code>jaxb:bindings</code> MAY appear inside a JAX-WS external
binding file as a child of a <code>jaxws:bindings</code> element whose <code>node</code>
attribute points to a <code>xs:schema</code> element inside a WSDL document. When
the schema is processed, the outcome MUST be as if the <code>jaxb:bindings</code>
element was inlined inside the schema document as an annotation on the
schema component.</p>
</div>
<div class="paragraph">
<p>While processing a JAXB binding declaration (i.e. a <code>jaxb:bindings</code>
element) for a schema document embedded inside a WSDL document, all
XPath expressions that appear inside it MUST be interpreted as if the
containing <code>xs:schema</code> element was the root of a standalone schema
document.</p>
</div>
<div class="paragraph">
<p><strong>Editors Note 8.1</strong> <em>This last requirement ensures that JAXB processors don’t have to be
extended to incorporate knowledge of WSDL. In particular, it becomes
possible to take a JAXB binding file and embed it in a JAX-WS binding
file as-is, without fixing up all its XPath expressions, even in the
case that the XML Schema the JAXB binding file refers to was embedded in
a WSDL.</em></p>
</div>
</div>
<div class="sect2">
<h3 id="scopingofbindings"><a class="anchor" href="#scopingofbindings"></a>9.6. Scoping of Bindings</h3>
<div class="paragraph">
<p>Binding declarations are scoped according to the parent-child hierarchy
in the WSDL document. For instance, when determining the value of the
<code>jaxws:enableWrapperStyle</code> customization parameter for a portType
operation, binding declarations MUST be processed in the following
order, according to the element they pertain to: (1) the portType
operation in question, (2) its parent portType, (3) the definitions
element.</p>
</div>
<div class="paragraph">
<p>Tools MUST NOT ignore binding declarations. It is an error if upon
applying all the customizations in effect for a given WSDL document, any
of the generated Java source code artifacts does not contain legal Java
syntax. In particular, it is an error to use any reserved keywords as
the name of a Java field, method, type or package.</p>
</div>
</div>
<div class="sect2">
<h3 id="standardbindingdeclarations"><a class="anchor" href="#standardbindingdeclarations"></a>9.7. Standard Binding Declarations</h3>
<div class="paragraph">
<p>The following sections detail the predefined binding declarations,
classified according to the WSDL element they’re allowed on. All these
declarations reside in the <code><a href="http://java.sun.com/xml/ns/jaxws" class="bare">http://java.sun.com/xml/ns/jaxws</a></code> namespace.</p>
</div>
<div class="sect3">
<h4 id="bindingdecldefinitions"><a class="anchor" href="#bindingdecldefinitions"></a>9.7.1. Definitions</h4>
<div class="paragraph">
<p>The following binding declarations MAY appear in the context of a WSDL
document, either as an extension to the <code>wsdl:definitions</code> element or in
an external binding file at a place where there is a WSDL document in
scope.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td>
  <td class="code"><pre><span class="tag">&lt;jaxws:package</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:string</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>?
    <span class="tag">&lt;jaxws:javadoc&gt;</span>xs:string<span class="tag">&lt;/jaxws:javadoc&gt;</span>?
<span class="tag">&lt;/jaxws:package&gt;</span>

<span class="tag">&lt;jaxws:enableWrapperStyle&gt;</span>?
    xs:boolean
<span class="tag">&lt;/jaxws:enableWrapperStyle&gt;</span>

<span class="tag">&lt;jaxws:enableAsyncMapping&gt;</span>?
    xs:boolean
<span class="tag">&lt;/jaxws:enableAsyncMapping&gt;</span>

<span class="tag">&lt;jaxws:enableMIMEContent&gt;</span>?
    xs:boolean
<span class="tag">&lt;/jaxws:enableMIMEContent&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="sect4">
<h5 id="semantics-1"><a class="anchor" href="#semantics-1"></a>9.7.1.1. Semantics</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">package/@name</dt>
<dd>
<p>Name of the Java package for the targetNamespace of the parent
<code>wsdl:definitions</code> element.</p>
</dd>
<dt class="hdlist1">package/javadoc/text()</dt>
<dd>
<p>Package-level javadoc string.</p>
</dd>
<dt class="hdlist1">enableWrapperStyle</dt>
<dd>
<p>If present with a boolean value of <code>true</code> (resp. <code>false</code>), wrapper
style is enabled (resp. disabled) by default for all operations.</p>
</dd>
<dt class="hdlist1">enableAsyncMapping</dt>
<dd>
<p>If present with a boolean value of <code>true</code> (resp. <code>false</code>),
asynchronous mappings are enabled (resp. disbled) by default for all
operations.</p>
</dd>
<dt class="hdlist1">enableMIMEContent</dt>
<dd>
<p>If present with a boolean value of <code>true</code> (resp. <code>false</code>), use of the
<code>mime:content</code> information is enabled (resp. disabled) by default for
all operations.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>enableWrapperStyle</code> declaration only affects operations that
qualify for the wrapper style per the JAX-WS specification. By default,
this declaration is <code>true</code>, i.e. wrapper style processing is turned on
by default for all qualified operations, and must be disabled by using a
<code>jaxws:enableWrapperStyle</code> declaration with a value of <code>false</code> in the
appropriate scope.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="bindingdeclporttype"><a class="anchor" href="#bindingdeclporttype"></a>9.7.2. PortType</h4>
<div class="paragraph">
<p>The following binding declarations MAY appear in the context of a WSDL
portType, either as an extension to the <code>wsdl:portType</code> element or with
a <code>node</code> attribute pointing at one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre><span class="tag">&lt;jaxws:class</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:string</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>?
    <span class="tag">&lt;jaxws:javadoc&gt;</span>xs:string<span class="tag">&lt;/jaxws:javadoc&gt;</span>?
<span class="tag">&lt;/jaxws:class&gt;</span>

<span class="tag">&lt;jaxws:enableWrapperStyle&gt;</span>?
    xs:boolean
<span class="tag">&lt;/jaxws:enableWrapperStyle&gt;</span>

<span class="tag">&lt;jaxws:enableAsyncMapping&gt;</span>xs:boolean<span class="tag">&lt;/jaxws:enableAsyncMapping&gt;</span>?</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="sect4">
<h5 id="semantics-2"><a class="anchor" href="#semantics-2"></a>9.7.2.1. Semantics</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">class/@name</dt>
<dd>
<p>Fully qualified name of the generated service endpoint interface
corresponding to the parent <code>wsdl:portType</code>.</p>
</dd>
<dt class="hdlist1">class/javadoc/text()</dt>
<dd>
<p>Class-level javadoc string.</p>
</dd>
<dt class="hdlist1">enableWrapperStyle</dt>
<dd>
<p>If present with a boolean value of <code>true</code> (resp. <code>false</code>), wrapper
style is enabled (resp. disabled) by default for all operations in
this <code>wsdl:portType</code>.</p>
</dd>
<dt class="hdlist1">enableAsyncMapping</dt>
<dd>
<p>If present with a boolean value of <code>true</code> (resp. <code>false</code>),
asynchronous mappings are enabled (resp. disabled) by default for all
operations in this <code>wsdl:portType</code>.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="bindingdeclporttypeoperation"><a class="anchor" href="#bindingdeclporttypeoperation"></a>9.7.3. PortType Operation</h4>
<div class="paragraph">
<p>The following binding declarations MAY appear in the context of a WSDL
portType operation, either as an extension to the
<code>wsdl:portType/wsdl:operation</code> element or with a <code>node</code> attribute
pointing at one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td>
  <td class="code"><pre><span class="tag">&lt;jaxws:method</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:string</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>?
    <span class="tag">&lt;jaxws:javadoc&gt;</span>xs:string<span class="tag">&lt;/jaxws:javadoc&gt;</span>?
<span class="tag">&lt;/jaxws:method&gt;</span>

<span class="tag">&lt;jaxws:enableWrapperStyle&gt;</span>?
    xs:boolean
<span class="tag">&lt;/jaxws:enableWrapperStyle&gt;</span>

<span class="tag">&lt;jaxws:enableAsyncMapping&gt;</span>?
    xs:boolean
<span class="tag">&lt;/jaxws:enableAsyncMapping&gt;</span>

<span class="tag">&lt;jaxws:parameter</span> <span class="attribute-name">part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:string</span><span class="delimiter">&quot;</span></span>
                 <span class="attribute-name">childElementName</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:QName</span><span class="delimiter">&quot;</span></span><span class="error">?</span>
                 <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:string</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>*</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="sect4">
<h5 id="semantics-3"><a class="anchor" href="#semantics-3"></a>9.7.3.1. Semantics</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">method/@name</dt>
<dd>
<p>Name of the Java method corresponding to this <code>wsdl:operation</code>.</p>
</dd>
<dt class="hdlist1">method/javadoc/text()</dt>
<dd>
<p>Method-level javadoc string.</p>
</dd>
<dt class="hdlist1">enableWrapperStyle</dt>
<dd>
<p>If present with a boolean value of <code>true</code> (resp. <code>false</code>), wrapper
style is enabled (resp. disabled) by default for this
<code>wsdl:operation</code>.</p>
</dd>
<dt class="hdlist1">enableAsyncMapping</dt>
<dd>
<p>If present with a boolean value of <code>true</code>, asynchronous mappings are
enabled by default for this <code>wsdl:operation</code>.</p>
</dd>
<dt class="hdlist1">parameter/@part</dt>
<dd>
<p>A XPath expression identifying a <code>wsdl:part</code> child of a
<code>wsdl:message</code>.</p>
</dd>
<dt class="hdlist1">parameter/@childElementName</dt>
<dd>
<p>The qualified name of a child element information item of the global
type definition or global element declaration referred to by the
<code>wsdl:part</code> identified by the previous attribute.</p>
</dd>
<dt class="hdlist1">parameter/@name</dt>
<dd>
<p>The name of the Java formal parameter corresponding to the parameter
identified by the previous two attributes.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>It is an error if two parameters that do not correspond to the same Java
formal parameter are assigned the same name, or if a part/element that
corresponds to the Java method return value is assigned a name.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="bindingdeclporttypefault"><a class="anchor" href="#bindingdeclporttypefault"></a>9.7.4. PortType Fault Message</h4>
<div class="paragraph">
<p>The following binding declarations MAY appear in the context of a WSDL
portType operation’s fault message, either as an extension to the
<code>wsdl:portType/wsdl:operation/wsdl:fault</code> element or with a <code>node</code>
attribute pointing at one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;jaxws:class</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:string</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>?
    <span class="tag">&lt;jaxws:javadoc&gt;</span>xs:string<span class="tag">&lt;/jaxws:javadoc&gt;</span>?
<span class="tag">&lt;/jaxws:class&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="sect4">
<h5 id="semantics-4"><a class="anchor" href="#semantics-4"></a>9.7.4.1. Semantics</h5>
<div class="paragraph">
<p>Fully qualified name of the generated exception class for this fault.</p>
</div>
<div class="paragraph">
<p>Class-level javadoc string.</p>
</div>
<div class="paragraph">
<p>It is an error if faults that refer to the same <code>wsdl:message</code> element
are mapped to exception classes with different names.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="bindingdeclbinding"><a class="anchor" href="#bindingdeclbinding"></a>9.7.5. Binding</h4>
<div class="paragraph">
<p>The following binding declarations MAY appear in the context of a WSDL
binding, either as an extension to the <code>wsdl:binding</code> element or with a
<code>node</code> attribute pointing at one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;jaxws:enableMIMEContent&gt;</span>?
    xs:boolean
<span class="tag">&lt;/jaxws:enableMIMEContent&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="sect4">
<h5 id="semantics-5"><a class="anchor" href="#semantics-5"></a>9.7.5.1. Semantics</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">enableMIMEContent</dt>
<dd>
<p>If present with a boolean value of <code>true</code> (resp. <code>false</code>), use of the
<code>mime:content</code> information is enabled (resp. disabled) for all
operations in this binding.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="bindingdeclbindingoperation"><a class="anchor" href="#bindingdeclbindingoperation"></a>9.7.6. Binding Operation</h4>
<div class="paragraph">
<p>The following binding declarations MAY appear in the context of a WSDL
binding operation, either as an extension to the
<code>wsdl:binding/wsdl:operation</code> element or with a <code>node</code> attribute
pointing at one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td>
  <td class="code"><pre><span class="tag">&lt;jaxws:enableMIMEContent&gt;</span>?
    xs:boolean
<span class="tag">&lt;/jaxws:enableMIMEContent&gt;</span>

<span class="tag">&lt;jaxws:parameter</span> <span class="attribute-name">part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:string</span><span class="delimiter">&quot;</span></span>
                 <span class="attribute-name">childElementName</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:QName</span><span class="delimiter">&quot;</span></span><span class="error">?</span>
                 <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:string</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>*

<span class="tag">&lt;jaxws:exception</span> <span class="attribute-name">part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:string</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>*
    <span class="tag">&lt;jaxws:class</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:string</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>?
        <span class="tag">&lt;jaxws:javadoc&gt;</span>xs:string<span class="tag">&lt;/jaxws:javadoc&gt;</span>?
    <span class="tag">&lt;/jaxws:class&gt;</span>
<span class="tag">&lt;/jaxws:exception&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="sect4">
<h5 id="semantics-6"><a class="anchor" href="#semantics-6"></a>9.7.6.1. Semantics</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">enableMIMEContent</dt>
<dd>
<p>If present with a boolean value of <code>true</code> (resp. <code>false</code>), use of the
<code>mime:content</code> information is enabled (resp. disabled) for this
operation.</p>
</dd>
<dt class="hdlist1">parameter/@part</dt>
<dd>
<p>A XPath expression identifying a <code>wsdl:part</code> child of a
<code>wsdl:message</code>.</p>
</dd>
<dt class="hdlist1">parameter/@childElementName</dt>
<dd>
<p>The qualified name of a child element information item of the global
type definition or global element declaration referred to by the
<code>wsdl:part</code> identified by the previous attribute.</p>
</dd>
<dt class="hdlist1">parameter/@name</dt>
<dd>
<p>The name of the Java formal parameter corresponding to the parameter
identified by the previous two attributes. The parameter in question
MUST correspond to a <code>soap:header</code> extension.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="bindingdeclservice"><a class="anchor" href="#bindingdeclservice"></a>9.7.7. Service</h4>
<div class="paragraph">
<p>The following binding declarations MAY appear in the context of a WSDL
service, either as an extension to the <code>wsdl:service</code> element or with a
<code>node</code> attribute pointing at one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;jaxws:class</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:string</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>?
    <span class="tag">&lt;jaxws:javadoc&gt;</span>xs:string<span class="tag">&lt;/jaxws:javadoc&gt;</span>?
<span class="tag">&lt;/jaxws:class&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="sect4">
<h5 id="semantics-7"><a class="anchor" href="#semantics-7"></a>9.7.7.1. Semantics</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">class/@name</dt>
<dd>
<p>Fully qualified name of the generated service class.</p>
</dd>
<dt class="hdlist1">class/javadoc/text()</dt>
<dd>
<p>Class-level javadoc string.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="bindingdeclport"><a class="anchor" href="#bindingdeclport"></a>9.7.8. Port</h4>
<div class="paragraph">
<p>The following binding declarations MAY appear in the context of a WSDL
service, either as an extension to the <code>wsdl:port</code> element or with a
<code>node</code> attribute pointing at one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="tag">&lt;jaxws:method</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xs:string</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>?
    <span class="tag">&lt;jaxws:javadoc&gt;</span>xs:string<span class="tag">&lt;/jaxws:javadoc&gt;</span>?
<span class="tag">&lt;/jaxws:method&gt;</span>

<span class="tag">&lt;jaxws:provider</span><span class="tag">/&gt;</span>?</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="sect4">
<h5 id="semantics-8"><a class="anchor" href="#semantics-8"></a>9.7.8.1. Semantics</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">method/@name</dt>
<dd>
<p>The name of the generated port getter method.</p>
</dd>
<dt class="hdlist1">method/javadoc/text()</dt>
<dd>
<p>Method-level javadoc string.</p>
</dd>
<dt class="hdlist1">provider</dt>
<dd>
<p>This binding declaration specifies that the annotated port will be
used with the <code>javax.xml.ws.Provider</code> interface.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>A port annotated with a <code>jaxws:provider</code> binding declaration is treated
specially. No service endpoint interface will be generated for it, since
the application code will use in its lieu the <code>javax.xml.ws.Provider</code>
interface. Additionally, the port getter method on the generated service
interface will be omitted.</p>
</div>
<div class="paragraph">
<p><strong>Editors Note 8.2</strong> <em>Omitting a getXYZPort() method is necessary for consistency, because if
it existed it would specify the non-existing SEI type as its return
type.</em></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="handfmwk"><a class="anchor" href="#handfmwk"></a>10. Handler Framework</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JAX-WS provides a flexible plug-in framework for message processing
modules, known as handlers, that may be used to extend the capabilities
of a JAX-WS runtime system. This chapter describes the handler framework
in detail.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Handler framework support):</em> An implementation MUST support the handler
framework.</p>
</div>
<div class="sect2">
<h3 id="architecture"><a class="anchor" href="#architecture"></a>10.1. Architecture</h3>
<div class="paragraph">
<p>The handler framework is implemented by a JAX-WS protocol binding in
both client and server side runtimes. Proxies, and <code>Dispatch</code> instances,
known collectively as binding providers, each use protocol bindings to
bind their abstract functionality to specific protocols (see figure
<a href="#handarchfig">[handarchfig]</a>). Protocol bindings can extend the handler framework to
provide protocol specific functionality; chapter <a href="#soapbindchap">SOAP Binding</a>
describes the JAX-WS SOAP binding that extends the handler framework
with SOAP specific functionality.</p>
</div>
<div class="paragraph">
<p>Client and server-side handlers are organized into an ordered list known
as a handler chain. The handlers within a handler chain are invoked each
time a message is sent or received. Inbound messages are processed by
handlers prior to binding provider processing. Outbound messages are
processed by handlers after any binding provider processing.</p>
</div>
<div class="paragraph">
<p>Handlers are invoked with a message context that provides methods to
access and modify inbound and outbound messages and to manage a set of
properties. Message context properties may be used to facilitate
communication between individual handlers and between handlers and
client and service implementations. Different types of handlers are
invoked with different types of message context.</p>
</div>
<div class="sect3">
<h4 id="handlertypes"><a class="anchor" href="#handlertypes"></a>10.1.1. Types of Handler</h4>
<div class="paragraph">
<p>JAX-WS 2.0 defines two types of handler:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Logical</dt>
<dd>
<p>Handlers that only operate on message context properties and message
payloads. Logical handlers are protocol agnostic and are unable to
affect protocol specific parts of a message. Logical handlers are
handlers that implement <code>javax.xml.ws.handler.LogicalHandler</code>.</p>
</dd>
<dt class="hdlist1">Protocol</dt>
<dd>
<p>Handlers that operate on message context properties and protocol
specific messages. Protocol handlers are specific to a particular
protocol and may access and change protocol specific aspects of a
message. Protocol handlers are handlers that implement any interface
derived from <code>javax.xml.ws.handler.Handler</code> except
<code>javax.xml.ws.handler.LogicalHandler</code>.</p>
</dd>
</dl>
</div>
<div class="imageblock">
<div class="content">
<img src="data:image/png;base64," alt="handarch">
</div>
</div>
<div class="paragraph">
<p>Figure 9.1: Handler architecture</p>
</div>
<div class="paragraph">
<p>Figure <a href="#9.2">[9.2]</a> shows the class hierarchy for handlers.</p>
</div>
<div class="paragraph">
<p>Handlers for protocols other than SOAP are expected to implement a
protocol-specific interface that extends <code>javax.xml.ws.handler.Handler</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="binding-responsibilities"><a class="anchor" href="#binding-responsibilities"></a>10.1.2. Binding Responsibilities</h4>
<div class="paragraph">
<p>The following subsections describe the responsibilities of the protocol
binding when hosting a handler chain.</p>
</div>
<div class="sect4">
<h5 id="handler-and-message-context-management"><a class="anchor" href="#handler-and-message-context-management"></a>10.1.2.1. Handler and Message Context Management</h5>
<div class="paragraph">
<p>The binding is responsible for instantiation, invocation, and
destruction of handlers according to the rules specified in section
<a href="#handprocmodel">Processing Model</a>. The binding is responsible for instantiation and
management of message contexts according to the rules specified in
section <a href="#handmsgctxmngmt">Message Context</a></p>
</div>
<div class="imageblock">
<div class="content">
<img src="data:image/png;base64," alt="handlers">
</div>
</div>
<div class="paragraph">
<p>Figure 9.2: Handler class hierarchy</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Logical handler support):</em> All binding implementations MUST support
logical handlers (see section <a href="#handlertypes">Types of Handler</a>) being deployed in their
handler chains.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Other handler support):</em> Binding implementations MAY support other
handler types (see section <a href="#handlertypes">Types of Handler</a>) being deployed in their
handler chains.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Incompatible handlers):</em> An implementation MUST throw
<code>WebServiceException</code> when, at the time a binding provider is created,
the handler chain returned by the configured <code>HandlerResolver</code> contains
an incompatible handler.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Incompatible handlers):</em> Implementations MUST throw a
<code>WebServiceException</code> when attempting to configure an incompatible
handler using the <code>Binding.setHandlerChain</code> method.</p>
</div>
</div>
<div class="sect4">
<h5 id="handmsgdispatch"><a class="anchor" href="#handmsgdispatch"></a>10.1.2.2. Message Dispatch</h5>
<div class="paragraph">
<p>The binding is responsible for dispatch of both outbound and inbound
messages after handler processing. Outbound messages are dispatched
using whatever means the protocol binding uses for communication.
Inbound messages are dispatched to the binding provider. JAX-WS defines
no standard interface between binding providers and their binding.</p>
</div>
</div>
<div class="sect4">
<h5 id="handexcepthandling"><a class="anchor" href="#handexcepthandling"></a>10.1.2.3. Exception Handling</h5>
<div class="paragraph">
<p>The binding is responsible for catching runtime exceptions thrown by
handlers and respecting any resulting message direction and message type
change as described in section <a href="#handlerexecution">Handler Execution</a>.</p>
</div>
<div class="paragraph">
<p>Outbound exceptions<sup class="footnote">[<a id="_footnoteref_8" class="footnote" href="#_footnotedef_8" title="View footnote.">8</a>]</sup> are converted to
protocol fault messages and dispatched using whatever means the protocol
binding uses for communication. Specific protocol bindings describe the
mechanism for their particular protocol, section <a href="#soap11excepthandling">Exception Handling</a>
describes the mechanism for the SOAP 1.1 binding. Inbound exceptions are
passed to the binding provider.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="handlerconfig"><a class="anchor" href="#handlerconfig"></a>10.2. Configuration</h3>
<div class="paragraph">
<p>Handler chains may be configured either programmatically or using
deployment metadata. The following subsections describe each form of
configuration.</p>
</div>
<div class="sect3">
<h4 id="handfmwrkprogconf"><a class="anchor" href="#handfmwrkprogconf"></a>10.2.1. Programmatic Configuration</h4>
<div class="paragraph">
<p>JAX-WS only defines APIs for programmatic configuration of client side
handler chains – server side handler chains are expected to be
configured using deployment metadata.</p>
</div>
<div class="sect4">
<h5 id="handlerresolver"><a class="anchor" href="#handlerresolver"></a>10.2.1.1. javax.xml.ws.handler.HandlerResolver</h5>
<div class="paragraph">
<p>A <code>Service</code> instance maintains a handler resolver that is used when
creating proxies or <code>Dispatch</code> instances, known collectively as binding
providers. During the creation of a binding provider, the handler
resolver currently registered with a service is used to create a handler
chain, which in turn is then used to configure the binding provider. A
<code>Service</code> instance provides access to a <code>handlerResolver</code> property, via
the <code>Service.getHandlerResolver</code> and <code>Service.setHandlerResolver</code>
methods. A <code>HandlerResolver</code> implements a single method,
<code>getHandlerChain</code>, which has one argument, a <code>PortInfo</code> object. The
JAX-WS runtime uses the <code>PortInfo</code> argument to pass the
<code>HandlerResolver</code> of the service, port and binding in use. The
<code>HandlerResolver</code> may use any of this information to decide which
handlers to use in constructing the requested handler chain.</p>
</div>
<div class="paragraph">
<p>When a <code>Service</code> instance is used to create an instance of a binding
provider then the created instance is configured with the handler chain
created by the <code>HandlerResolver</code> instance registered on the <code>Service</code>
instance at that point in time.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Handler chain snapshot):</em> Changing the handler resolver configured for a
<code>Service</code> instance MUST NOT affect the handlers on previously created
proxies, or <code>Dispatch</code> instances.</p>
</div>
</div>
<div class="sect4">
<h5 id="handlerordering"><a class="anchor" href="#handlerordering"></a>10.2.1.2. Handler Ordering</h5>
<div class="paragraph">
<p>The handler chain for a binding is constructed by starting with the
handler chain as returned by the <code>HandlerResolver</code> for the service in
use and sorting its elements so that all logical handlers precede all
protocol handlers. In performing this operation, the order of handlers
of any given type (logical or protocol) in the original chain is
maintained. Figure <a href="#9.3">[9.3]</a> illustrates this.</p>
</div>
<div class="paragraph">
<p>Section <a href="#handlerexecution">Handler Execution</a> describes how the handler order relates to
the order of handler execution for inbound and outbound messages.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="data:image/png;base64," alt="handord">
</div>
</div>
<div class="paragraph">
<p>Figure 9.3: Handler ordering, Ln and Pn represent logical and protocol handlers respectively.</p>
</div>
</div>
<div class="sect4">
<h5 id="handlerchain"><a class="anchor" href="#handlerchain"></a>10.2.1.3. javax.jws.HandlerChain annotation</h5>
<div class="paragraph">
<p>The <code>javax.jws.HandlerChain</code> annotation defined by JSR-181 <a href="#bib16">[16]</a>
may be used to specify in a declarative way the handler chain to use for
a service.</p>
</div>
<div class="paragraph">
<p>When used in conunction with JAX-WS, the <code>name</code> element of the
<code>HandlerChain</code> annotation, if present, MUST have the default value (the
empty string).</p>
</div>
<div class="paragraph">
<p>In addition to appearing on a endpoint implementation class or a SEI, as
specified by JSR-181, the <code>handlerChain</code> annotation MAY appear on a
generated service class. In this case, it affects all the proxies and
<code>Dispatch</code> instances created using any of the ports on the service.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (HandlerChain annotation):</em> An implementation MUST support using the
<code>HandlerChain</code> annotation on an endpoint implementation class, including
a provider, on an endpoint interface and on a generated service class.</p>
</div>
<div class="paragraph">
<p>On the client, the <code>HandlerChain</code> annotation can be seen as a shorthand
way of defining and installing a handler resolver (see
<a href="#clienthandlerresolver">Handler Resolver</a>).</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Handler resolver for a HandlerChain annotation):</em> For a generated service
class (see <a href="#gensvcif">Service and Port</a>) which is annotated with a <code>HandlerChain</code>
annotation, the default handler resolver MUST return handler chains
consistent with the contents of the handler chain descriptor referenced
by the <code>HandlerChain</code> annotation.</p>
</div>
<div class="paragraph">
<p>Figure <a href="#9.4">[9.4]</a> shows an endpoint implementation class annotated
with a <code>HandlerChain</code> annotation.</p>
</div>
<div id="9.4" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="annotation">@WebService</span>
<span class="annotation">@HandlerChain</span>(file=<span class="string"><span class="delimiter">&quot;</span><span class="content">sample_chain.xml</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyService</span> {
    ...
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Figure 9.4: Use of the HandlerChain annotation</p>
</div>
</div>
<div class="sect4">
<h5 id="javax.xml.ws.binding"><a class="anchor" href="#javax.xml.ws.binding"></a>10.2.1.4. javax.xml.ws.Binding</h5>
<div class="paragraph">
<p>The <code>Binding</code> interface is an abstraction of a JAX-WS protocol binding
(see section [protocolbinding] for more details). As described above,
the handler chain initially configured on an instance is a snapshot of
the applicable handlers configured on the <code>Service</code> instance at the time
of creation. <code>Binding</code> provides methods to manipulate the initially
configured handler chain for a specific instance.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Binding handler manipulation):</em> Changing the handler chain on a <code>Binding</code>
instance MUST NOT cause any change to the handler chains configured on
the <code>Service</code> instance used to create the <code>Binding</code> instance.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="deployment-model"><a class="anchor" href="#deployment-model"></a>10.2.2. Deployment Model</h4>
<div class="paragraph">
<p>JAX-WS defines no standard deployment model for handlers. Such a model
is provided by JSR 109<a href="#bib17">[17]</a> Implementing Enterprise
Web Services.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="handprocmodel"><a class="anchor" href="#handprocmodel"></a>10.3. Processing Model</h3>
<div class="paragraph">
<p>This section describes the processing model for handlers within the
handler framework.</p>
</div>
<div class="sect3">
<h4 id="handlerlifecycle"><a class="anchor" href="#handlerlifecycle"></a>10.3.1. Handler Lifecycle</h4>
<div class="paragraph">
<p>In some cases, a JAX-WS implementation must instantiate handler classes
directly, e.g. in a container environment or when using the
<code>HandlerChain</code> annotation. When doing so, an implementation must invoke
the handler lifecycle methods as prescribed in this section.</p>
</div>
<div class="paragraph">
<p>If an application does its own instantiation of handlers, e.g. using a
handler resolver, then the burden of calling any handler lifecycle
methods falls on the application itself. This should not be seen as
inconsistent, because handlers are logically part of the application, so
their contract will be known to the application developer.</p>
</div>
<div class="paragraph">
<p>The JAX-WS runtime system manages the lifecycle of handlers by invoking
any methods of the handler class annotated as lifecycle methods before
and after dispatching requests to the handler itself.</p>
</div>
<div class="paragraph">
<p>The JAX-WS runtime system is responsible for loading the handler class
and instantiating the corresponding handler object according to the
instruction contained in the applicable handler configuration file or
deployment descriptor.</p>
</div>
<div class="paragraph">
<p>The lifecycle of a handler instance begins when the JAX-WS runtime
system creates a new instance of the handler class.</p>
</div>
<div class="paragraph">
<p>The runtime MUST then carry out any injections requested by the handler,
typically via the <code>javax.annotation.Resource</code> annotation. After all the
injections have been carried out, including in the case where no
injections were requested, the runtime MUST invoke the method carrying a
<code>javax.annotation.PostConstruct</code> annotation, if present. Such a method
MUST satisfy the requirements in JSR-250 <a href="#bib35">[35]</a> for lifecycle
methods (i.e. it has a void return type and takes zero arguments). The
handler instance is then ready for use.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Handler initialization):</em> After injection has been completed, an
implementation MUST call the lifecycle method annotated with
<code>PostConstruct</code>, if present, prior to invoking any other method on a
handler instance.</p>
</div>
<div class="paragraph">
<p>Once the handler instance is created and initialized it is placed into
the <code>Ready</code> state. While in the <code>Ready</code> state the JAX-WS runtime system
may invoke other handler methods as required.</p>
</div>
<div class="paragraph">
<p>The lifecycle of a handler instance ends when the JAX-WS runtime system
stops using the handler for processing inbound or outbound messages.
After taking the handler offline, a JAX-WS implementation SHOULD invoke
the lifecycle method which carries a <code>javax.annotation.PreDestroy</code>
annotation, if present, so as to permit the handler to clean up its
resources. Such a method MUST satisfy the requirements in JSR-250
<a href="#bib35">[35]</a> for lifecycle methods</p>
</div>
<div class="paragraph">
<p>An implementation can only release handlers after the instance they are
attached to, be it a proxy, a <code>Dispatch</code> object, an endpoint or some
other component, e.g. a EJB object, is released. Consequently, in
non-container environments, it is impossible to call the <code>PreDestroy</code>
method in a reliable way, and handler instance cleanup must be left to
finalizer methods and regular garbage collection.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Handler destruction):</em> In a managed environment, prior to releasing a
handler instance, an implementation MUST call the lifecycle method
annotated with <code>PreDestroy</code> method, if present, on any <code>Handler</code>
instances which it instantiated.</p>
</div>
<div class="paragraph">
<p>The handler instance must release its resources and perform cleanup in
the implementation of the <code>PreDestroy</code> lifecycle method. After
invocation of the <code>PreDestroy</code> method(s), the handler instance will be
made available for garbage collection.</p>
</div>
</div>
<div class="sect3">
<h4 id="handlerexecution"><a class="anchor" href="#handlerexecution"></a>10.3.2. Handler Execution</h4>
<div class="paragraph">
<p>As described in section <a href="#handlerordering">Handler Ordering</a>, a set of handlers is managed
by a binding as an ordered list called a handler chain. Unless modified
by the actions of a handler (see below) normal processing involves each
handler in the chain being invoked in turn. Each handler is passed a
message context (see section <a href="#handmsgctxmngmt">Message Context</a>) whose contents may be
manipulated by the handler.</p>
</div>
<div class="paragraph">
<p>For outbound messages handler processing starts with the first handler
in the chain and proceeds in the same order as the handler chain. For
inbound messages the order of processing is reversed: processing starts
with the last handler in the chain and proceeds in the reverse order of
the handler chain. E.g., consider a handler chain that consists of six
handlers \(H_{1}\ldots H_{6}\) in that order: for outbound
messages handler \(H_{1}\) would be invoked first followed by
\(H_{2}\), \(H_{3}\), …, and finally handler
\(H_{6}\); for inbound messages \(H_{6}\) would be
invoked first followed by \(H_{5}\), \(H_{4}\), …,
and finally \(H_{1}\).</p>
</div>
<div class="paragraph">
<p>In the following discussion the terms next handler and previous handler
are used. These terms are relative to the direction of the message,
<a href="#Table 9.1">[Table 9.1]</a> summarizes their meaning.</p>
</div>
<div class="paragraph">
<p>Handlers may change the direction of messages and the order of handler
processing by throwing an exception or by returning <code>false</code> from
<code>handleMessage</code> or <code>handleFault</code>. The following subsections describe
each handler method and the changes to handler chain processing they may
cause.</p>
</div>
<table id="Table 9.1" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Message Direction</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Term</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Handler</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Next</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(H_{i-1}\)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Previous</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(H_{i+1}\)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Outbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Next</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(H_{i+1}\)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Previous</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(H_{i-1}\)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Table 9.1: Next and previous handlers for handler H i .</p>
</div>
<div class="sect4">
<h5 id="handlemessage"><a class="anchor" href="#handlemessage"></a>10.3.2.1. <code>handleMessage</code></h5>
<div class="paragraph">
<p>This method is called for normal message processing. Following
completion of its work the <code>handleMessage</code> implementation can do one of
the following:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Return <code>true</code></dt>
<dd>
<p>This indicates that normal message processing should continue. The
runtime invokes <code>handleMessage</code> on the next handler or dispatches the
message (see section <a href="#handmsgdispatch">Message Dispatch</a>) if there are no further
handlers.</p>
</dd>
<dt class="hdlist1">Return <code>false</code></dt>
<dd>
<p>This indicates that normal message processing should cease. Subsequent
actions depend on whether the message exchange pattern (MEP) in use
requires a response to the _message currently being
processed_<sup class="footnote">[<a id="_footnoteref_9" class="footnote" href="#_footnotedef_9" title="View footnote.">9</a>]</sup> or not:
+</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Response</dt>
<dd>
<p>The message direction is reversed, the runtime invokes
<code>handleMessage</code> on the next<sup class="footnote">[<a id="_footnoteref_10" class="footnote" href="#_footnotedef_10" title="View footnote.">10</a>]</sup>
handler or dispatches the message (see section <a href="#handmsgdispatch">Message Dispatch</a>) if
there are no further handlers.</p>
</dd>
<dt class="hdlist1">No response</dt>
<dd>
<p>Normal message processing stops, <code>close</code> is called on each
previously invoked handler in the chain, the message is dispatched
(see section <a href="#handmsgdispatch">Message Dispatch</a>).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">Throw <code>ProtocolException</code> or a subclass</dt>
<dd>
<p>This indicates that normal message processing should cease. Subsequent
actions depend on whether the MEP in use requires a response to the
message currently being processed or not:
+</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Response</dt>
<dd>
<p>Normal message processing stops, fault message processing starts.
The message direction is reversed, if the message is not already a
fault message then it is replaced with a fault message<sup class="footnote">[<a id="_footnoteref_11" class="footnote" href="#_footnotedef_11" title="View footnote.">11</a>]</sup>, and the runtime invokes
<code>handleFault</code> on the nexthandler or dispatches the message (see
section <a href="#handmsgdispatch">Message Dispatch</a>) if there are no further handlers.</p>
</dd>
<dt class="hdlist1">No response</dt>
<dd>
<p>Normal message processing stops, <code>close</code> is called on each
previously invoked handler in the chain, the exception is dispatched
(see section <a href="#handexcepthandling">Exception Handling</a>).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">Throw any other runtime exception</dt>
<dd>
<p>This indicates that normal message processing should cease. Subsequent
actions depend on whether the MEP in use includes a response to the
message currently being processed or not:
+</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Response</dt>
<dd>
<p>Normal message processing stops, <code>close</code> is called on each
previously invoked handler in the chain, the message direction is
reversed, and the exception is dispatched (see section
<a href="#handexcepthandling">Exception Handling</a>).</p>
</dd>
<dt class="hdlist1">No response</dt>
<dd>
<p>Normal message processing stops, <code>close</code> is called on each
previously invoked handler in the chain, the exception is dispatched
(see section <a href="#handexcepthandling">Exception Handling</a>).</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="handlefault"><a class="anchor" href="#handlefault"></a>10.3.2.2. <code>handleFault</code></h5>
<div class="paragraph">
<p>Called for fault message processing, following completion of its work
the <code>handleFault</code> implementation can do one of the following:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Return <code>true</code></dt>
<dd>
<p>This indicates that fault message processing should continue. The
runtime invokes <code>handleFault</code> on the next handler or dispatches the
fault message (see section <a href="#handmsgdispatch">Message Dispatch</a>) if there are no further
handlers.</p>
</dd>
<dt class="hdlist1">Return <code>false</code></dt>
<dd>
<p>This indicates that fault message processing should cease. Fault
message processing stops, <code>close</code> is called on each previously invoked
handler in the chain, the fault message is dispatched (see section
<a href="#handmsgdispatch">Message Dispatch</a>).</p>
</dd>
<dt class="hdlist1">Throw <code>ProtocolException</code> or a subclass</dt>
<dd>
<p>This indicates that fault message processing should cease. Fault
message processing stops, <code>close</code> is called on each previously invoked
handler in the chain, the exception is dispatched (see section
<a href="#handexcepthandling">Exception Handling</a>).</p>
</dd>
<dt class="hdlist1">Throw any other runtime exception</dt>
<dd>
<p>This indicates that fault message processing should cease. Fault
message processing stops, <code>close</code> is called on each previously invoked
handler in the chain, the exception is dispatched (see section
<a href="#handexcepthandling">Exception Handling</a>).</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="close"><a class="anchor" href="#close"></a>10.3.2.3. <code>close</code></h5>
<div class="paragraph">
<p>A handler’s <code>close</code> method is called at the conclusion of a message
exchange pattern (MEP). It is called just prior to the binding
dispatching the final message, fault or exception of the MEP and may be
used to clean up per-MEP resources allocated by a handler. The <code>close</code>
method is only called on handlers that were previously invoked via
either <code>handleMessage</code> or <code>handleFault</code></p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Invoking <code>close</code> ):</em> At the conclusion of an MEP, an implementation MUST
call the <code>close</code> method of each handler that was previously invoked
during that MEP via either <code>handleMessage</code> or <code>handleFault</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Order of <code>close</code> invocations):</em> Handlers are invoked in the reverse order
in which they were first invoked to handle a message according to the
rules for normal message processing (see <a href="#handlerexecution">Handler Execution</a>).</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="handler-implementation-considerations"><a class="anchor" href="#handler-implementation-considerations"></a>10.3.3. Handler Implementation Considerations</h4>
<div class="paragraph">
<p>Handler instances may be pooled by a JAX-WS runtime system. All
instances of a specific handler are considered equivalent by a JAX-WS
runtime system and any instance may be chosen to handle a particular
message. Different handler instances may be used to handle each message
of an MEP. Different threads may be used for each handler in a handler
chain, for each message in an MEP or any combination of the two.
Handlers should not rely on thread local state to share information.
Handlers should instead use the message context, see section
<a href="#handmsgctxmngmt">Message Context</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="handmsgctxmngmt"><a class="anchor" href="#handmsgctxmngmt"></a>10.4. Message Context</h3>
<div class="paragraph">
<p>Handlers are invoked with a message context that provides methods to
access and modify inbound and outbound messages and to manage a set of
properties.</p>
</div>
<div class="paragraph">
<p>Different types of handler are invoked with different types of message
context. Sections <a href="#handmsgctxif">javax.xml.ws.handler.MessageContext</a> and <a href="#handlogmsgctx">javax.xml.ws.handler.LogicalMessageContext</a> describe
<code>MessageContext</code> and <code>LogicalMessageContext</code> respectively. In addition,
JAX-WS bindings may define a message context subtype for their
particular protocol binding that provides access to protocol specific
features. Section <a href="#soapbindmsgcontext">SOAP Message Context</a> describes the message context
subtype for the JAX-WS SOAP binding.</p>
</div>
<div class="sect3">
<h4 id="handmsgctxif"><a class="anchor" href="#handmsgctxif"></a>10.4.1. javax.xml.ws.handler.MessageContext</h4>
<div class="paragraph">
<p><code>MessageContext</code> is the super interface for all JAX-WS message contexts.
It extends <code>Map&lt;String,Object&gt;</code> with additional methods and constants to
manage a set of properties that enable handlers in a handler chain to
share processing related state. For example, a handler may use the <code>put</code>
method to insert a property in the message context that one or more
other handlers in the handler chain may subsequently obtain via the
<code>get</code> method.</p>
</div>
<div class="paragraph">
<p>Properties are scoped as either <code>APPLICATION</code> or <code>HANDLER</code>. All
properties are available to all handlers for an instance of an MEP on a
particular endpoint. E.g., if a logical handler puts a property in the
message context, that property will also be available to any protocol
handlers in the chain during the execution of an MEP instance.
<code>APPLICATION</code> scoped properties are also made available to client
applications (see section <a href="#bindingproviderconfig">Configuration</a>) and service endpoint
implementations. The defaultscope for a property is <code>HANDLER</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Message context property scope):</em> Properties in a message context MUST be
shared across all handler invocations for a particular instance of an
MEP on any particular endpoint.</p>
</div>
<div class="sect4">
<h5 id="stdbindingprops"><a class="anchor" href="#stdbindingprops"></a>10.4.1.1. Standard Message Context Properties</h5>
<div class="paragraph">
<p><a href="#Table 9.2">[Table 9.2]</a> lists the set of standard <code>MessageContext</code>
properties.</p>
</div>
<div class="paragraph">
<p>The standard properties form a set of metadata that describes the
context of a particular message. The property values may be manipulated
by client applications, service endpoint implementations, the JAX-WS
runtime or handlers deployed in a protocol binding. A JAX-WS runtime is
expected to implement support for those properties shown as mandatory
and may implement support for those properties shown as optional.</p>
</div>
<div class="paragraph">
<p><a href="#Table 9.3">[Table 9.3]</a> lists the standard <code>MessageContext</code>
properties specific to the HTTP protocol. These properties are only
required to be present when using an HTTP-based binding.</p>
</div>
<div class="paragraph">
<p><a href="#Table 9.4">[Table 9.4]</a> lists those properties that are
specific to endpoints running inside a servlet container. These
properties are only required to be present in the message context of an
endpoint that is deployed inside a servlet container and uses an
HTTP-based binding.</p>
</div>
<div id="Table 9.2" class="paragraph">
<p>Table 9.2: Standard <code>MessageContext</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>javax.xml.ws.handler.message</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.outbound</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the message direction: <code>true</code> for
                                         outbound messages, <code>false</code> for inbound messages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>javax.xml.ws.binding.attachments</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.inbound</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map\(&lt;\)String,DataHandler\(&gt;\)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A
map of attachments to an inbound message. The key is a unique identifier
for the attachment. The value is a <code>DataHandler</code> for the attachment
data. Bindings describe how to carry attachments with messages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.outbound</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map\(&lt;\)String,DataHandler\(&gt;\)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A map of attachments to an outbound message. The key is a unique
identifier for the attachment. The value is a <code>DataHandler</code> for the
attachment data. Bindings describe how to carry attachments with
messages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>javax.xml.ws.reference</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.parameters</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List&lt;Element&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A list of WS Addressing reference
parameters. The list MUST include all SOAP headers marked with the
<code>wsa:IsReferenceParameter= true</code> attribute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>javax.xml.ws.wsdl</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A resolvable URI that may be used to obtain
access to the WSDL for the endpoint.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.service</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>QName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name
of the service being invoked in the WSDL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name
of the port over which the current message was received in the WSDL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.interface</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the port type to which the
current message belongs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.operation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the WSDL
operation to which the current message belongs. The namespace is the
target namespace of the WSDL definitions element.</p></td>
</tr>
</tbody>
</table>
<div id="Table 9.3" class="paragraph">
<p>Table 9.3: Standard HTTP <code>MessageContext</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>javax.xml.ws.http.request</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.headers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map\(&lt;\)String,List\(&lt;\)String\(&gt;\)\(&gt;\)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A map of the HTTP headers for the request message. The key is the
header name. The value is a list of values for that header.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.method</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The HTTP method for the request message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.querystring</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The HTTP query string for the request message, or <code>null</code>
if the request does not have any. If the address specified using the
javax.xml.ws.service.endpoint.address in the BindingProvider contains a
query string and if the querystring property is set by the client it
will override the existing query string in the
javax.xml.ws.service.endpoint.address property. The value of the
property does not include the leading ``?'' of the query string in it.
This property is only used with HTTP binding.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.pathinfo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extra path information associated with the URL the client sent when it
made this request. The extra path information follows the base url path
but precedes the query string and will start with a "/" character.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>javax.xml.ws.http.response</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.headers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map\(&lt;\)String,List\(&lt;\)String\(&gt;\)\(&gt;\)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A map of the HTTP headers for the response message. The key is the
header name. The value is a list of values for that header.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.code</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The HTTP response status code.</p></td>
</tr>
</tbody>
</table>
<div id="Table 9.4" class="paragraph">
<p>Table 9.4: Standard Servlet Container-Specific <code>MessageContext</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>javax.xml.ws.servlet</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.context</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">javax.servlet.ServletContext</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>ServletContext</code>
object belonging to the web application that contains the endpoint.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.request</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">javax.servlet.http.HttpServletRequest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
<code>HttpServletRequest</code> object associated with the request currently being
served.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.response</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">javax.servlet.http.HttpServletResponse</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
<code>HttpServletResponse</code> object associated with the request currently being
served.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="handlogmsgctx"><a class="anchor" href="#handlogmsgctx"></a>10.4.2. javax.xml.ws.handler.LogicalMessageContext</h4>
<div class="paragraph">
<p>Logical handlers (see section <a href="#handlertypes">Types of Handler</a>) are passed a message
context of type <code>LogicalMessageContext</code> when invoked.
<code>LogicalMessageContext</code> extends <code>MessageContext</code> with methods to obtain
and modify the message payload, it does not provide access to the
protocol specific aspects of a message. A protocol binding defines what
component of a message are available via a logical message context.
E.g., the SOAP binding, see section <a href="#soapbindchaphand">SOAP Handlers</a>, defines that a
logical handler deployed in a SOAP binding can access the contents of
the SOAP body but not the SOAP headers whereas the XML/HTTP binding
described in chapter <a href="#xmlbindchap">HTTP Binding</a> defines that a logical handler can
access the entire XML payload of a message.</p>
</div>
<div class="paragraph">
<p>The <code>getSource()</code> method of <code>LogicalMessageContext</code> MUST return null
whenever the message doesn’t contain an actual payload. A case in which
this might happen is when, on the server, the endpoint implementation
has thrown an exception and the protocol in use does not define a notion
of payload for faults (e.g. the HTTP binding defined in chapter
<a href="#xmlbindchap">HTTP Binding</a>).</p>
</div>
</div>
<div class="sect3">
<h4 id="reltojaxwsctx"><a class="anchor" href="#reltojaxwsctx"></a>10.4.3. Relationship to Application Contexts</h4>
<div class="paragraph">
<p>Client side binding providers have methods to access contexts for
outbound and inbound messages. As described in section
<a href="#bindingproviderconfig">Configuration</a> these contexts are used to initialize a message
context at the start of a message exchange and to obtain application
scoped properties from a message context at the end of a message
exchange.</p>
</div>
<div class="paragraph">
<p>As described in chapter <a href="#serviceapis">Service APIs</a>, service endpoint implementations
may require injection of a context from which they can access the
message context for each inbound message and manipulate the
corresponding application-scoped properties.</p>
</div>
<div class="paragraph">
<p>Handlers may manipulate the values and scope of properties within the
message context as desired. E.g., a handler in a client-side SOAP
binding might introduce a header into a SOAP request message to carry
metadata from a property that originated in a <code>BindingProvider</code> request
context; a handler in a server-side SOAP binding might add application
scoped properties to the message context from the contents of a header
in a request SOAP message that is then made available in the context
available (via injection) to a service endpoint implementation.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="soapbindchap"><a class="anchor" href="#soapbindchap"></a>11. SOAP Binding</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes the JAX-WS SOAP binding and its extensions to the
handler framework (described in chapter <a href="#handfmwk">Handler Framework</a>) for SOAP message
processing.</p>
</div>
<div class="sect2">
<h3 id="configuration-1"><a class="anchor" href="#configuration-1"></a>11.1. Configuration</h3>
<div class="paragraph">
<p>A SOAP binding instance requires SOAP specific configuration in addition
to that described in section <a href="#handlerconfig">Configuration</a>. The additional information
can be configured either programmatically or using deployment metadata.
The following subsections describe each form of configuration.</p>
</div>
<div class="sect3">
<h4 id="programmatic-configuration"><a class="anchor" href="#programmatic-configuration"></a>11.1.1. Programmatic Configuration</h4>
<div class="paragraph">
<p>JAX-WS defines APIs for programmatic configuration of client-side SOAP
bindings. Server side bindings can be configured programmatically when
using the <code>Endpoint</code> API (see <a href="#endpointif">javax.xml.ws.Endpoint</a>), but are otherwise expected
to be configured using annotations or deployment metadata.</p>
</div>
<div class="sect4">
<h5 id="soap-roles"><a class="anchor" href="#soap-roles"></a>11.1.1.1. SOAP Roles</h5>
<div class="paragraph">
<p>SOAP 1.1<a href="#bib2">[2]</a> and SOAP 1.2<a href="#3">[3]</a><a href="#4">[4]</a> use different terminology
for the same concept: a SOAP 1.1 <em>actor</em> is equivalent to a SOAP 1.2
<em>role</em>. This specification uses the SOAP 1.2 terminology.</p>
</div>
<div class="paragraph">
<p>An ultimate SOAP receiver always plays the following roles:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Next</dt>
<dd>
<p>In SOAP 1.1, the next role is identified by the URI
<a href="http://schemas.xmlsoap.org/soap/actor/next" class="bare">http://schemas.xmlsoap.org/soap/actor/next</a>. In SOAP 1.2, the next role
is identified by the URI
<a href="http://www.w3.org/2003/05/soap-envelope/role/next" class="bare">http://www.w3.org/2003/05/soap-envelope/role/next</a>.</p>
</dd>
<dt class="hdlist1">Ultimate receiver</dt>
<dd>
<p>In SOAP 1.1 the ultimate receiver role is identified by omission of
the <code>actor</code> attribute from a SOAP header. In SOAP 1.2 the ultimate
receiver role is identified by the URI
<a href="http://www.w3.org/2003/05/soap-envelope/role/ultimateReceiver" class="bare">http://www.w3.org/2003/05/soap-envelope/role/ultimateReceiver</a> or by
omission of the <code>role</code> attribute from a SOAP header.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><em>♦ Conformance (SOAP required roles):</em> An implementation of the SOAP binding MUST act in
the following roles: next and ultimate receiver.</p>
</div>
<div class="paragraph">
<p>A SOAP 1.2 endpoint never plays the following role:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">None</dt>
<dd>
<p>In SOAP 1.2, the none role is identified by the URI
<a href="http://www.w3.org/2003/05/soap-envelope/role/none" class="bare">http://www.w3.org/2003/05/soap-envelope/role/none</a>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><em>♦ Conformance (SOAP required roles):</em> An implementation of the SOAP binding MUST NOT act
in the none role.</p>
</div>
<div class="paragraph">
<p>The <code>javax.xml.ws.SOAPBinding</code> interface is an abstraction of the JAX-WS
SOAP binding. It extends <code>javax.xml.ws.Binding</code> with methods to
configure additional SOAP roles played by the endpoint.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Default role visibility):</em> An implementation MUST include the required
next and ultimate receiver roles in the <code>Set</code> returned from
<code>SOAPBinding.getRoles</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Default role persistence):</em> An implementation MUST add the required next
and ultimate receiver roles to the roles configured with
<code>SOAPBinding.setRoles</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (None role error):</em> An implementation MUST throw <code>WebServiceException</code> if
a client attempts to configure the binding to play the none role via
<code>SOAPBinding.setRoles</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="soapbindchaphand"><a class="anchor" href="#soapbindchaphand"></a>11.1.1.2. SOAP Handlers</h5>
<div class="paragraph">
<p>The handler chain for a SOAP binding is configured as described in
section <a href="#handfmwrkprogconf">Programmatic Configuration</a>. The handler chain may contain handlers of
the following types:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Logical</dt>
<dd>
<p>Logical handlers are handlers that implement
<code>javax.xml.ws.handler.LogicalHandler</code> either directly or indirectly.
Logical handlers have access to the content of the SOAP body via the
logical message context.</p>
</dd>
<dt class="hdlist1">SOAP</dt>
<dd>
<p>SOAP handlers are handlers that implement
<code>javax.xml.ws.handler.soap.SOAPHandler</code>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Mime attachments specified by the
<code>javax.xml.ws.binding.attachments.inbound</code> and
<code>javax.xml.ws.binding.attachments.outbound</code> properties defined in the
<code>MessageContext</code> <a href="#stdbindingpropstbl">[stdbindingpropstbl]</a> can be modified in logical
handlers. A SOAP message with the attachments specified using the
properties is generated before invoking the first <code>SOAPHandler</code>. Any
changes to the two properites in consideration above in the
<code>MessageContext</code> after invoking the first <code>SOAPHandler</code> are ignored. The
<code>SOAPHandler</code> however may change the properties in the <code>MessageContext</code></p>
</div>
<div class="paragraph">
<p>Use of <code>javax.xml.ws.binding.attachments.outbound</code> property in Dispatch</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When using <code>Dispatch</code> in SOAP / HTTP binding in payload mode,
attachments specified using the
<code>javax.xml.ws.binding.attachments.outbound</code> property will be included as
mime attachments in the message.</p>
</li>
<li>
<p>When using <code>Dispatch</code> in SOAP / HTTP binding in message mode, the
<code>javax.xml.ws.binding.attachments.outbound</code> property will be ignored as
the message type already provides a way to specify attachments.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Incompatible handlers):</em> An implementation MUST throw
<code>WebServiceException</code> when, at the time a binding provider is created,
the handler chain returned by the configured <code>HandlerResolver</code> contains
an incompatible handler.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Incompatible handlers):</em> Implementations MUST throw a
<code>WebServiceException</code> when attempting to configure an incompatible
handler using <code>Binding.setHandlerChain</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Logical handler access):</em> An implementation MUST allow access to the
contents of the SOAP body via a logical message context.</p>
</div>
</div>
<div class="sect4">
<h5 id="soap-headers"><a class="anchor" href="#soap-headers"></a>11.1.1.3. SOAP Headers</h5>
<div class="paragraph">
<p>The SOAP headers understood by a handler are obtained using the
<code>getHeaders</code> method of <code>SOAPHandler</code>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="deployment-model-1"><a class="anchor" href="#deployment-model-1"></a>11.1.2. Deployment Model</h4>
<div class="paragraph">
<p>JAX-WS defines no standard deployment model for handlers. Such a model
is provided by JSR 109<a href="#bib17">[17]</a> Implementing Enterprise
Web Services.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="processing-model"><a class="anchor" href="#processing-model"></a>11.2. Processing Model</h3>
<div class="paragraph">
<p>The SOAP binding implements the general handler framework processing
model described in section <a href="#handprocmodel">Processing Model</a> but extends it to include
SOAP specific processing as described in the following subsections.</p>
</div>
<div class="sect3">
<h4 id="soapmuprocrules"><a class="anchor" href="#soapmuprocrules"></a>11.2.1. SOAP <code>mustUnderstand</code> Processing</h4>
<div class="paragraph">
<p>The SOAP protocol binding performs the following additional processing
on inbound SOAP messages prior to the start of normal handler invocation
processing (see section <a href="#handlerexecution">Handler Execution</a>). Refer to the SOAP
specification<a href="#2">[2]</a><a href="#3">[3]</a><a href="#4">[4]</a> for a normative description of the
SOAP processing model. This section is not intended to supercede any
requirement stated within the SOAP specification, but rather to outline
how the configuration information described above is combined to satisfy
the SOAP requirements:</p>
</div>
<div id="muhandroleset" class="olist arabic">
<ol class="arabic">
<li>
<p>Obtain the set of SOAP roles for the current binding
instance. This is returned by <code>SOAPBinding.getRoles</code>.</p>
</li>
<li>
<p>Obtain the set of <code>Handler`s deployed on the current
binding instance. This is obtained via `Binding.getHandlerChain</code>.</p>
</li>
<li>
<p>Identify the set of header qualified names
(QNames) that the binding instance understands. This is the set of all
header `QName`s that satisfy at least one of the following conditions:</p>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p>that are mapped to method parameters in the service endpoint
interface;</p>
</li>
<li>
<p>are members of <code>SOAPHandler.getHeaders()</code> for each <code>SOAPHandler</code> in
the set obtained in step <a href="#muhandinfoset">[muhandinfoset]</a>;</p>
</li>
<li>
<p>are directly supported by the binding instance.</p>
</li>
</ol>
</div>
</li>
<li>
<p><a href="#mutargettedheaders">[mutargettedheaders]</a> Identify the set of must understand headers in
the inbound message that are targeted at this node. This is the set of
all headers with a <code>mustUnderstand</code> attribute whose value is <code>1</code> or
<code>true</code> and an <code>actor</code> or <code>role</code> attribute whose value is in the set
obtained in step <a href="#muhandroleset">[muhandroleset]</a>.</p>
</li>
<li>
<p>For each header in the set obtained in step <a href="#mutargettedheaders">[mutargettedheaders]</a>,
the header is understood if its QName is in the set identified in step
<a href="#muunderstoodheaders">[muunderstoodheaders]</a>.</p>
</li>
<li>
<p>If every header in the set obtained in step <a href="#mutargettedheaders">[mutargettedheaders]</a> is
understood, then the node understands how to process the message.
Otherwise the node does not understand how to process the message.</p>
</li>
<li>
<p>If the node does not understand how to process the message, then
neither handlers nor the endpoint are invoked and instead the binding
generates a SOAP must understand exception. Subsequent actions depend on
whether the message exchange pattern (MEP) in use requires a response to
the message currently being processed or not:</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Response</dt>
<dd>
<p>The message direction is reversed and the binding dispatches the SOAP
must understand exception (see section <a href="#soap11excepthandling">Exception Handling</a>).</p>
</dd>
<dt class="hdlist1">No response</dt>
<dd>
<p>The binding dispatches the SOAP must understand exception (see section
<a href="#soap11excepthandling">Exception Handling</a>).</p>
</dd>
</dl>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="soap11excepthandling"><a class="anchor" href="#soap11excepthandling"></a>11.2.2. Exception Handling</h4>
<div class="paragraph">
<p>The following subsections describe SOAP specific requirements for
handling exceptions thrown by handlers and service endpoint
implementations.</p>
</div>
<div class="sect4">
<h5 id="handler-exceptions"><a class="anchor" href="#handler-exceptions"></a>11.2.2.1. Handler Exceptions</h5>
<div class="paragraph">
<p>A binding is responsible for catching runtime exceptions thrown by
handlers and following the processing model described in section
<a href="#handlerexecution">Handler Execution</a>. A binding is responsible for converting the
exception to a fault message subject to further handler processing if
the following criteria are met:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A handler throws a <code>ProtocolException</code> from <code>handleMessage</code></p>
</li>
<li>
<p>The MEP in use includes a response to the message being processed</p>
</li>
<li>
<p>The current message is not already a fault message (the handler
might have undertaken the work prior to throwing the exception).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If the above criteria are met then the exception is converted to a SOAP
fault message as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the exception is an instance of <code>SOAPFaultException</code> then the
fields of the contained SAAJ <code>SOAPFault</code> are serialized to a new SOAP
fault message, see section <a href="#mapextosoapfault">Mapping Exceptions to SOAP Faults</a>. The current message is
replaced by the new SOAP fault message.</p>
</li>
<li>
<p>If the exception is of any other type then a new SOAP fault message is
created to reflect a server class of error for SOAP 1.1<a href="#bib2">[2]</a>
or a receiver class of error for SOAP 1.2<a href="#bib3">[3]</a>.</p>
</li>
<li>
<p>Handler processing is resumed as described in section
<a href="#handlerexecution">Handler Execution</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the criteria for converting the exception to a fault message subject
to further handler processing are not met then the exception is handled
as follows depending on the current message direction:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Outbound</dt>
<dd>
<p>A new SOAP fault message is created to reflect a server class of error
for SOAP 1.1<a href="#bib2">[2]</a> or a receiver class of error for SOAP
1.2<a href="#bib3">[3]</a> and the message is
dispatched.</p>
</dd>
<dt class="hdlist1">Inbound</dt>
<dd>
<p>The exception is passed to the binding provider.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="service-endpoint-exceptions"><a class="anchor" href="#service-endpoint-exceptions"></a>11.2.2.2. Service Endpoint Exceptions</h5>
<div class="paragraph">
<p>Service endpoints can throw service specific exceptions or runtime
exceptions. In both cases they can provide protocol specific information
using the cause mechanism, see section <a href="#protocolspecificfaults">Protocol Specific Exception Handling</a>.</p>
</div>
<div class="paragraph">
<p>A server side implementation of the SOAP binding is responsible for
catching exceptions thrown by a service endpoint implementation and, if
the message exchange pattern in use includes a response to the message
that caused the exception, converting such exceptions to SOAP fault
messages and invoking the <code>handleFault</code> method on handlers for the fault
message as described in section <a href="#handlerexecution">Handler Execution</a>.</p>
</div>
<div class="paragraph">
<p>Section <a href="#mapextosoapfault">Mapping Exceptions to SOAP Faults</a> describes the rules for mapping an exception
to a SOAP fault.</p>
</div>
</div>
<div class="sect4">
<h5 id="mapextosoapfault"><a class="anchor" href="#mapextosoapfault"></a>11.2.2.3. Mapping Exceptions to SOAP Faults</h5>
<div class="paragraph">
<p>When mapping an exception to a SOAP fault, the fields of the fault
message are populated according to the following rules of precedence:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>faultcode</code> (<code>Subcode</code> in SOAP 1.2, <code>Code</code> set to <code>env:Receiver</code>)</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>SOAPFaultException.getFault().getFaultCodeAsQName()</code></p>
</li>
<li>
<p><code>env:Server</code> (<code>Subcode</code> omitted for SOAP 1.2).</p>
</li>
</ol>
</div>
</li>
<li>
<p><code>faultstring</code> (<code>Reason/Text</code></p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>SOAPFaultException.getFault().getFaultString()</code></p>
</li>
<li>
<p><code>Exception.getMessage()</code></p>
</li>
<li>
<p><code>Exception.toString()</code></p>
</li>
</ol>
</div>
</li>
<li>
<p><code>faultactor</code> (<code>Role</code> in SOAP 1.2)</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>SOAPFaultException.getFault().getFaultActor()</code></p>
</li>
<li>
<p>Empty</p>
</li>
</ol>
</div>
</li>
<li>
<p><code>detail</code> (<code>Detail</code> in SOAP 1.2)</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Serialized service specific exception (see
<em>WrapperException</em>.<code>getFaultInfo()</code> in section <a href="#faulttoexceptmap">Fault</a>)</p>
</li>
<li>
<p><code>SOAPFaultException.getFault().getDetail()</code></p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="soapbindmsgcontext"><a class="anchor" href="#soapbindmsgcontext"></a>11.3. SOAP Message Context</h3>
<div class="paragraph">
<p>SOAP handlers are passed a <code>SOAPMessageContext</code> when invoked.
<code>SOAPMessageContext</code> extends <code>MessageContext</code> with methods to obtain and
modify the SOAP message payload.</p>
</div>
</div>
<div class="sect2">
<h3 id="soapbindprotocols"><a class="anchor" href="#soapbindprotocols"></a>11.4. SOAP Transport and Transfer Bindings</h3>
<div class="paragraph">
<p>SOAP<a href="#2">[2]</a><a href="#4">[4]</a> can be bound
to multiple transport or transfer protocols. This section describes
requirements pertaining to the supported protocols for use with SOAP.</p>
</div>
<div class="sect3">
<h4 id="soapbindhttp"><a class="anchor" href="#soapbindhttp"></a>11.4.1. HTTP</h4>
<div class="paragraph">
<p>The SOAP 1.1 HTTP binding is identified by the URL
<code><a href="http://schemas.xmlsoap.org/wsdl/soap/http" class="bare">http://schemas.xmlsoap.org/wsdl/soap/http</a></code>, which is also the value of
the constant <code>javax.xml.ws.soap.SOAPBinding.SOAP11HTTP_BINDING</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (SOAP 1.1 HTTP Binding Support):</em> An implementation MUST support the HTTP
binding of SOAP 1.1<a href="#bib2">[2]</a> and SOAP With Attachments<a href="#38">[38]</a> as clarified by the WS-I Basic
Profile<a href="#bib20">[20]</a>, WS-I Simple SOAP
Binding Profile<a href="#bib32">[32]</a> and WS-I Attachment Profile<a href="#33">[33]</a>.</p>
</div>
<div class="paragraph">
<p>The SOAP 1.2 HTTP binding is identified by the URL
<code><a href="http://www.w3.org/2003/05/soap/bindings/HTTP/" class="bare">http://www.w3.org/2003/05/soap/bindings/HTTP/</a></code>, which is also the value
of the constant <code>javax.xml.ws.soap.SOAPBinding.SOAP12HTTP_BINDING</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (SOAP 1.2 HTTP Binding Support):</em> An implementation MUST support the HTTP
binding of SOAP 1.2<a href="#bib4">[4]</a>.</p>
</div>
<div class="sect4">
<h5 id="mtom"><a class="anchor" href="#mtom"></a>11.4.1.1. MTOM</h5>
<div class="paragraph">
<p><em>♦ Conformance (SOAP MTOM Support):</em> An implementation MUST support MTOM<a href="#bib30">[30]</a>
<sup class="footnote">[<a id="_footnoteref_12" class="footnote" href="#_footnotedef_12" title="View footnote.">12</a>]</sup></a>/XOP<a href="#bib31">[31]</a> mechanism for optimizing transmission
of binary data types, see section <a href="#wsdl11typemapping">Types</a>.].</p>
</div>
<div class="paragraph">
<p><code>SOAPBinding</code> defines a property (in the JavaBeans sense) called
<code>MTOMEnabled</code> that can be used to control the use of MTOM. The
<code>getMTOMEnabled</code> method is used to query the current value of the
property. The <code>setMTOMEnabled</code> method is used to change the value of the
property so as to enable or disable the use of MTOM.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Semantics of MTOM enabled):</em> When MTOM is enabled, a receiver MUST accept
both non-optimized and optimized messages, and a sender MAY send an
optimized message, non-optimized messages being also acceptable.</p>
</div>
<div class="paragraph">
<p>The heuristics used by a sender to determine whether to use optimization
or not are implementation-specific.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (MTOM support):</em> Predefined <code>SOAPBinding</code> instances MUST support
enabling/disabling MTOM support using the <code>setMTOMenabled</code> method.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (SOAP bindings with MTOM disabled):</em> The bindings corresponding to the
following IDs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>javax.xml.ws.soap.SOAPBinding.SOAP11HTTP_BINDING</code></p>
</li>
<li>
<p><code>javax.xml.ws.soap.SOAPBinding.SOAP12HTTP_BINDING</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>MUST have MTOM disabled by default.</p>
</div>
<div class="paragraph">
<p>For convenience, this specification defines two additional binding
identifiers for SOAP 1.1 and SOAP 1.2 over HTTP with MTOM enabled.</p>
</div>
<div class="paragraph">
<p>The URL of the former is
<code><a href="http://schemas.xmlsoap.org/wsdl/soap/http?mtom=true" class="bare">http://schemas.xmlsoap.org/wsdl/soap/http?mtom=true</a></code> and its predefined
constant <code>javax.xml.ws.soap.SOAPBinding.SOAP11HTTP_MTOM_BINDING</code>.</p>
</div>
<div class="paragraph">
<p>The URL of the latter is
<code><a href="http://www.w3.org/2003/05/soap/bindings/HTTP/?mtom=true" class="bare">http://www.w3.org/2003/05/soap/bindings/HTTP/?mtom=true</a></code> and its
predefined constant
<code>javax.xml.ws.soap.SOAPBinding.SOAP12HTTP_MTOM_BINDING</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (SOAP bindings with MTOM enabled):</em> The bindings corresponding to the
following IDs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>javax.xml.ws.soap.SOAPBinding.SOAP11HTTP_MTOM_BINDING</code></p>
</li>
<li>
<p><code>javax.xml.ws.soap.SOAPBinding.SOAP12HTTP_MTOM_BINDING</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>MUST have MTOM enabled by default.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (MTOM on Other SOAP Bindings):</em> Other bindings that extend <code>SOAPBinding</code>
MAY NOT support changing the value of the <code>MTOMEnabled</code> property. In
this case, if an application attempts to change its value, an
implementation MUST throw a <code>WebServiceException</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="one-way-operations"><a class="anchor" href="#one-way-operations"></a>11.4.1.2. One-way Operations</h5>
<div class="paragraph">
<p>HTTP interactions are request-response in nature. When using HTTP as the
transfer protocol for a one-way SOAP message, implementations wait for
the HTTP response even though there is no SOAP message in the HTTP
response entity body.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (One-way operations):</em> When invoking one-way operations, an implementation
of the SOAP/HTTP binding MUST block until the HTTP response is received
or an error occurs.</p>
</div>
<div class="paragraph">
<p>Note that completion of the HTTP request simply means that the
transmission of the request is complete, not that the request was
accepted or processed.</p>
</div>
</div>
<div class="sect4">
<h5 id="security"><a class="anchor" href="#security"></a>11.4.1.3. Security</h5>
<div class="paragraph">
<p>Section <a href="#stdbpprops">Standard Properties</a> defines two standard context properties
(<code>javax.xml.ws.security.auth.username</code> and
<code>javax.xml.ws.security.auth.password</code>) that may be used to configure
authentication information.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (HTTP basic authentication support):</em> An implementation of the SOAP/HTTP
binding MUST support HTTP basic authentication.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Authentication properties):</em> A client side implementation MUST support
use of the the standard properties <code>javax.xml.ws.security.auth.username</code>
and <code>javax.xml.ws.security.auth.password</code> to configure HTTP basic
authentication.</p>
</div>
</div>
<div class="sect4">
<h5 id="session-management-1"><a class="anchor" href="#session-management-1"></a>11.4.1.4. Session Management</h5>
<div class="paragraph">
<p>Section <a href="#stdbpprops">Standard Properties</a> defines a standard context property
(<code>javax.xml.ws.session.maintain</code>) that may be used to control whether a
client side runtime will join a session initiated by a service.</p>
</div>
<div class="paragraph">
<p>A SOAP/HTTP binding implementation can use three HTTP mechanisms for
session management:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Cookies</dt>
<dd>
<p>To initiate a session a service includes a cookie in a message sent to
a client. The client stores the cookie and returns it in subsequest
messages to the service.</p>
</dd>
<dt class="hdlist1">URL rewriting</dt>
<dd>
<p>To initiate a session a service directs a client to a new URL for
subsequent interactions. The new URL contains an encoded session
identifier.</p>
</dd>
<dt class="hdlist1">SSL</dt>
<dd>
<p>The SSL session ID is used to track a session.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>R1120 in WS-I Basic Profile 1.1<a href="#bib20">[20]</a>
allows a service to use HTTP cookies. However, R1121 recommends
that a service should not rely on use of cookies for state management.</p>
</div>
<div class="paragraph">
<p>[URL rewriting support] An implementation MUST support use of HTTP URL
rewriting for state management.</p>
</div>
<div class="paragraph">
<p>[Cookie support] An implementation SHOULD support use of HTTP cookies
for state management.</p>
</div>
<div class="paragraph">
<p>[SSL session support] An implementation MAY support use of SSL session
based state management.</p>
</div>
</div>
<div class="sect4">
<h5 id="addressing"><a class="anchor" href="#addressing"></a>11.4.1.5. Addressing</h5>
<div class="paragraph">
<p>If addressing is enabled, implementations are required to follow
WS-Addressing<a href="#bib26">[26]</a><a href="#bib37">[37]</a><a href="#bib27">[27]</a> protocols.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (SOAP Addressing Support):</em> An implementation MUST support WS-Addressing
1.0 - SOAP Binding<a href="#bib37">[37]</a>.</p>
</div>
<div class="paragraph">
<p>_♦ Conformance (<code>wsa:Action</code> value): <code>wsa:Action</code> value MUST be got from <code>@Action</code>
annotation elements in SEI, if present. But if a client sets a
<code>BindingProvider.SOAPACTION_URI_PROPERTY</code> property then that MUST be
used for <code>wsa:Action</code> header.</p>
</div>
<div class="paragraph">
<p>If a receiver receives messages with the WS-Addressing headers that are
non-conformant as per WS-Addressing 1.0- SOAP Binding<a href="#bib37">[37]</a>,
then appropriate addressing pre-defined faults must be
generated.</p>
</div>
<div class="paragraph">
<p>A JAX-WS application may send <code>wsa:replyTo</code> or <code>wsa:FaultTo</code> addressing
header to receive non-anonymous responses at a different address other
than the transport back channel. When the application receives a
response at a different address, there is no standard way to communicate
the response with the JAX-WS client runtime. Hence, there are no
requirements on a JAX-WS client runtime to bind non-anonymous responses.
A JAX-WS client runtime may start an endpoint to receive a non-anonymous
response and may use the response to bind to the java parameters and
return type. However, it is not required to do so.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xmlbindchap"><a class="anchor" href="#xmlbindchap"></a>12. HTTP Binding</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes the JAX-WS XML/HTTP binding. The JAX-WS XML/HTTP
binding provides raw XML over HTTP messaging capabilities as used in
many Web services today.</p>
</div>
<div class="sect2">
<h3 id="configuration-2"><a class="anchor" href="#configuration-2"></a>12.1. Configuration</h3>
<div class="paragraph">
<p>The XML/HTTP binding is identified by the URL
<code><a href="http://www.w3.org/2004/08/wsdl/http" class="bare">http://www.w3.org/2004/08/wsdl/http</a></code>, which is also the value of the
constant <code>javax.xml.ws.http.HTTPBinding.HTTP_BINDING</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (XML/HTTP Binding Support):</em> An implementation MUST support the XML/HTTP
binding.</p>
</div>
<div class="paragraph">
<p>An XML/HTTP binding instance allows HTTP-specific configuration in
addition to that described in section <a href="#handlerconfig">Configuration</a>. The additional
information can be configured either programmatically or using
deployment metadata. The following subsections describe each form of
configuration.</p>
</div>
<div class="sect3">
<h4 id="programmatic-configuration-1"><a class="anchor" href="#programmatic-configuration-1"></a>12.1.1. Programmatic Configuration</h4>
<div class="paragraph">
<p>JAX-WS only defines APIs for programmatic configuration of client side
XML/HTTP bindings – server side bindings are expected to be configured
using deployment metadata.</p>
</div>
<div class="sect4">
<h5 id="xmlbindchaphand"><a class="anchor" href="#xmlbindchaphand"></a>12.1.1.1. HTTP Handlers</h5>
<div class="paragraph">
<p>The handler chain for an XML/HTTP binding is configured as described in
section <a href="#handfmwrkprogconf">Programmatic Configuration</a>. The handler chain may contain handlers of
the following types:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Logical</dt>
<dd>
<p>Logical handlers are handlers that implement
<code>javax.xml.ws.handler.LogicalHandler</code> either directly or indirectly.
Logical handlers have access to the entire XML message via the logical
message context.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Use of <code>javax.xml.ws.binding.attachments.outbound</code> property in Dispatch</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When using <code>Dispatch</code> in XML / HTTP binding in payload mode,
attachments specified using the
<code>javax.xml.ws.binding.attachments.outbound</code> property will be included as
mime attachments to the message.</p>
</li>
<li>
<p>When using <code>Dispatch</code> in XML / HTTP binding in message mode, the
<code>javax.xml.ws.binding.attachments.outbound</code> property will be ignored.
<code>Dispatch</code> of type <code>DataSource</code> should be used to send mime attachments
for the XML / HTTP binding in message mode.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Incompatible handlers):</em> An implementation MUST throw
<code>WebServiceException</code> when, at the time a binding provider is created,
the handler chain returned by the configured <code>HandlerResolver</code> contains
an incompatible handler.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Incompatible handlers):</em> Implementations MUST throw a
<code>WebServiceException</code> when attempting to configure an incompatible
handler using <code>Binding.setHandlerChain</code>.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Logical handler access):</em> An implementation MUST allow access to the
entire XML message via a logical message context.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="deployment-model-2"><a class="anchor" href="#deployment-model-2"></a>12.1.2. Deployment Model</h4>
<div class="paragraph">
<p>JAX-WS defines no standard deployment model for handlers. Such a model
is provided by JSR 109<a href="#bib17">[17]</a> Implementing Enterprise
Web Services.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="processing-model-1"><a class="anchor" href="#processing-model-1"></a>12.2. Processing Model</h3>
<div class="paragraph">
<p>The XML/HTTP binding implements the general handler framework processing
model described in section <a href="#handprocmodel">Processing Model</a>.</p>
</div>
<div class="sect3">
<h4 id="xmlexcepthandling"><a class="anchor" href="#xmlexcepthandling"></a>12.2.1. Exception Handling</h4>
<div class="paragraph">
<p>The following subsections describe HTTP specific requirements for
handling exceptions thrown by handlers and service endpoint
implementations.</p>
</div>
<div class="sect4">
<h5 id="handler-exceptions-1"><a class="anchor" href="#handler-exceptions-1"></a>12.2.1.1. Handler Exceptions</h5>
<div class="paragraph">
<p>A binding is responsible for catching runtime exceptions thrown by
handlers and following the processing model described in section
<a href="#handlerexecution">Handler Execution</a>. A binding is responsible for converting the
exception to a fault message subject to further handler processing if
the following criteria are met:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A handler throws a <code>ProtocolException</code> from <code>handleMessage</code></p>
</li>
<li>
<p>The MEP in use includes a response to the message being processed</p>
</li>
<li>
<p>The current message is not already a fault message (the handler
might have undertaken the work prior to throwing the exception).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If the above criteria are met then the exception is converted to a HTTP
response message as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the exception is an instance of <code>HTTPException</code> then the HTTP
response code is set according to the value of the <code>statusCode</code>
property. Any current XML message content is removed.</p>
</li>
<li>
<p>If the exception is of any other type then the HTTP status code is set
to 500 to reflect a server class of error and any current XML message
content is removed.</p>
</li>
<li>
<p>Handler processing is resumed as described in section
<a href="#handlerexecution">Handler Execution</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the criteria for converting the exception to a fault message subject
to further handler processing are not met then the exception is handled
as follows depending on the current message direction:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Outbound</dt>
<dd>
<p>The HTTP status code is set to 500 to reflect a server class of error,
any current XML message content is removed and the message is
dispatched.</p>
</dd>
<dt class="hdlist1">Inbound</dt>
<dd>
<p>The exception is passed to the binding provider.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="service-endpoint-exceptions-1"><a class="anchor" href="#service-endpoint-exceptions-1"></a>12.2.1.2. Service Endpoint Exceptions</h5>
<div class="paragraph">
<p>Service endpoints can throw service specific exceptions or runtime
exceptions. In both cases they can provide protocol specific information
using the cause mechanism, see section <a href="#protocolspecificfaults">Protocol Specific Exception Handling</a>.</p>
</div>
<div class="paragraph">
<p>A server side implementation of the XML/HTTP binding is responsible for
catching exceptions thrown by a service endpoint implementation and, if
the message exchange pattern in use includes a response to the message
that caused the exception, converting such exceptions to HTTP response
messages and invoking the <code>handleFault</code> method on handlers for the
response message as described in section <a href="#handlerexecution">Handler Execution</a>.</p>
</div>
<div class="paragraph">
<p>Section <a href="#mapextohttpfault">Mapping Exceptions to a HTTP Status Code</a> describes the rules for mapping an exception
to a HTTP status code.</p>
</div>
</div>
<div class="sect4">
<h5 id="mapextohttpfault"><a class="anchor" href="#mapextohttpfault"></a>12.2.1.3. Mapping Exceptions to a HTTP Status Code</h5>
<div class="paragraph">
<p>When mapping an exception to a HTTP status code, the status code of the
HTTP fault message is populated according to the following rules of
precedence:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>`HTTPException.getStatusCode()`<sup class="footnote">[<a id="_footnoteref_13" class="footnote" href="#_footnotedef_13" title="View footnote.">13</a>]</sup></p>
</li>
<li>
<p><code>500</code>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="xmlbindhttp"><a class="anchor" href="#xmlbindhttp"></a>12.3. HTTP Support</h3>
<div class="sect3">
<h4 id="one-way-operations-1"><a class="anchor" href="#one-way-operations-1"></a>12.3.1. One-way Operations</h4>
<div class="paragraph">
<p>HTTP interactions are request-response in nature. When used for one-way
messages, implementations wait for the HTTP response even though there
is no XML message in the HTTP response entity body.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (One-way operations):</em> When invoking one-way operations, an implementation
of the XML/HTTP binding MUST block until the HTTP response is received
or an error occurs.</p>
</div>
<div class="paragraph">
<p>Note that completion of the HTTP request simply means that the
transmission of the request is complete, not that the request was
accepted or processed.</p>
</div>
</div>
<div class="sect3">
<h4 id="security-1"><a class="anchor" href="#security-1"></a>12.3.2. Security</h4>
<div class="paragraph">
<p>Section <a href="#stdbpprops">Standard Properties</a> defines two standard context properties
(<code>javax.xml.ws.security.auth.username</code> and
<code>javax.xml.ws.security.auth.password</code>) that may be used to configure
authentication information.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (HTTP basic authentication support):</em> An implementation of the XML/HTTP
binding MUST support HTTP basic authentication.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Authentication properties):</em> A client side implementation MUST support
use of the the standard properties <code>javax.xml.ws.security.auth.username</code>
and <code>javax.xml.ws.security.auth.password</code> to configure HTTP basic
authentication.</p>
</div>
</div>
<div class="sect3">
<h4 id="session-management-2"><a class="anchor" href="#session-management-2"></a>12.3.3. Session Management</h4>
<div class="paragraph">
<p>Section <a href="#stdbpprops">Standard Properties</a> defines a standard context property
(<code>javax.xml.ws.session.maintain</code>) that may be used to control whether a
client side runtime will join a session initiated by a service.</p>
</div>
<div class="paragraph">
<p>A XML/HTTP binding implementation can use three HTTP mechanisms for
session management:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Cookies</dt>
<dd>
<p>To initiate a session a service includes a cookie in a message sent to
a client. The client stores the cokkie and returns it in subsequest
messages to the service.</p>
</dd>
<dt class="hdlist1">URL rewriting</dt>
<dd>
<p>To initiate a session a service directs a client to a new URL for
subsequent interactions. The new URL contains an encoded session
identifier.</p>
</dd>
<dt class="hdlist1">SSL</dt>
<dd>
<p>The SSL session ID is used to track a session.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><em>♦ Conformance (URL rewriting support)</em> An implementation MUST support use of HTTP URL
rewriting for state management.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (Cookie support):</em> An implementation SHOULD support use of HTTP cookies
for state management.</p>
</div>
<div class="paragraph">
<p><em>♦ Conformance (SSL session support):</em> An implementation MAY support use of SSL session
based state management.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="confreqs"><a class="anchor" href="#confreqs"></a>Appendix A: Conformance Requirements</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="change-log"><a class="anchor" href="#change-log"></a>Appendix B: Change Log</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="changes"><a class="anchor" href="#changes"></a>2.3 Changes</h3>
<div class="ulist">
<ul>
<li>
<p>Changed the definition of the discovery process of
<code>javax.xml.ws.spi.Provider</code> implementation (section <a href="#providerdiscovery">Configuration</a>)</p>
</li>
<li>
<p>Added <code>@Repeateble</code> to <code>@WebServiceClientRef</code></p>
</li>
<li>
<p>Added missing javadoc</p>
</li>
<li>
<p>Added <code>@since</code> to javadoc</p>
</li>
<li>
<p>Updated references from J2SE to Java SE</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="changes-1"><a class="anchor" href="#changes-1"></a>2.2 Changes</h3>
<div class="ulist">
<ul>
<li>
<p>Added <code>@Action</code> generation requirements in SEI (section <a href="#msgandpart">Message and Part</a>)</p>
</li>
<li>
<p>Updated <code>wsa:EndpointReference</code> mapping (section <a href="#w3ceprmapping">W3CEndpointReference</a>)</p>
</li>
<li>
<p>Updated that the use of metadata in <code>mime:content</code> is disabled by
default (section <a href="#mimecontent"><code>mime:content</code></a>)</p>
</li>
<li>
<p>Updated generated service constructor requirements (section
<a href="#gensvcif">Service and Port</a>,<a href="#staticcase">Static case</a>)</p>
</li>
<li>
<p>Updated that static or final methods cannot be web methods (section
<a href="#j2ws11class">Class</a>)</p>
</li>
<li>
<p>Added <code>wsam:Action</code> algorithm and requirements (section <a href="#j2w11method">Method</a>,
<a href="#wsamComputation">wsam:Action Computation Algorithm</a>)</p>
</li>
<li>
<p>Clarified the namespace of the generated JAXB beans (section
<a href="#j2w11methodparams">Method Parameters and Return Type</a>)</p>
</li>
<li>
<p>Added that packaging wrapper beans optional (section
<a href="#j2wsdldocwrapped">Document Wrapped</a>)</p>
</li>
<li>
<p>Added requirements for wsdl:part names in doc/lit wrapper case
(section <a href="#j2wsdldocwrapped">Document Wrapped</a>)</p>
</li>
<li>
<p>Added that @XmlElement can be specified on doc/lit wrapper method
parameters (section <a href="#j2wsdldocwrapped">Document Wrapped</a>)</p>
</li>
<li>
<p>Added wsdl:message naming requirements (section <a href="#j2w11except">Service Specific Exception</a>)</p>
</li>
<li>
<p>Added @XmlType requirements on exception classes (section
<a href="#j2w11except">Service Specific Exception</a>)</p>
</li>
<li>
<p>Clarified the fault bean’s @XmlType requirements (section
<a href="#j2w11except">Service Specific Exception</a>)</p>
</li>
<li>
<p>Added that packaging exception beans optional (section <a href="#j2w11except">Service Specific Exception</a>)</p>
</li>
<li>
<p>Added Use of Addressing requirements in WSDL (section <a href="#j2w11svcports">Service and Ports</a>)</p>
</li>
<li>
<p>Added service creation with web service features (section
<a href="#dynamiccase">Dynamic case</a>)</p>
</li>
<li>
<p>Added W3CEndpointReference requirements (section <a href="#bindingproviderif">javax.xml.ws.BindingProvider</a>,
<a href="#epr5">javax.xml.ws.EndpointReference</a>, <a href="#webservicecontext">javax.xml.ws.WebServiceContext</a>, <a href="#w3cendpointreferencebuilder">javax.xml.ws.wsaddressing.W3CEndpointReferenceBuilder</a>)</p>
</li>
<li>
<p>Added Use of Addressing requirements in proxies (section <a href="#proxies">Proxies</a>)</p>
</li>
<li>
<p>Clarified the empty payload Source for Provider (section
<a href="#providersvcapi">javax.xml.ws.Provider</a>)</p>
</li>
<li>
<p>Clarified oneway invocation for Provider endpoints (section
<a href="#invocation">Invocation</a>)</p>
</li>
<li>
<p>Added features usage with Endpoint API (section <a href="#endpointfactusage">Endpoint Usage</a>,
<a href="#providerendpointcreation">Creating Endpoint Objects</a>)</p>
</li>
<li>
<p>Added HTTP SPI (section <a href="#httpspi">javax.xml.ws.spi.http (HTTP SPI)</a>)</p>
</li>
<li>
<p>Clarified that fully qualified class name can be specified for
generated exception, service classes customizations (section
<a href="#bindingdeclporttypefault">PortType Fault Message</a>, <a href="#bindingdeclservice">Service</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="changes-2"><a class="anchor" href="#changes-2"></a>2.1 Changes</h3>
<div class="ulist">
<ul>
<li>
<p>Added JAXB 2.1 requirement (sections 1.1, 2.4, 3.6.2).</p>
</li>
<li>
<p>Added wsa namespace definition (section 1.5).</p>
</li>
<li>
<p>Added conformance requirement for <code>@XmlSeeAlso</code> annotation (section
2.2).</p>
</li>
<li>
<p>Added conformance requirement for use of JAXB annotations (section
2.3.1).</p>
</li>
<li>
<p>Added clarification that not both input and output messages must be
present for wrapper style (section 2.3.1.2).</p>
</li>
<li>
<p>Added section 2.4.1 <code>W3CEndpointReference</code>.</p>
</li>
<li>
<p>Added <code>getPortName(WebServiceFeature&#8230;&#8203;)</code> method to generated Service
(section 2.7).</p>
</li>
<li>
<p>Added text describing the need to use customizations to resolve some
conflicts (section 3.4).</p>
</li>
<li>
<p>Added conformance requirement to honor JAXB annotations (section 3.6).</p>
</li>
<li>
<p>Added conformance requirement for Exceptions that are NOT service
specific exceptions (section 3.7).</p>
</li>
<li>
<p>Added conformance requirement for
<code>BindingProvider.getEndpointReference</code> (section 4.2).</p>
</li>
<li>
<p>Added new <code>getPort</code> methods on <code>Service</code> that take
<code>WebServiceFeatures</code> and <code>EndpointReference</code> (section 4.2.3).</p>
</li>
<li>
<p>Added text stating that <code>Dispatch</code> and <code>Provider</code> based applications
MUST honor <code>WebServiceFeatures</code> (section 4.3 and 5.1).</p>
</li>
<li>
<p>Added sections <a href="#endpointreference">javax.xml.ws.EndpointReference</a>, <a href="#epr5">javax.xml.ws.EndpointReference</a> and <a href="#epr6">javax.xml.ws.EndpointReference</a>
<code>javax.xml.ws.EndpointReference</code>.</p>
</li>
<li>
<p>Added section 5.4 on
<code>javax.xml.ws.wsaddressing.W3CEndpointReferenceBuilder</code>.</p>
</li>
<li>
<p>Modified description of <code>createEndpoint</code> method to state to cover case
when no binding is specified (section <a href="#providerendpointcreation">Creating Endpoint Objects</a>).</p>
</li>
<li>
<p>Added section <a href="#readepr">EndpointReferences</a> EndpointReferences.</p>
</li>
<li>
<p>Added section <a href="#getport">Getting Port Objects</a> Getting Port Objects.</p>
</li>
<li>
<p>Added section <a href="#webservicefeature">javax.xml.ws.WebServiceFeature</a> javax.xml.ws.WebServiceFeature.</p>
</li>
<li>
<p>Added conformance rquirement for unsupported
<code>WebServiceFeatureAnnotations</code> (section 7).</p>
</li>
<li>
<p>Added <code>Action</code>, <code>FaultAction</code> and <code>WebServiceFeatureAnnotation</code>
annotations (sections 7.12, 7.13 and 7.14).</p>
</li>
<li>
<p>Added <code>javax.xml.ws.reference.parameters</code> standard message context
property (table 9.2).</p>
</li>
<li>
<p>Added section <a href="#addressing">Addressing</a> Addressing.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="changes-since-proposed-final-draft"><a class="anchor" href="#changes-since-proposed-final-draft"></a>Changes since Proposed Final Draft</h3>
<div class="ulist">
<ul>
<li>
<p>Added clarification for usage of
<code>javax.xml.ws.binding.attachments.outbound</code> in Dispatch</p>
</li>
<li>
<p>Added clarification for usage of <code>null</code> in Dispatch (section 4.3).</p>
</li>
<li>
<p>Removed requirement that the ``name'' element of the WebFault
annotation be always present, since this conflicts with 3.7 (section
7.2).</p>
</li>
<li>
<p>Clarified usage of generics in document wrapped case.</p>
</li>
<li>
<p>Added inner class mapping requirements.</p>
</li>
<li>
<p>Rephrased rules on using WebServiceContext so that the limitations
that apply in the Java SE environment are marked as such (section 5.3).</p>
</li>
<li>
<p>Added conformance requirements for RequestWrapper and ResponseWrapper
annotations (section 2.3.1.2).</p>
</li>
<li>
<p>Clarified order of invocation of Handler.close methods (section
9.3.2.3).</p>
</li>
<li>
<p>Clarified requirement on additional context properties and reserved
the java.* and javax.* namespaces for Java specifications (section
4.2.1.2).</p>
</li>
<li>
<p>Added new binding identifiers for SOAP/HTTP bindings with MTOM enabled
(section 10.4.1.1).</p>
</li>
<li>
<p>Added requirement detailing the semantics of ``MTOM enabled'' (section
10.4.1.1).</p>
</li>
<li>
<p>Renamed section 5.2.5 and added new requirements around generation of
the contract for an endpoint (section 5.2.5).</p>
</li>
<li>
<p>Fixed example in figure 3.4 and added requirement on XmlType
annotation on a generated fault bean (section 3.7).</p>
</li>
<li>
<p>Removed references to WSDL 2.0 and updated goals to reflect WSDL 2.0
support will be added a future revision of the specification.</p>
</li>
<li>
<p>Clarified the nillability status of various elements in the Java to
WSDL binding (sections 3.6.2.1, 3.6.2.2); this included adding a new
conformance requirement (section 3.6.2.3).</p>
</li>
<li>
<p>Added a requirement that a class annotated with WebServiceProvider
must not be annotated with WebService (section 7.7).</p>
</li>
<li>
<p>Added a conformance requirement for support of the XML/HTTP binding,
in analogy with the existing requirements for SOAP (section 11.1).</p>
</li>
<li>
<p>Added explicit mention of the predefined binding identifiers (sections
10.4.1 and 11.1).</p>
</li>
<li>
<p>Added requirements around binding identifiers for
implementation-specific bindings (section 6.1).</p>
</li>
<li>
<p>Adding a requirement on dealing with exceptions thrown during handler
processing (section 4.2.4).</p>
</li>
<li>
<p>Removed the javax.xml.ws.servlet.session message context property
(section 9.4.1.1).</p>
</li>
<li>
<p>Fixed erroneous reference to a <code>generated service interface'' in
section 7.9 (the correct terminology is </code>generated service class'').</p>
</li>
<li>
<p>Added javax.xml.ws.WebServiceRefs annotation (section 7.10).</p>
</li>
<li>
<p>Added clarifications for XML / HTTP binding.</p>
</li>
<li>
<p>Corrected signature for <code>Endpoint.create</code> to use String for bindingId.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="changes-since-public-draft"><a class="anchor" href="#changes-since-public-draft"></a>Changes since Public Draft</h3>
<div class="ulist">
<ul>
<li>
<p>Changed endpoint publishing so that endpoints cannot be stopped and
published again multiple times (section 5.2.2).</p>
</li>
<li>
<p>Clarified that request and response beans do not contain properties
corresponding to header parameters (section 3.6.2.1).</p>
</li>
<li>
<p>Clarified that criteria for bare style take only parts bound to the
body into account (section 3.6.2.2).</p>
</li>
<li>
<p>Add a create(Object implementor) to Endpoint to create an Endpoint.</p>
</li>
<li>
<p>Clarified the use of INOUT param with two different MIME bindings in
the input and output messages.</p>
</li>
<li>
<p>Use of WebParam and WebResult partName.</p>
</li>
<li>
<p>Replaced the init/destroy methods of handlers with the PostConstruct
and PreDestroy annotations from JSR-250 (section 9.3.1).</p>
</li>
<li>
<p>Replaced the BeginService/EndService annotations with PostConstruct
and PreDestroy from JSR-250 in endpoint implementors (section 5.2.1).</p>
</li>
<li>
<p>Added WebParam.header WebResult.header usage (section 3.6) and updated
WSDL SOAP HTTP Binding section (3.9.2).</p>
</li>
<li>
<p>Removed requirements to support additional SOAP headers mapping.</p>
</li>
<li>
<p>Added support for DataSource as a message format for Provider and
clarified the requirement for the other supported types (section 5.1).
Same thing for Dispatch (section 4.3).</p>
</li>
<li>
<p>Clarified that LogicalMessageContext.getSource() may return null when
there is no payload associated with the message (section 9.4.2).</p>
</li>
<li>
<p>Clarified that parts bound to mime:content are treated as unlisted
from the point of view of applying the wrapper style rules (section
2.6.3).</p>
</li>
<li>
<p>Removed the ParameterIndex annotation (chapters 3 and 7).</p>
</li>
<li>
<p>Clarified naming rules for generated wrapper elements and their type
(section 3.6.2.1).</p>
</li>
<li>
<p>Clarified that holders should never be used for the return type of a
method (section 2.3.3).</p>
</li>
<li>
<p>Added effect of the BindingType annotation on the generated WSDL
service (sections 3.8 and 3.10).</p>
</li>
<li>
<p>Added condition that the wrapper elements be non-nillable to wrapper
style (section 2.3.1.2).</p>
</li>
<li>
<p>Clarified use of targetNamespace from WebService in an implementation
class and an SEI based on 181 changes.</p>
</li>
<li>
<p>Updated the usage of WebMethod exclude element from Java to WSDL
mapping.</p>
</li>
<li>
<p>Changed the algorithm for the default target namespace from java to
WSDL (section 3.2).</p>
</li>
<li>
<p>Added requirement that a provider’s constructor be public (section
5.1).</p>
</li>
<li>
<p>Fixed some inconsistencies caused by the removal of RemoteException
(e.g. in section 4.2.4).</p>
</li>
<li>
<p>Added service delegate requirements to chapter 4.</p>
</li>
<li>
<p>Added zero-argument public constructor requirement to the
implementation-specific Provider SPI class (section 6.2).</p>
</li>
<li>
<p>Updated use of SOAPBinding on a per method basis in the document style
case and removed editor’s note about SOAPBinding not being allowed on
methods (section 2.3.1 and 3.6.2) .</p>
</li>
<li>
<p>Added portName element to @WebServiceProvider annotation.</p>
</li>
<li>
<p>Added requirement on correctness of annotation to the beginning of
chapter 7.</p>
</li>
<li>
<p>Added requirement for conformance to the JAX-WS profile in JSR-181
(section 7.11).</p>
</li>
<li>
<p>Clarified invocation of Handler.destroy (section 9.3.1).</p>
</li>
<li>
<p>Added use of HandlerChain annotation (section 9.2.1.3).</p>
</li>
<li>
<p>Updated 181 annotations (section 7.11).</p>
</li>
<li>
<p>Added catalog facility (section 4.2.5) and clarified that it is
required to be used when processing endpoint metadata at publishing time
(section 5.2.5) and annotations (chapter 7).</p>
</li>
<li>
<p>Added WebServiceRef annotation (section 7.10).</p>
</li>
<li>
<p>Added restrictions on metadata at the time an endpoint is published
(section 5.2.7).</p>
</li>
<li>
<p>Replaced HandlerRegistry with HandlerResolver (sections 4.2.1,
9.2.1.1, 10.1.1.2, 11.1.1.1). Fixed handler ordering section accordingly
(section 9.2.1.2).</p>
</li>
<li>
<p>Clarified that endpoint properties override the values defined using
the WebServiceProvider annotation (section 5.2.8).</p>
</li>
<li>
<p>Removed mapping of headerfaults (sections 2.6.2.2 and 8.7.6).</p>
</li>
<li>
<p>Split standard message context properties into multiple tables and
added servlet-specific properties (section 9.4.1.1).</p>
</li>
<li>
<p>Added WebServiceContext (section 5.3); refactored message context
section in chapter 5 so that it applies to all kinds of endpoints.</p>
</li>
<li>
<p>Added WebServicePermission (section 5.2.5).</p>
</li>
<li>
<p>Added conformance requirement for one-way operations (section 6.2.2).</p>
</li>
<li>
<p>Added BindingType annotation (section 7.9).</p>
</li>
<li>
<p>Added requirement the provider endpoint implementation class carry a
WebServiceProvider annotation (section 5.1).</p>
</li>
<li>
<p>Fixed RequestWrapper and ResponseWrapper description to use that they
can be applied to the methods of an SEI (sections 7.4 and 7.5).</p>
</li>
<li>
<p>Fixed package name for javax.xml.ws.Provider and updated section with
WebServiceProvider annotation (section 5.1).</p>
</li>
<li>
<p>Added WebServiceProvider annotation in <code>javax.xml.ws</code> package (section
7.8).</p>
</li>
<li>
<p>Changed Factory pattern to use javax.xml.ws.spi.Provider</p>
</li>
<li>
<p>Removed javax.xml.ws.EndpointFactory (section 5.2).</p>
</li>
<li>
<p>Removed javax.xml.ws.Servicefactory (section 4.1).</p>
</li>
<li>
<p>Removed definition of message-level security annotations (section
7.1), their use (sections 4.2.2 and 6.1.1) and the corresponding message
context property (in section 9.4).</p>
</li>
<li>
<p>Removed WSDL 2.0 mapping (appendices A and B).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="changes-since-early-draft-3"><a class="anchor" href="#changes-since-early-draft-3"></a>Changes Since Early Draft 3</h3>
<div class="ulist">
<ul>
<li>
<p>Added requirements on mapping @WebService-annotated Java classes to
WSDL.</p>
</li>
<li>
<p>Removed references to the RMI classes that JAX-RPC 1.1 used to denote
remoteness, since their role is now taken by annotations:
<code>java.rmi.Remote</code> and <code>java.rmi.RemoteException</code>.</p>
</li>
<li>
<p>Added <a href="#endpointif">javax.xml.ws.Endpoint</a> on the new Endpoint API.</p>
</li>
<li>
<p>Added the following new annotation types: @RequestWrapper,
@ResponseWrapper, @WebServiceClient, @WebEndpoint.</p>
</li>
<li>
<p>Added the createService(Class serviceInterface) method to
ServiceFactory.</p>
</li>
<li>
<p>Renamed the Service.createPort method to Service.addPort.</p>
</li>
<li>
<p>Added MTOMEnabled property to SOAPBinding.</p>
</li>
<li>
<p>Removed the HTTP method getter/setter from HTTPBinding and replaced
them with a new message context property called
javax.xml.ws.http.request.method.</p>
</li>
<li>
<p>In section <a href="#soapmuprocrules">SOAP <code>mustUnderstand</code> Processing</a> clarified that SOAP headers directly
supported by a binding must be treated as understood when processing
mustUnderstand attributes.</p>
</li>
<li>
<p>Added getStackTrace to the list of getters defined on
java.lang.Throwable with must not be mapped to fault bean properties.</p>
</li>
<li>
<p>In section <a href="#stdbpprops">Standard Properties</a>, removed the requirement that an exception be
thrown if the application attempts to set an unknown or unsupported
property on a binding provider, since there are no stub-specific
properties any more, only those in the request context.</p>
</li>
<li>
<p>Changed the client API chapter to reflect the annotation-based
runtime. In particular, the distinction between generated stubs and
dynamic proxies disappeared, and the spec now simply talks about
proxies.</p>
</li>
<li>
<p>Changed JAX-RPC to JAX-WS, javax.xml.rpc.xxx to javax.xml.ws.xxx.
Reflected resulting changes made to APIs.</p>
</li>
<li>
<p>Added new context properties to provide access to HTTP headers and
status code.</p>
</li>
<li>
<p>Added new XML/HTTP Binding, see chapter <a href="#xmlbindchap">HTTP Binding</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="changes-since-early-draft-2"><a class="anchor" href="#changes-since-early-draft-2"></a>Changes Since Early Draft 2</h3>
<div class="ulist">
<ul>
<li>
<p>Renamed <code>element'' attribute of the jaxws:parameter annotation to
</code>childParameterName'' for clarity, see sections
<a href="#bindingdeclporttypeoperation">PortType Operation</a> and <a href="#bindingdeclbindingoperation">Binding Operation</a>.</p>
</li>
<li>
<p>Added javax.xml.ws.ServiceMode annotation type, see section
<a href="#mdservicemode">javax.xml.ws.ServiceMode</a>.</p>
</li>
<li>
<p>Fixed example of external binding file to use a schema annotation, see
section <a href="#externalbindingfile">External Binding File</a>.</p>
</li>
<li>
<p>Modified Dispatch so it can be used with multiple message types and
either message payloads or entire messages, see section <a href="#dispatch">javax.xml.ws.Dispatch</a>.</p>
</li>
<li>
<p>Modified Provider so it can be used with multiple message types and
either message payloads or entire messages, see section
<a href="#providersvcapi">javax.xml.ws.Provider</a>.</p>
</li>
<li>
<p>Added new annotation for generated exceptions, see section
<a href="#mdwebfault">javax.xml.ws.WebFault</a>.</p>
</li>
<li>
<p>Added default Java package name to WSDL targetNamespace mapping
algorithm, see section <a href="#j2w11package">Package</a>.</p>
</li>
<li>
<p>Added ordering to properties in request and response beans for
doc/lit/wrapped, see section <a href="#j2wsdldocwrapped">Document Wrapped</a>.</p>
</li>
<li>
<p>Clarified that SEI method should throw JAX-RPC exception with a cause
of any runtime exception thrown during local processing, see section
<a href="#stubexceptions">Exceptions</a>.</p>
</li>
<li>
<p>Removed requirement that SEIs MUST NOT have constants, see section
<a href="#j2wsdl11interface">Interface</a>.</p>
</li>
<li>
<p>Updated document bare mapping to clarify that <code>@WebParam</code> and
<code>@WebResult</code> can be used to customize the generated global element
names, see section <a href="#j2wsdl11docbaremap">Document Bare</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="changes-since-early-draft-1"><a class="anchor" href="#changes-since-early-draft-1"></a>Changes Since Early Draft 1</h3>
<div class="ulist">
<ul>
<li>
<p>Added chapter <a href="#serviceapis">Service APIs</a> Service APIs.</p>
</li>
<li>
<p>Added chapter <a href="#wsdl202java">[wsdl202java]</a> WSDL 2.0 to Java Mapping.</p>
</li>
<li>
<p>Added chapter <a href="#j2wsdl20chap">[j2wsdl20chap]</a> Java to WSDL 2.0 Mapping.</p>
</li>
<li>
<p>Added mapping from Java to <code>wsdl:service</code> and <code>wsdl:port</code>, see
sections <a href="#j2w11bindif">Interface</a>, <a href="#j2w11soapbindif">Interface</a> and <a href="#j2w11svcports">Service and Ports</a>.</p>
</li>
<li>
<p>Fixed section <a href="#wsdl11typemapping">Types</a> to allow use of JAXB interface based
mapping.</p>
</li>
<li>
<p>Added support for document/literal/bare mapping in Java to WSDL
mapping, see section <a href="#j2w11methodparams">Method Parameters and Return Type</a>.</p>
</li>
<li>
<p>Added conformance requirement to describe the expected behaviour when
two or more faults refer to the same global element, see section
<a href="#faulttoexceptmap">Fault</a>.</p>
</li>
<li>
<p>Added resolution to issue regarding binding of duplicate headers, see
section <a href="#wsdl11headbindext">Header Binding Extension</a>.</p>
</li>
<li>
<p>Added use of JAXB ns URI to Java package name mapping, see section
<a href="#wsdl11defmap">Definitions</a>.</p>
</li>
<li>
<p>Added use of JAXB package name to ns URI mapping, see section
<a href="#j2w11package">Package</a>.</p>
</li>
<li>
<p>Introduced new typographic convention to clearly mark non-normative
notes.</p>
</li>
<li>
<p>Removed references to J2EE and JNDI usage from ServiceFactory
description, see section <a href="#svcfactusage">[svcfactusage]</a>.</p>
</li>
<li>
<p>Clarified relationship between TypeMappingRegistry and JAXB.</p>
</li>
<li>
<p>Emphasized control nature of context properties, added lifecycle
subsection.</p>
</li>
<li>
<p>Clarified fixed binding requirement for proxies.</p>
</li>
<li>
<p>Added section for SOAP proocol bindings <a href="#soapbindprotocols">SOAP Transport and Transfer Bindings</a>. The HTTP
subsection of this now contains much of the mterial from the JAX-RPC 1.1
Runtime Services chapter.</p>
</li>
<li>
<p>Clarified that async methods are added to the regular sync SEI when
async mapping is enabled rather than to a separate async-only SEI, see
section <a href="#wsdl11asyncmethod">Asynchrony</a>.</p>
</li>
<li>
<p>Added support for WSDL MIME binding, see section
<a href="#wsdl11mimebindingmap">MIME Binding</a>.</p>
</li>
<li>
<p>Clarified that fault mapping should only generate a single exception
for each equivalent set of faults, see section <a href="#faulttoexceptmap">Fault</a>.</p>
</li>
<li>
<p>Added property for message attachments.</p>
</li>
<li>
<p>Removed element references to anonymous type as valid for wrapper
style mapping (this doesn’t prevent substitution as orignally thought),
see section <a href="#wrappedstyle">Wrapper Style</a>.</p>
</li>
<li>
<p>Removed implementation specific methods from generated service
interfaces, see section <a href="#gensvcif">Service and Port</a>.</p>
</li>
<li>
<p>Clarified behaviour under fault condition for asynchronous operation
mapping, see section <a href="#wsdl112jasyncfaults">Faults</a>.</p>
</li>
<li>
<p>Clarified that additional parts mapped using soapbind:header cannot be
mapped to a method return type, see section <a href="#paramorderandreturn">Parameter Order and Return Type</a>.</p>
</li>
<li>
<p>Added new section to clarify mapping from exception to SOAP fault, see
<a href="#mapextosoapfault">Mapping Exceptions to SOAP Faults</a>.</p>
</li>
<li>
<p>Clarified meaning of <em>other</em> in the handler processing section, see
<a href="#handlerexecution">Handler Execution</a>.</p>
</li>
<li>
<p>Added a section to clarify Stub use of RemoteException and
JAXRPCException, see <a href="#stubexceptions">Exceptions</a>.</p>
</li>
<li>
<p>Added new Core API chapter and rearranged sections into Core, Client
and Server API chapters.</p>
</li>
<li>
<p>Changes for context refactoring, removed message context properties
that previously held request/response contexts on client side, added
description of rules for moving between jaxws context and message
context boundaries.</p>
</li>
<li>
<p>Removed requirement for Response.get to throw JAXRPCException, now
throws standard java.util.concurrent.ExecutionException instead.</p>
</li>
<li>
<p>Added security API information, see sections <a href="#servicesecurityconfig">[servicesecurityconfig]</a>
and <a href="#bindingmsgsec">[bindingmsgsec]</a>.</p>
</li>
<li>
<p>Clarrified SOAP mustUnderstand processing, see section
<a href="#soapmuprocrules">SOAP <code>mustUnderstand</code> Processing</a>. Made it clear that the handler rather than the
HandlerInfo is authoritative wrt which protocol elements (e.g. SOAP
headers) it processes.</p>
</li>
<li>
<p>Updated exception mapping for Java to WSDL since JAXB does not
envision mapping exception classes directly, see section <a href="#j2w11except">Service Specific Exception</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bibliography"><a class="anchor" href="#bibliography"></a>Bibliography</h2>
<div class="sectionbody">
<div class="ulist bibliography">
<ul class="bibliography">
<li>
<p><a id="bib1"></a>[1] Tim Bray, Jean Paoli, C. M. Sperberg-McQueen, and Eve Maler. Extensible Markup Language
(XML) 1.0 (Second Edition). Recommendation, W3C, October 2000. See
<a href="http://www.w3.org/TR/2000/REC-xml-20001006" class="bare">http://www.w3.org/TR/2000/REC-xml-20001006</a>.</p>
</li>
<li>
<p><a id="bib2"></a>[2] Don Box, David Ehnebuske, Gopal Kakivaya, Andrew Layman, Noah Mendelsohn, Henrik Nielsen,
Satish Thatte, and Dave Winer. Simple Object Access Protocol (SOAP) 1.1. Note, W3C, May 2000.
See <a href="http://www.w3.org/TR/SOAP/" class="bare">http://www.w3.org/TR/SOAP/</a>.</p>
</li>
<li>
<p><a id="bib3"></a>[3] Martin Gudgin, Marc Hadley, Noah Mendelsohn, Jean-Jacques Moreau, and Henrik Frystyk Nielsen.
SOAP Version 1.2 Part 1: Messaging Framework. Recommendation, W3C, June 2003. See
<a href="http://www.w3.org/TR/2003/REC-soap12-part1-20030624" class="bare">http://www.w3.org/TR/2003/REC-soap12-part1-20030624</a>.</p>
</li>
<li>
<p><a id="bib4"></a>[4] Martin Gudgin, Marc Hadley, Noah Mendelsohn, Jean-Jacques Moreau, and Henrik Frystyk Nielsen.
SOAP Version 1.2 Part 2: Adjuncts. Recommendation, W3C, June 2003. See
<a href="http://www.w3.org/TR/2003/REC-soap12-part2-20030624" class="bare">http://www.w3.org/TR/2003/REC-soap12-part2-20030624</a>.</p>
</li>
<li>
<p><a id="bib5"></a>[5] Erik Christensen, Francisco Curbera, Greg Meredith, and Sanjiva Weerawarana. Web Services
Description Language (WSDL) 1.1. Note, W3C, March 2001. See
<a href="http://www.w3.org/TR/2001/NOTE-wsdl-20010315" class="bare">http://www.w3.org/TR/2001/NOTE-wsdl-20010315</a>.</p>
</li>
<li>
<p><a id="bib6"></a>[6] Rahul Sharma. The Java API for XML Based RPC (JAX-RPC) 1.0. JSR, JCP, June 2002. See
<a href="http://jcp.org/en/jsr/detail?id=101" class="bare">http://jcp.org/en/jsr/detail?id=101</a>.</p>
</li>
<li>
<p><a id="bib7"></a>[7] Roberto Chinnici. The Java API for XML Based RPC (JAX-RPC) 1.1. Maintenance JSR, JCP,
August 2003. See <a href="http://jcp.org/en/jsr/detail?id=101" class="bare">http://jcp.org/en/jsr/detail?id=101</a>.</p>
</li>
<li>
<p><a id="bib8"></a>[8] Keith Ballinger, David Ehnebuske, Martin Gudgin, Mark Nottingham, and Prasad Yendluri. Basic
Profile Version 1.0. Final Material, WS-I, April 2004. See
<a href="http://www.ws-i.org/Profiles/BasicProfile-1.0-2004-04-16.html" class="bare">http://www.ws-i.org/Profiles/BasicProfile-1.0-2004-04-16.html</a>.</p>
</li>
<li>
<p><a id="bib9"></a>[9] Joseph Fialli and Sekhar Vajjhala. The Java Architecture for XML Binding (JAXB). JSR, JCP,
January 2003. See <a href="http://jcp.org/en/jsr/detail?id=31" class="bare">http://jcp.org/en/jsr/detail?id=31</a>.</p>
</li>
<li>
<p><a id="bib10"></a>[10] Joseph Fialli and Sekhar Vajjhala. The Java Architecture for XML Binding (JAXB) 2.0. JSR, JCP,
August 2003. See <a href="http://jcp.org/en/jsr/detail?id=222" class="bare">http://jcp.org/en/jsr/detail?id=222</a>.</p>
</li>
<li>
<p><a id="bib11"></a>[11] Kohsuke Kawaguchi. The Java Architecture for XML Binding (JAXB) 2.1. JSR, JCP, August 2003.
See <a href="http://jcp.org/en/jsr/detail?id=222" class="bare">http://jcp.org/en/jsr/detail?id=222</a>.</p>
</li>
<li>
<p><a id="bib12"></a>[12] Kohsuke Kawaguchi. The Java Architecture for XML Binding (JAXB) 2.2. JSR, JCP, August 2009.
See <a href="http://jcp.org/en/jsr/detail?id=222" class="bare">http://jcp.org/en/jsr/detail?id=222</a>.</p>
</li>
<li>
<p><a id="bib13"></a>[13] Kohsuke Kawaguchi. The Java Architecture for XML Binding (JAXB) 2.3. JSR, JCP, July 2017. See
<a href="http://jcp.org/en/jsr/detail?id=222" class="bare">http://jcp.org/en/jsr/detail?id=222</a>.</p>
</li>
<li>
<p><a id="bib14"></a>[14] Roberto Chinnici, Martin Gudgin, Jean-Jacques Moreau, Jeffrey Schlimmer, and Sanjiva
Weerawarana. Web Services Description Language (WSDL) Version 2.0 Part 1: Core Language.
Working Draft, W3C, August 2004. See <a href="http://www.w3.org/TR/2004/WD-wsdl20-20040803" class="bare">http://www.w3.org/TR/2004/WD-wsdl20-20040803</a>.</p>
</li>
<li>
<p><a id="bib15"></a>[15] Joshua Bloch. A Metadata Facility for the Java Programming Language. JSR, JCP, August 2003. See
<a href="http://jcp.org/en/jsr/detail?id=175" class="bare">http://jcp.org/en/jsr/detail?id=175</a>.</p>
</li>
<li>
<p><a id="bib16"></a>[16] Jim Trezzo. Web Services Metadata for the Java Platform. JSR, JCP, August 2003. See
<a href="http://jcp.org/en/jsr/detail?id=181" class="bare">http://jcp.org/en/jsr/detail?id=181</a>.</p>
</li>
<li>
<p><a id="bib17"></a>[17] Jim Knutson and Heather Kreger. Web Services for J2EE. JSR, JCP, September 2002. See
<a href="http://jcp.org/en/jsr/detail?id=109" class="bare">http://jcp.org/en/jsr/detail?id=109</a>.</p>
</li>
<li>
<p><a id="bib18"></a>[18] Nataraj Nagaratnam. Web Services Message Security APIs. JSR, JCP, April 2002. See
<a href="http://jcp.org/en/jsr/detail?id=183" class="bare">http://jcp.org/en/jsr/detail?id=183</a>.</p>
</li>
<li>
<p><a id="bib19"></a>[19] Farrukh Najmi. Java API for XML Registries 1.0 (JAXR). JSR, JCP, June 2002. See
<a href="http://www.jcp.org/en/jsr/detail?id=93" class="bare">http://www.jcp.org/en/jsr/detail?id=93</a>.</p>
</li>
<li>
<p><a id="bib20"></a>[20] Keith Ballinger, David Ehnebuske, Chris Ferris, Martin Gudgin, Canyang Kevin Liu, Mark
Nottingham, Jorgen Thelin, and Prasad Yendluri. Basic Profile Version 1.1. Final Material, WS-I,
August 2004. See <a href="http://www.ws-i.org/Profiles/BasicProfile-1.1-2004-08-24.html" class="bare">http://www.ws-i.org/Profiles/BasicProfile-1.1-2004-08-24.html</a>.</p>
</li>
<li>
<p><a id="bib21"></a>[21] T. Berners-Lee, R. Fielding, and L. Masinter. RFC 2396: Uniform Resource Identifiers (URI):
Generic Syntax. RFC, IETF, March 1997. See <a href="http://www.ietf.org/rfc/rfc2396.txt" class="bare">http://www.ietf.org/rfc/rfc2396.txt</a>.</p>
</li>
<li>
<p><a id="bib22"></a>[22] S. Bradner. RFC 2119: Keywords for use in RFCs to Indicate Requirement Levels. RFC, IETF,
March 1997. See <a href="http://www.ietf.org/rfc/rfc2119.txt" class="bare">http://www.ietf.org/rfc/rfc2119.txt</a>.</p>
</li>
<li>
<p><a id="bib23"></a>[23] John Cowan and Richard Tobin. XML Information Set. Recommendation, W3C, October 2001. See
<a href="http://www.w3.org/TR/2001/REC-xml-infoset-20011024/" class="bare">http://www.w3.org/TR/2001/REC-xml-infoset-20011024/</a>.</p>
</li>
<li>
<p><a id="bib24"></a>[24] Henry S. Thompson, David Beech, Murray Maloney, and Noah Mendelsohn. XML Schema Part 1:
Structures. Recommendation, W3C, May 2001. See
<a href="http://www.w3.org/TR/2001/REC-xmlschema-1-20010502/" class="bare">http://www.w3.org/TR/2001/REC-xmlschema-1-20010502/</a>.</p>
</li>
<li>
<p><a id="bib25"></a>[25] Paul V. Biron and Ashok Malhotra. XML Schema Part 2: Datatypes. Recommendation, W3C, May
+2001. See <a href="http://www.w3.org/TR/2001/REC-xmlschema-2-20010502/" class="bare">http://www.w3.org/TR/2001/REC-xmlschema-2-20010502/</a>.</p>
</li>
<li>
<p><a id="bib26"></a>[26] Tony Rogers Marting Gudgin, Marc Hadley. Web services addressing 1.0 - core. Recommendation,
W3C, May 2006. See <a href="http://www.w3.org/TR/2006/REC-ws-addr-core-20060509/" class="bare">http://www.w3.org/TR/2006/REC-ws-addr-core-20060509/</a>.</p>
</li>
<li>
<p><a id="bib27"></a>[27] Marting Gudgin, Marc Hadley, Tony Rogers, and Umit Yalcinalp. Web Services Addressing 1.0 -
Metadata. Recommendation, W3C, September 2007. See
<a href="http://www.w3.org/TR/2007/REC-ws-addr-metadata-20070904" class="bare">http://www.w3.org/TR/2007/REC-ws-addr-metadata-20070904</a>.</p>
</li>
<li>
<p><a id="bib28"></a>[28] Asir S Vedamuthu, David Orchard, Frederick Hirsch, Maryann Hondo, Prasad Yendluri, Toufic
Boubez, and Umit Yalcinalp. Web Services Services Policy 1.5 - Framework. Recommendation,
W3C, September 2007. See <a href="http://www.w3.org/TR/2007/REC-ws-policy-20070904" class="bare">http://www.w3.org/TR/2007/REC-ws-policy-20070904</a>.</p>
</li>
<li>
<p><a id="bib29"></a>[29] James Gosling, Bill Joy, Guy Steele, and Gilad Bracha. The Java Language Specification - second
edition. Book, Sun Microsystems, Inc, 2000.
<a href="http://java.sun.com/docs/books/jls/second" class="bare">http://java.sun.com/docs/books/jls/second</a> edition/html/j.title.doc.html.</p>
</li>
<li>
<p><a id="bib30"></a>[30] Martin Gudgin, Noah Mendelsohn, Mark Nottingham, and Herve Ruellan. SOAP Message
Transmission Optimization Mechanism. Recommendation, W3C, January 2005.
<a href="http://www.w3.org/TR/soap12-mtom/" class="bare">http://www.w3.org/TR/soap12-mtom/</a>.</p>
</li>
<li>
<p><a id="bib31"></a>[31] Martin Gudgin, Noah Mendelsohn, Mark Nottingham, and Herve Ruellan. XML-binary Optimized
Packaging. Recommendation, W3C, January 2005. <a href="http://www.w3.org/TR/xop10/" class="bare">http://www.w3.org/TR/xop10/</a>.</p>
</li>
<li>
<p><a id="bib32"></a>[32] Mark Nottingham. Simple SOAP Binding Profile Version 1.0. Working Group Draft, WS-I, August
+2004. See <a href="http://www.ws-i.org/Profiles/SimpleSoapBindingProfile-1.0-2004-08-24.html" class="bare">http://www.ws-i.org/Profiles/SimpleSoapBindingProfile-1.0-2004-08-24.html</a>.</p>
</li>
<li>
<p><a id="bib33"></a>[33] Chris Ferris, Anish Karmarkar, and Canyang Kevin Liu. Attachments Profile Version 1.0. Final
Material, WS-I, August 2004. See
<a href="http://www.ws-i.org/Profiles/AttachmentsProfile-1.0-2004-08-24.html" class="bare">http://www.ws-i.org/Profiles/AttachmentsProfile-1.0-2004-08-24.html</a>.</p>
</li>
<li>
<p><a id="bib34"></a>[34] Norm Walsh. XML Catalogs 1.1. OASIS Committee Specification, OASIS, July 2005. See
<a href="http://www.oasis-open.org/committees/download.php/14041/xml-catalogs.html" class="bare">http://www.oasis-open.org/committees/download.php/14041/xml-catalogs.html</a>.</p>
</li>
<li>
<p><a id="bib35"></a>[35] Rajiv Mordani. Common Annotations for the Java Platform. JSR, JCP, July 2005. See
<a href="http://jcp.org/en/jsr/detail?id=250" class="bare">http://jcp.org/en/jsr/detail?id=250</a>.</p>
</li>
<li>
<p><a id="bib36"></a>[36] Bill Shannon. Java Platform Enterprise Edition 5 Specification. JSR, JCP, August 2005. See
<a href="http://jcp.org/en/jsr/detail?id=244" class="bare">http://jcp.org/en/jsr/detail?id=244</a>.</p>
</li>
<li>
<p><a id="bib37"></a>[37] Tony Rogers Marting Gudgin, Marc Hadley. Web services addressing 1.0 - soap binding.
Recommendation, W3C, May 2006. See <a href="http://www.w3.org/TR/2006/REC-ws-addr-soap-20060509/" class="bare">http://www.w3.org/TR/2006/REC-ws-addr-soap-20060509/</a>.</p>
</li>
<li>
<p><a id="bib38"></a>[38] John Barton, Satish Thatte, and Henrik Frystyk Nielsen. SOAP Messages With Attachments. Note,
W3C, December 2000. <a href="http://www.w3.org/TR/SOAP-attachments" class="bare">http://www.w3.org/TR/SOAP-attachments</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Errors that occur during the invocation are reported when the client attempts to retrieve the results of the operation, see section <a href="#wsdl112jasyncfaults">Faults</a>.
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. JAXB maps an element declaration to a Java instance that implements JAXBElement.
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. WS-I Basic Profile<a href="#bib20">[20
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. Multiple <code>mime:content</code> elements for the same part indicate a set of permissible alternate types.
</div>
<div class="footnote" id="_footnotedef_5">
<a href="#_footnoteref_5">5</a>. The <code>javax.jws.WebParam</code> and <code>javax.jws.WebResult</code> annotations can introduce additional parts into messages when the <code>header</code> element is <code>true</code>.
</div>
<div class="footnote" id="_footnotedef_6">
<a href="#_footnoteref_6">6</a>. Use of <code>RPC</code> style requires use of <code>WRAPPED</code> parameter style. Deviations from this is an error
</div>
<div class="footnote" id="_footnotedef_7">
<a href="#_footnoteref_7">7</a>. The invocation is logically non-blocking so detection of errors during operation invocation is dependent on the underlying protocol in use. For SOAP/HTTP it is possible that certain HTTP level errors may be detected.
</div>
<div class="footnote" id="_footnotedef_8">
<a href="#_footnoteref_8">8</a>. Outbound exceptions are exceptions thrown by a handler that result in the message direction being set to outbound according to the rules in section <a href="#handlerexecution">Handler Execution</a>.
</div>
<div class="footnote" id="_footnotedef_9">
<a href="#_footnoteref_9">9</a>. For a request-response MEP, if the message direction is reversed during processing of a request message then the message becomes a response message. Subsequent handler processing takes this change into account.
</div>
<div class="footnote" id="_footnotedef_10">
<a href="#_footnoteref_10">10</a>. Next in this context means the next handler taking into account the message direction reversal
</div>
<div class="footnote" id="_footnotedef_11">
<a href="#_footnoteref_11">11</a>. The handler may have already converted the message to a fault message, in which case no change is made.
</div>
<div class="footnote" id="_footnotedef_12">
<a href="#_footnoteref_12">12</a>. JAX-WS inherits the JAXB support for the SOAP MTOM<a href="#bib30">[30
</div>
<div class="footnote" id="_footnotedef_13">
<a href="#_footnoteref_13">13</a>. If the exception is a HTTPException or has a cause that is a HTTPException .
</div>
</div>
<div id="footer">
<div id="footer-text">
 3.0<br>
Last updated 2020-07-27 20:10:25 -0600
</div>
</div>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</body>
</html>